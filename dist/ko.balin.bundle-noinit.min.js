(function(d){function k(a){return a?"object"==typeof a||"function"==typeof a:!1}if(!d.Proxy){var l=null;d.Proxy=function(a,b){if(!k(a)||!k(b))throw new TypeError("Cannot create proxy with a non-object as target or handler");var d=function(){};l=function(){d=function(c){throw new TypeError("Cannot perform '"+c+"' on a proxy that has been revoked");}};var f=b;b={get:null,set:null,apply:null,construct:null};for(var g in f){if(!(g in b))throw new TypeError("Proxy polyfill does not support trap '"+g+"'");
b[g]=f[g]}"function"==typeof f&&(b.apply=f.apply.bind(f));var e=this,m=!1,n="function"==typeof a;if(b.apply||b.construct||n)e=function(){var c=this&&this.constructor===e;d(c?"construct":"apply");if(c&&b.construct)return b.construct.call(this,a,arguments);if(!c&&b.apply)return b.apply(a,this,arguments);if(n)return c?(c=Array.prototype.slice.call(arguments),c.unshift(a),new (a.bind.apply(a,c))):a.apply(this,arguments);throw new TypeError(c?"not a constructor":"not a function");},m=!0;var p=b.get?function(c){d("get");
return b.get(this,c,e)}:function(c){d("get");return this[c]},r=b.set?function(c,a){d("set");b.set(this,c,a,e)}:function(a,b){d("set");this[a]=b},q={};Object.getOwnPropertyNames(a).forEach(function(c){if(!(m&&c in e)){var b={enumerable:!!Object.getOwnPropertyDescriptor(a,c).enumerable,get:p.bind(a,c),set:r.bind(a,c)};Object.defineProperty(e,c,b);q[c]=!0}});f=!0;Object.setPrototypeOf?Object.setPrototypeOf(e,Object.getPrototypeOf(a)):e.__proto__?e.__proto__=a.__proto__:f=!1;if(b.get||!f)for(var h in a)q[h]||
Object.defineProperty(e,h,{get:p.bind(a,h)});Object.seal(a);Object.seal(e);return e};d.Proxy.revocable=function(a,b){return{proxy:new d.Proxy(a,b),revoke:l}};d.Proxy.revocable=d.Proxy.revocable;d.Proxy=d.Proxy}})(window);

/* (The MIT License)
 *
 * Copyright (c) 2012 Brandon Benvie <http://bbenvie.com>
 */

void function(c,h,a){function define(c,a,b){return typeof a==='function'&&(b=a,a=nameOf(b).replace(/_$/,'')),e(c,a,{configurable:!0,writable:!0,value:b})}function nameOf(a){return typeof a!=='function'?'':'name'in a?a.name:i.call(a).match(j)[1]}function createStorage(b){function storage(e,d){return d||arguments.length===2?c.set(e,d):(d=c.get(e),d===a&&(d=b(e),c.set(e,d))),d}var c=new WeakMap;return b||(b=k),storage}var l=Object.getOwnPropertyNames,e=Object.defineProperty,i=Function.prototype.toString,f=Object.create,g=Object.prototype.hasOwnProperty,j=/^\n?function\s?(\w*)?_?\(/;var b=function(){function b(){var a=d(),c={};this.unlock=function(h){var b=k(h);if(g.call(b,a))return b[a](c);var d=f(null,i);return e(b,a,{value:new Function('s','l',j)(c,d)}),d}}var i={value:{writable:!0,value:a}},j='return function(k){if(k===s)return l}',h=f(null),d=function(){var a=Math.random().toString(36).slice(2);return a in h?d():h[a]=a},c=d(),k=function(a){if(g.call(a,c))return a[c];if(!Object.isExtensible(a))throw new TypeError('Object must be extensible');var b=f(null);return e(a,c,{value:b}),b};return define(Object,function getOwnPropertyNames(b){var a=l(b);return g.call(b,c)&&a.splice(a.indexOf(c),1),a}),define(b.prototype,function get(a){return this.unlock(a).value}),define(b.prototype,function set(a,b){this.unlock(a).value=b}),b}();var d=function(i){function WeakMap(a){if(this===c||this==null||this===WeakMap.prototype)return new WeakMap(a);l(this,new b),m(this,a)}function get(b){e(b);var c=d(this).get(b);return c===h?a:c}function set(b,c){e(b),d(this).set(b,c===a?h:c)}function has(b){return e(b),d(this).get(b)!==a}function delete_(b){e(b);var c=d(this),f=c.get(b)!==a;return c.set(b,a),f}function toString(){return d(this),'[object WeakMap]'}var e=function(a){if(a==null||typeof a!=='object'&&typeof a!=='function')throw new TypeError('Invalid WeakMap key')};var l=function(b,c){var a=i.unlock(b);if(a.value)throw new TypeError('Object is already a WeakMap');a.value=c};var d=function(b){var a=i.unlock(b).value;if(!a)throw new TypeError('WeakMap is not generic');return a};var m=function(b,a){a!==null&&typeof a==='object'&&typeof a.forEach==='function'&&a.forEach(function(c,d){c instanceof Array&&c.length===2&&set.call(b,a[d][0],a[d][1])})};try{var f=('return '+delete_).replace('e_','\\u0065'),j=new Function('unwrap','validate',f)(d,e)}catch(a){var j=delete_}var f=(''+Object).split('Object');var g=function toString(){return f[0]+nameOf(this)+f[1]};define(g,g);var k={__proto__:[]}instanceof Array?function(a){a.__proto__=g}:function(a){define(a,g)};return k(WeakMap),[toString,get,set,has,j].forEach(function(a){define(WeakMap.prototype,a),k(a)}),WeakMap}(new b);var k=Object.create?function(){return Object.create(null)}:function(){return{}};typeof module!=='undefined'?module.exports=d:typeof exports!=='undefined'?exports.WeakMap=d:!('WeakMap'in c)&&(c.WeakMap=d),d.createStorage=createStorage,c.WeakMap&&(c.WeakMap.createStorage=createStorage)}((0,eval)('this'))

/*!
 * Knockout JavaScript library v3.4.2
 * (c) The Knockout.js team - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */

(function() {(function(n){var x=this||(0,eval)("this"),t=x.document,M=x.navigator,u=x.jQuery,H=x.JSON;(function(n){"function"===typeof define&&define.amd?define(["exports","require"],n):"object"===typeof exports&&"object"===typeof module?n(module.exports||exports):n(x.ko={})})(function(N,O){function J(a,c){return null===a||typeof a in R?a===c:!1}function S(b,c){var d;return function(){d||(d=a.a.setTimeout(function(){d=n;b()},c))}}function T(b,c){var d;return function(){clearTimeout(d);d=a.a.setTimeout(b,c)}}function U(a,
c){c&&c!==E?"beforeChange"===c?this.Ob(a):this.Ja(a,c):this.Pb(a)}function V(a,c){null!==c&&c.k&&c.k()}function W(a,c){var d=this.Mc,e=d[s];e.T||(this.ob&&this.Oa[c]?(d.Sb(c,a,this.Oa[c]),this.Oa[c]=null,--this.ob):e.s[c]||d.Sb(c,a,e.t?{$:a}:d.yc(a)),a.Ha&&a.Hc())}function K(b,c,d,e){a.d[b]={init:function(b,g,h,l,m){var k,r;a.m(function(){var q=g(),p=a.a.c(q),p=!d!==!p,A=!r;if(A||c||p!==k)A&&a.xa.Ca()&&(r=a.a.wa(a.f.childNodes(b),!0)),p?(A||a.f.fa(b,a.a.wa(r)),a.hb(e?e(m,q):m,b)):a.f.za(b),k=p},null,
{i:b});return{controlsDescendantBindings:!0}}};a.h.va[b]=!1;a.f.aa[b]=!0}var a="undefined"!==typeof N?N:{};a.b=function(b,c){for(var d=b.split("."),e=a,f=0;f<d.length-1;f++)e=e[d[f]];e[d[d.length-1]]=c};a.H=function(a,c,d){a[c]=d};a.version="3.4.2";a.b("version",a.version);a.options={deferUpdates:!1,useOnlyNativeEvents:!1};a.a=function(){function b(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function c(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function d(a,b){a.__proto__=
b;return a}function e(b,c,d,e){var m=b[c].match(r)||[];a.a.r(d.match(r),function(b){a.a.ra(m,b,e)});b[c]=m.join(" ")}var f={__proto__:[]}instanceof Array,g="function"===typeof Symbol,h={},l={};h[M&&/Firefox\/2/i.test(M.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];h.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");b(h,function(a,b){if(b.length)for(var c=0,d=b.length;c<d;c++)l[b[c]]=a});var m={propertychange:!0},k=
t&&function(){for(var a=3,b=t.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:n}(),r=/\S+/g;return{gc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],r:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)},o:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},Vb:function(a,b,c){for(var d=
0,e=a.length;d<e;d++)if(b.call(c,a[d],d))return a[d];return null},Na:function(b,c){var d=a.a.o(b,c);0<d?b.splice(d,1):0===d&&b.shift()},Wb:function(b){b=b||[];for(var c=[],d=0,e=b.length;d<e;d++)0>a.a.o(c,b[d])&&c.push(b[d]);return c},ib:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)c.push(b(a[d],d));return c},Ma:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)b(a[d],d)&&c.push(a[d]);return c},ta:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<
d;c++)a.push(b[c]);return a},ra:function(b,c,d){var e=a.a.o(a.a.Bb(b),c);0>e?d&&b.push(c):d||b.splice(e,1)},la:f,extend:c,$a:d,ab:f?d:c,D:b,Ea:function(a,b){if(!a)return a;var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d],d,a));return c},rb:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},nc:function(b){b=a.a.W(b);for(var c=(b[0]&&b[0].ownerDocument||t).createElement("div"),d=0,e=b.length;d<e;d++)c.appendChild(a.ba(b[d]));return c},wa:function(b,c){for(var d=0,e=b.length,m=[];d<e;d++){var k=
b[d].cloneNode(!0);m.push(c?a.ba(k):k)}return m},fa:function(b,c){a.a.rb(b);if(c)for(var d=0,e=c.length;d<e;d++)b.appendChild(c[d])},uc:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var e=d[0],m=e.parentNode,k=0,f=c.length;k<f;k++)m.insertBefore(c[k],e);k=0;for(f=d.length;k<f;k++)a.removeNode(d[k])}},Ba:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.splice(0,1);for(;1<a.length&&a[a.length-1].parentNode!==b;)a.length--;if(1<a.length){var c=
a[0],d=a[a.length-1];for(a.length=0;c!==d;)a.push(c),c=c.nextSibling;a.push(d)}}return a},wc:function(a,b){7>k?a.setAttribute("selected",b):a.selected=b},cb:function(a){return null===a||a===n?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},sd:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},Rc:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==
(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},qb:function(b){return a.a.Rc(b,b.ownerDocument.documentElement)},Tb:function(b){return!!a.a.Vb(b,a.a.qb)},A:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},Zb:function(b){return a.onError?function(){try{return b.apply(this,arguments)}catch(c){throw a.onError&&a.onError(c),c;}}:b},setTimeout:function(b,c){return setTimeout(a.a.Zb(b),c)},dc:function(b){setTimeout(function(){a.onError&&a.onError(b);throw b;},0)},q:function(b,
c,d){var e=a.a.Zb(d);d=k&&m[c];if(a.options.useOnlyNativeEvents||d||!u)if(d||"function"!=typeof b.addEventListener)if("undefined"!=typeof b.attachEvent){var f=function(a){e.call(b,a)},l="on"+c;b.attachEvent(l,f);a.a.G.qa(b,function(){b.detachEvent(l,f)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else b.addEventListener(c,e,!1);else u(b).bind(c,e)},Fa:function(b,c){if(!b||!b.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var d;"input"===
a.a.A(b)&&b.type&&"click"==c.toLowerCase()?(d=b.type,d="checkbox"==d||"radio"==d):d=!1;if(a.options.useOnlyNativeEvents||!u||d)if("function"==typeof t.createEvent)if("function"==typeof b.dispatchEvent)d=t.createEvent(l[c]||"HTMLEvents"),d.initEvent(c,!0,!0,x,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(d);else throw Error("The supplied element doesn't support dispatchEvent");else if(d&&b.click)b.click();else if("undefined"!=typeof b.fireEvent)b.fireEvent("on"+c);else throw Error("Browser doesn't support triggering events");
else u(b).trigger(c)},c:function(b){return a.I(b)?b():b},Bb:function(b){return a.I(b)?b.p():b},fb:function(b,c,d){var k;c&&("object"===typeof b.classList?(k=b.classList[d?"add":"remove"],a.a.r(c.match(r),function(a){k.call(b.classList,a)})):"string"===typeof b.className.baseVal?e(b.className,"baseVal",c,d):e(b,"className",c,d))},bb:function(b,c){var d=a.a.c(c);if(null===d||d===n)d="";var e=a.f.firstChild(b);!e||3!=e.nodeType||a.f.nextSibling(e)?a.f.fa(b,[b.ownerDocument.createTextNode(d)]):e.data=
d;a.a.Wc(b)},vc:function(a,b){a.name=b;if(7>=k)try{a.mergeAttributes(t.createElement("<input name='"+a.name+"'/>"),!1)}catch(c){}},Wc:function(a){9<=k&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},Sc:function(a){if(k){var b=a.style.width;a.style.width=0;a.style.width=b}},nd:function(b,c){b=a.a.c(b);c=a.a.c(c);for(var d=[],e=b;e<=c;e++)d.push(e);return d},W:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},bc:function(a){return g?Symbol(a):a},xd:6===k,
yd:7===k,C:k,ic:function(b,c){for(var d=a.a.W(b.getElementsByTagName("input")).concat(a.a.W(b.getElementsByTagName("textarea"))),e="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},k=[],m=d.length-1;0<=m;m--)e(d[m])&&k.push(d[m]);return k},kd:function(b){return"string"==typeof b&&(b=a.a.cb(b))?H&&H.parse?H.parse(b):(new Function("return "+b))():null},Gb:function(b,c,d){if(!H||!H.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return H.stringify(a.a.c(b),c,d)},ld:function(c,d,e){e=e||{};var k=e.params||{},m=e.includeFields||this.gc,f=c;if("object"==typeof c&&"form"===a.a.A(c))for(var f=c.action,l=m.length-1;0<=l;l--)for(var g=a.a.ic(c,m[l]),h=g.length-1;0<=h;h--)k[g[h].name]=g[h].value;d=a.a.c(d);var r=t.createElement("form");r.style.display="none";r.action=f;r.method="post";for(var n in d)c=t.createElement("input"),c.type="hidden",c.name=n,c.value=a.a.Gb(a.a.c(d[n])),r.appendChild(c);b(k,function(a,b){var c=t.createElement("input");
c.type="hidden";c.name=a;c.value=b;r.appendChild(c)});t.body.appendChild(r);e.submitter?e.submitter(r):r.submit();setTimeout(function(){r.parentNode.removeChild(r)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.r);a.b("utils.arrayFirst",a.a.Vb);a.b("utils.arrayFilter",a.a.Ma);a.b("utils.arrayGetDistinctValues",a.a.Wb);a.b("utils.arrayIndexOf",a.a.o);a.b("utils.arrayMap",a.a.ib);a.b("utils.arrayPushAll",a.a.ta);a.b("utils.arrayRemoveItem",a.a.Na);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",
a.a.gc);a.b("utils.getFormFields",a.a.ic);a.b("utils.peekObservable",a.a.Bb);a.b("utils.postJson",a.a.ld);a.b("utils.parseJson",a.a.kd);a.b("utils.registerEventHandler",a.a.q);a.b("utils.stringifyJson",a.a.Gb);a.b("utils.range",a.a.nd);a.b("utils.toggleDomNodeCssClass",a.a.fb);a.b("utils.triggerEvent",a.a.Fa);a.b("utils.unwrapObservable",a.a.c);a.b("utils.objectForEach",a.a.D);a.b("utils.addOrRemoveItem",a.a.ra);a.b("utils.setTextContent",a.a.bb);a.b("unwrap",a.a.c);Function.prototype.bind||(Function.prototype.bind=
function(a){var c=this;if(1===arguments.length)return function(){return c.apply(a,arguments)};var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice(0);e.push.apply(e,arguments);return c.apply(a,e)}});a.a.e=new function(){function a(b,g){var h=b[d];if(!h||"null"===h||!e[h]){if(!g)return n;h=b[d]="ko"+c++;e[h]={}}return e[h]}var c=0,d="__ko__"+(new Date).getTime(),e={};return{get:function(c,d){var e=a(c,!1);return e===n?n:e[d]},set:function(c,d,e){if(e!==n||a(c,!1)!==n)a(c,!0)[d]=
e},clear:function(a){var b=a[d];return b?(delete e[b],a[d]=null,!0):!1},J:function(){return c++ +d}}};a.b("utils.domData",a.a.e);a.b("utils.domData.clear",a.a.e.clear);a.a.G=new function(){function b(b,c){var e=a.a.e.get(b,d);e===n&&c&&(e=[],a.a.e.set(b,d,e));return e}function c(d){var e=b(d,!1);if(e)for(var e=e.slice(0),l=0;l<e.length;l++)e[l](d);a.a.e.clear(d);a.a.G.cleanExternalData(d);if(f[d.nodeType])for(e=d.firstChild;d=e;)e=d.nextSibling,8===d.nodeType&&c(d)}var d=a.a.e.J(),e={1:!0,8:!0,9:!0},
f={1:!0,9:!0};return{qa:function(a,c){if("function"!=typeof c)throw Error("Callback must be a function");b(a,!0).push(c)},tc:function(c,e){var f=b(c,!1);f&&(a.a.Na(f,e),0==f.length&&a.a.e.set(c,d,n))},ba:function(b){if(e[b.nodeType]&&(c(b),f[b.nodeType])){var d=[];a.a.ta(d,b.getElementsByTagName("*"));for(var l=0,m=d.length;l<m;l++)c(d[l])}return b},removeNode:function(b){a.ba(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){u&&"function"==typeof u.cleanData&&u.cleanData([a])}}};
a.ba=a.a.G.ba;a.removeNode=a.a.G.removeNode;a.b("cleanNode",a.ba);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.G);a.b("utils.domNodeDisposal.addDisposeCallback",a.a.G.qa);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.G.tc);(function(){var b=[0,"",""],c=[1,"<table>","</table>"],d=[3,"<table><tbody><tr>","</tr></tbody></table>"],e=[1,"<select multiple='multiple'>","</select>"],f={thead:c,tbody:c,tfoot:c,tr:[2,"<table><tbody>","</tbody></table>"],td:d,th:d,option:e,optgroup:e},
g=8>=a.a.C;a.a.na=function(c,d){var e;if(u)if(u.parseHTML)e=u.parseHTML(c,d)||[];else{if((e=u.clean([c],d))&&e[0]){for(var k=e[0];k.parentNode&&11!==k.parentNode.nodeType;)k=k.parentNode;k.parentNode&&k.parentNode.removeChild(k)}}else{(e=d)||(e=t);var k=e.parentWindow||e.defaultView||x,r=a.a.cb(c).toLowerCase(),q=e.createElement("div"),p;p=(r=r.match(/^<([a-z]+)[ >]/))&&f[r[1]]||b;r=p[0];p="ignored<div>"+p[1]+c+p[2]+"</div>";"function"==typeof k.innerShiv?q.appendChild(k.innerShiv(p)):(g&&e.appendChild(q),
q.innerHTML=p,g&&q.parentNode.removeChild(q));for(;r--;)q=q.lastChild;e=a.a.W(q.lastChild.childNodes)}return e};a.a.Eb=function(b,c){a.a.rb(b);c=a.a.c(c);if(null!==c&&c!==n)if("string"!=typeof c&&(c=c.toString()),u)u(b).html(c);else for(var d=a.a.na(c,b.ownerDocument),e=0;e<d.length;e++)b.appendChild(d[e])}})();a.b("utils.parseHtmlFragment",a.a.na);a.b("utils.setHtml",a.a.Eb);a.N=function(){function b(c,e){if(c)if(8==c.nodeType){var f=a.N.pc(c.nodeValue);null!=f&&e.push({Qc:c,hd:f})}else if(1==c.nodeType)for(var f=
0,g=c.childNodes,h=g.length;f<h;f++)b(g[f],e)}var c={};return{yb:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},Bc:function(a,b){var f=c[a];if(f===n)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return f.apply(null,b||[]),
!0}finally{delete c[a]}},Cc:function(c,e){var f=[];b(c,f);for(var g=0,h=f.length;g<h;g++){var l=f[g].Qc,m=[l];e&&a.a.ta(m,e);a.N.Bc(f[g].hd,m);l.nodeValue="";l.parentNode&&l.parentNode.removeChild(l)}},pc:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.N);a.b("memoization.memoize",a.N.yb);a.b("memoization.unmemoize",a.N.Bc);a.b("memoization.parseMemoText",a.N.pc);a.b("memoization.unmemoizeDomNodeAndDescendants",a.N.Cc);a.Z=function(){function b(){if(e)for(var b=
e,c=0,m;g<e;)if(m=d[g++]){if(g>b){if(5E3<=++c){g=e;a.a.dc(Error("'Too much recursion' after processing "+c+" task groups."));break}b=e}try{m()}catch(k){a.a.dc(k)}}}function c(){b();g=e=d.length=0}var d=[],e=0,f=1,g=0;return{scheduler:x.MutationObserver?function(a){var b=t.createElement("div");(new MutationObserver(a)).observe(b,{attributes:!0});return function(){b.classList.toggle("foo")}}(c):t&&"onreadystatechange"in t.createElement("script")?function(a){var b=t.createElement("script");b.onreadystatechange=
function(){b.onreadystatechange=null;t.documentElement.removeChild(b);b=null;a()};t.documentElement.appendChild(b)}:function(a){setTimeout(a,0)},Za:function(b){e||a.Z.scheduler(c);d[e++]=b;return f++},cancel:function(a){a-=f-e;a>=g&&a<e&&(d[a]=null)},resetForTesting:function(){var a=e-g;g=e=d.length=0;return a},rd:b}}();a.b("tasks",a.Z);a.b("tasks.schedule",a.Z.Za);a.b("tasks.runEarly",a.Z.rd);a.Aa={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.B({read:b,write:function(e){clearTimeout(d);
d=a.a.setTimeout(function(){b(e)},c)}})},rateLimit:function(a,c){var d,e,f;"number"==typeof c?d=c:(d=c.timeout,e=c.method);a.gb=!1;f="notifyWhenChangesStop"==e?T:S;a.Wa(function(a){return f(a,d)})},deferred:function(b,c){if(!0!==c)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");b.gb||(b.gb=!0,b.Wa(function(c){var e,f=!1;return function(){if(!f){a.Z.cancel(e);e=a.Z.Za(c);try{f=!0,b.notifySubscribers(n,"dirty")}finally{f=
!1}}}}))},notify:function(a,c){a.equalityComparer="always"==c?null:J}};var R={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.Aa);a.zc=function(b,c,d){this.$=b;this.jb=c;this.Pc=d;this.T=!1;a.H(this,"dispose",this.k)};a.zc.prototype.k=function(){this.T=!0;this.Pc()};a.K=function(){a.a.ab(this,D);D.ub(this)};var E="change",D={ub:function(a){a.F={change:[]};a.Qb=1},Y:function(b,c,d){var e=this;d=d||E;var f=new a.zc(e,c?b.bind(c):b,function(){a.a.Na(e.F[d],f);e.Ka&&e.Ka(d)});e.ua&&e.ua(d);
e.F[d]||(e.F[d]=[]);e.F[d].push(f);return f},notifySubscribers:function(b,c){c=c||E;c===E&&this.Kb();if(this.Ra(c)){var d=c===E&&this.Fc||this.F[c].slice(0);try{a.l.Xb();for(var e=0,f;f=d[e];++e)f.T||f.jb(b)}finally{a.l.end()}}},Pa:function(){return this.Qb},Zc:function(a){return this.Pa()!==a},Kb:function(){++this.Qb},Wa:function(b){var c=this,d=a.I(c),e,f,g,h;c.Ja||(c.Ja=c.notifySubscribers,c.notifySubscribers=U);var l=b(function(){c.Ha=!1;d&&h===c&&(h=c.Mb?c.Mb():c());var a=f||c.Ua(g,h);f=e=!1;
a&&c.Ja(g=h)});c.Pb=function(a){c.Fc=c.F[E].slice(0);c.Ha=e=!0;h=a;l()};c.Ob=function(a){e||(g=a,c.Ja(a,"beforeChange"))};c.Hc=function(){c.Ua(g,c.p(!0))&&(f=!0)}},Ra:function(a){return this.F[a]&&this.F[a].length},Xc:function(b){if(b)return this.F[b]&&this.F[b].length||0;var c=0;a.a.D(this.F,function(a,b){"dirty"!==a&&(c+=b.length)});return c},Ua:function(a,c){return!this.equalityComparer||!this.equalityComparer(a,c)},extend:function(b){var c=this;b&&a.a.D(b,function(b,e){var f=a.Aa[b];"function"==
typeof f&&(c=f(c,e)||c)});return c}};a.H(D,"subscribe",D.Y);a.H(D,"extend",D.extend);a.H(D,"getSubscriptionsCount",D.Xc);a.a.la&&a.a.$a(D,Function.prototype);a.K.fn=D;a.lc=function(a){return null!=a&&"function"==typeof a.Y&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.K);a.b("isSubscribable",a.lc);a.xa=a.l=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],e,f=0;return{Xb:b,end:c,sc:function(b){if(e){if(!a.lc(b))throw Error("Only subscribable things can act as dependencies");
e.jb.call(e.Lc,b,b.Gc||(b.Gc=++f))}},w:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},Ca:function(){if(e)return e.m.Ca()},Va:function(){if(e)return e.Va}}}();a.b("computedContext",a.xa);a.b("computedContext.getDependenciesCount",a.xa.Ca);a.b("computedContext.isInitial",a.xa.Va);a.b("ignoreDependencies",a.wd=a.l.w);var F=a.a.bc("_latestValue");a.O=function(b){function c(){if(0<arguments.length)return c.Ua(c[F],arguments[0])&&(c.ia(),c[F]=arguments[0],c.ha()),this;a.l.sc(c);return c[F]}
c[F]=b;a.a.la||a.a.extend(c,a.K.fn);a.K.fn.ub(c);a.a.ab(c,B);a.options.deferUpdates&&a.Aa.deferred(c,!0);return c};var B={equalityComparer:J,p:function(){return this[F]},ha:function(){this.notifySubscribers(this[F])},ia:function(){this.notifySubscribers(this[F],"beforeChange")}};a.a.la&&a.a.$a(B,a.K.fn);var I=a.O.md="__ko_proto__";B[I]=a.O;a.Qa=function(b,c){return null===b||b===n||b[I]===n?!1:b[I]===c?!0:a.Qa(b[I],c)};a.I=function(b){return a.Qa(b,a.O)};a.Da=function(b){return"function"==typeof b&&
b[I]===a.O||"function"==typeof b&&b[I]===a.B&&b.$c?!0:!1};a.b("observable",a.O);a.b("isObservable",a.I);a.b("isWriteableObservable",a.Da);a.b("isWritableObservable",a.Da);a.b("observable.fn",B);a.H(B,"peek",B.p);a.H(B,"valueHasMutated",B.ha);a.H(B,"valueWillMutate",B.ia);a.ma=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");b=a.O(b);a.a.ab(b,a.ma.fn);return b.extend({trackArrayChanges:!0})};
a.ma.fn={remove:function(b){for(var c=this.p(),d=[],e="function"!=typeof b||a.I(b)?function(a){return a===b}:b,f=0;f<c.length;f++){var g=c[f];e(g)&&(0===d.length&&this.ia(),d.push(g),c.splice(f,1),f--)}d.length&&this.ha();return d},removeAll:function(b){if(b===n){var c=this.p(),d=c.slice(0);this.ia();c.splice(0,c.length);this.ha();return d}return b?this.remove(function(c){return 0<=a.a.o(b,c)}):[]},destroy:function(b){var c=this.p(),d="function"!=typeof b||a.I(b)?function(a){return a===b}:b;this.ia();
for(var e=c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=!0);this.ha()},destroyAll:function(b){return b===n?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.a.o(b,c)}):[]},indexOf:function(b){var c=this();return a.a.o(c,b)},replace:function(a,c){var d=this.indexOf(a);0<=d&&(this.ia(),this.p()[d]=c,this.ha())}};a.a.la&&a.a.$a(a.ma.fn,a.O.fn);a.a.r("pop push reverse shift sort splice unshift".split(" "),function(b){a.ma.fn[b]=function(){var a=this.p();this.ia();this.Yb(a,b,arguments);
var d=a[b].apply(a,arguments);this.ha();return d===a?this:d}});a.a.r(["slice"],function(b){a.ma.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.b("observableArray",a.ma);a.Aa.trackArrayChanges=function(b,c){function d(){if(!e){e=!0;l=b.notifySubscribers;b.notifySubscribers=function(a,b){b&&b!==E||++h;return l.apply(this,arguments)};var c=[].concat(b.p()||[]);f=null;g=b.Y(function(d){d=[].concat(d||[]);if(b.Ra("arrayChange")){var e;if(!f||1<h)f=a.a.lb(c,d,b.kb);e=f}c=d;f=null;h=0;
e&&e.length&&b.notifySubscribers(e,"arrayChange")})}}b.kb={};c&&"object"==typeof c&&a.a.extend(b.kb,c);b.kb.sparse=!0;if(!b.Yb){var e=!1,f=null,g,h=0,l,m=b.ua,k=b.Ka;b.ua=function(a){m&&m.call(b,a);"arrayChange"===a&&d()};b.Ka=function(a){k&&k.call(b,a);"arrayChange"!==a||b.Ra("arrayChange")||(l&&(b.notifySubscribers=l,l=n),g.k(),e=!1)};b.Yb=function(b,c,d){function k(a,b,c){return m[m.length]={status:a,value:b,index:c}}if(e&&!h){var m=[],l=b.length,g=d.length,G=0;switch(c){case "push":G=l;case "unshift":for(c=
0;c<g;c++)k("added",d[c],G+c);break;case "pop":G=l-1;case "shift":l&&k("deleted",b[G],G);break;case "splice":c=Math.min(Math.max(0,0>d[0]?l+d[0]:d[0]),l);for(var l=1===g?l:Math.min(c+(d[1]||0),l),g=c+g-2,G=Math.max(l,g),n=[],s=[],w=2;c<G;++c,++w)c<l&&s.push(k("deleted",b[c],c)),c<g&&n.push(k("added",d[w],c));a.a.hc(s,n);break;default:return}f=m}}}};var s=a.a.bc("_state");a.m=a.B=function(b,c,d){function e(){if(0<arguments.length){if("function"===typeof f)f.apply(g.sb,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");
return this}a.l.sc(e);(g.V||g.t&&e.Sa())&&e.U();return g.M}"object"===typeof b?d=b:(d=d||{},b&&(d.read=b));if("function"!=typeof d.read)throw Error("Pass a function that returns the value of the ko.computed");var f=d.write,g={M:n,da:!0,V:!0,Ta:!1,Hb:!1,T:!1,Ya:!1,t:!1,od:d.read,sb:c||d.owner,i:d.disposeWhenNodeIsRemoved||d.i||null,ya:d.disposeWhen||d.ya,pb:null,s:{},L:0,fc:null};e[s]=g;e.$c="function"===typeof f;a.a.la||a.a.extend(e,a.K.fn);a.K.fn.ub(e);a.a.ab(e,z);d.pure?(g.Ya=!0,g.t=!0,a.a.extend(e,
Y)):d.deferEvaluation&&a.a.extend(e,Z);a.options.deferUpdates&&a.Aa.deferred(e,!0);g.i&&(g.Hb=!0,g.i.nodeType||(g.i=null));g.t||d.deferEvaluation||e.U();g.i&&e.ca()&&a.a.G.qa(g.i,g.pb=function(){e.k()});return e};var z={equalityComparer:J,Ca:function(){return this[s].L},Sb:function(a,c,d){if(this[s].Ya&&c===this)throw Error("A 'pure' computed must not be called recursively");this[s].s[a]=d;d.Ia=this[s].L++;d.pa=c.Pa()},Sa:function(){var a,c,d=this[s].s;for(a in d)if(d.hasOwnProperty(a)&&(c=d[a],this.oa&&
c.$.Ha||c.$.Zc(c.pa)))return!0},gd:function(){this.oa&&!this[s].Ta&&this.oa(!1)},ca:function(){var a=this[s];return a.V||0<a.L},qd:function(){this.Ha?this[s].V&&(this[s].da=!0):this.ec()},yc:function(a){if(a.gb&&!this[s].i){var c=a.Y(this.gd,this,"dirty"),d=a.Y(this.qd,this);return{$:a,k:function(){c.k();d.k()}}}return a.Y(this.ec,this)},ec:function(){var b=this,c=b.throttleEvaluation;c&&0<=c?(clearTimeout(this[s].fc),this[s].fc=a.a.setTimeout(function(){b.U(!0)},c)):b.oa?b.oa(!0):b.U(!0)},U:function(b){var c=
this[s],d=c.ya,e=!1;if(!c.Ta&&!c.T){if(c.i&&!a.a.qb(c.i)||d&&d()){if(!c.Hb){this.k();return}}else c.Hb=!1;c.Ta=!0;try{e=this.Vc(b)}finally{c.Ta=!1}c.L||this.k();return e}},Vc:function(b){var c=this[s],d=!1,e=c.Ya?n:!c.L,f={Mc:this,Oa:c.s,ob:c.L};a.l.Xb({Lc:f,jb:W,m:this,Va:e});c.s={};c.L=0;f=this.Uc(c,f);this.Ua(c.M,f)&&(c.t||this.notifySubscribers(c.M,"beforeChange"),c.M=f,c.t?this.Kb():b&&this.notifySubscribers(c.M),d=!0);e&&this.notifySubscribers(c.M,"awake");return d},Uc:function(b,c){try{var d=
b.od;return b.sb?d.call(b.sb):d()}finally{a.l.end(),c.ob&&!b.t&&a.a.D(c.Oa,V),b.da=b.V=!1}},p:function(a){var c=this[s];(c.V&&(a||!c.L)||c.t&&this.Sa())&&this.U();return c.M},Wa:function(b){a.K.fn.Wa.call(this,b);this.Mb=function(){this[s].da?this.U():this[s].V=!1;return this[s].M};this.oa=function(a){this.Ob(this[s].M);this[s].V=!0;a&&(this[s].da=!0);this.Pb(this)}},k:function(){var b=this[s];!b.t&&b.s&&a.a.D(b.s,function(a,b){b.k&&b.k()});b.i&&b.pb&&a.a.G.tc(b.i,b.pb);b.s=null;b.L=0;b.T=!0;b.da=
!1;b.V=!1;b.t=!1;b.i=null}},Y={ua:function(b){var c=this,d=c[s];if(!d.T&&d.t&&"change"==b){d.t=!1;if(d.da||c.Sa())d.s=null,d.L=0,c.U()&&c.Kb();else{var e=[];a.a.D(d.s,function(a,b){e[b.Ia]=a});a.a.r(e,function(a,b){var e=d.s[a],l=c.yc(e.$);l.Ia=b;l.pa=e.pa;d.s[a]=l})}d.T||c.notifySubscribers(d.M,"awake")}},Ka:function(b){var c=this[s];c.T||"change"!=b||this.Ra("change")||(a.a.D(c.s,function(a,b){b.k&&(c.s[a]={$:b.$,Ia:b.Ia,pa:b.pa},b.k())}),c.t=!0,this.notifySubscribers(n,"asleep"))},Pa:function(){var b=
this[s];b.t&&(b.da||this.Sa())&&this.U();return a.K.fn.Pa.call(this)}},Z={ua:function(a){"change"!=a&&"beforeChange"!=a||this.p()}};a.a.la&&a.a.$a(z,a.K.fn);var P=a.O.md;a.m[P]=a.O;z[P]=a.m;a.bd=function(b){return a.Qa(b,a.m)};a.cd=function(b){return a.Qa(b,a.m)&&b[s]&&b[s].Ya};a.b("computed",a.m);a.b("dependentObservable",a.m);a.b("isComputed",a.bd);a.b("isPureComputed",a.cd);a.b("computed.fn",z);a.H(z,"peek",z.p);a.H(z,"dispose",z.k);a.H(z,"isActive",z.ca);a.H(z,"getDependenciesCount",z.Ca);a.rc=
function(b,c){if("function"===typeof b)return a.m(b,c,{pure:!0});b=a.a.extend({},b);b.pure=!0;return a.m(b,c)};a.b("pureComputed",a.rc);(function(){function b(a,f,g){g=g||new d;a=f(a);if("object"!=typeof a||null===a||a===n||a instanceof RegExp||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var h=a instanceof Array?[]:{};g.save(a,h);c(a,function(c){var d=f(a[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":h[c]=d;break;case "object":case "undefined":var k=
g.get(d);h[c]=k!==n?k:b(d,f,g)}});return h}function c(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);"function"==typeof a.toJSON&&b("toJSON")}else for(c in a)b(c)}function d(){this.keys=[];this.Lb=[]}a.Ac=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.I(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.Ac(b);return a.a.Gb(b,c,d)};d.prototype={save:function(b,c){var d=a.a.o(this.keys,
b);0<=d?this.Lb[d]=c:(this.keys.push(b),this.Lb.push(c))},get:function(b){b=a.a.o(this.keys,b);return 0<=b?this.Lb[b]:n}}})();a.b("toJS",a.Ac);a.b("toJSON",a.toJSON);(function(){a.j={u:function(b){switch(a.a.A(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?a.a.e.get(b,a.d.options.zb):7>=a.a.C?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?a.j.u(b.options[b.selectedIndex]):n;default:return b.value}},ja:function(b,
c,d){switch(a.a.A(b)){case "option":switch(typeof c){case "string":a.a.e.set(b,a.d.options.zb,n);"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:a.a.e.set(b,a.d.options.zb,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===typeof c?c:""}break;case "select":if(""===c||null===c)c=n;for(var e=-1,f=0,g=b.options.length,h;f<g;++f)if(h=a.j.u(b.options[f]),h==c||""==h&&c===n){e=f;break}if(d||0<=e||c===n&&1<b.size)b.selectedIndex=e;break;default:if(null===
c||c===n)c="";b.value=c}}}})();a.b("selectExtensions",a.j);a.b("selectExtensions.readValue",a.j.u);a.b("selectExtensions.writeValue",a.j.ja);a.h=function(){function b(b){b=a.a.cb(b);123===b.charCodeAt(0)&&(b=b.slice(1,-1));var c=[],d=b.match(e),r,h=[],p=0;if(d){d.push(",");for(var A=0,y;y=d[A];++A){var v=y.charCodeAt(0);if(44===v){if(0>=p){c.push(r&&h.length?{key:r,value:h.join("")}:{unknown:r||h.join("")});r=p=0;h=[];continue}}else if(58===v){if(!p&&!r&&1===h.length){r=h.pop();continue}}else 47===
v&&A&&1<y.length?(v=d[A-1].match(f))&&!g[v[0]]&&(b=b.substr(b.indexOf(y)+1),d=b.match(e),d.push(","),A=-1,y="/"):40===v||123===v||91===v?++p:41===v||125===v||93===v?--p:r||h.length||34!==v&&39!==v||(y=y.slice(1,-1));h.push(y)}}return c}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),f=/[\])"'A-Za-z0-9_$]+$/,
g={"in":1,"return":1,"typeof":1},h={};return{va:[],ga:h,Ab:b,Xa:function(e,m){function k(b,e){var m;if(!A){var l=a.getBindingHandler(b);if(l&&l.preprocess&&!(e=l.preprocess(e,b,k)))return;if(l=h[b])m=e,0<=a.a.o(c,m)?m=!1:(l=m.match(d),m=null===l?!1:l[1]?"Object("+l[1]+")"+l[2]:m),l=m;l&&g.push("'"+b+"':function(_z){"+m+"=_z}")}p&&(e="function(){return "+e+" }");f.push("'"+b+"':"+e)}m=m||{};var f=[],g=[],p=m.valueAccessors,A=m.bindingParams,y="string"===typeof e?b(e):e;a.a.r(y,function(a){k(a.key||
a.unknown,a.value)});g.length&&k("_ko_property_writers","{"+g.join(",")+" }");return f.join(",")},fd:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},Ga:function(b,c,d,e,f){if(b&&a.I(b))!a.Da(b)||f&&b.p()===e||b(e);else if((b=c.get("_ko_property_writers"))&&b[d])b[d](e)}}}();a.b("expressionRewriting",a.h);a.b("expressionRewriting.bindingRewriteValidators",a.h.va);a.b("expressionRewriting.parseObjectLiteral",a.h.Ab);a.b("expressionRewriting.preProcessBindings",a.h.Xa);a.b("expressionRewriting._twoWayBindings",
a.h.ga);a.b("jsonExpressionRewriting",a.h);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.h.Xa);(function(){function b(a){return 8==a.nodeType&&g.test(f?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&h.test(f?a.text:a.nodeValue)}function d(a,d){for(var e=a,f=1,l=[];e=e.nextSibling;){if(c(e)&&(f--,0===f))return l;l.push(e);b(e)&&f++}if(!d)throw Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-
1].nextSibling:a.nextSibling:null}var f=t&&"\x3c!--test--\x3e"===t.createComment("test").text,g=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,h=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0};a.f={aa:{},childNodes:function(a){return b(a)?d(a):a.childNodes},za:function(c){if(b(c)){c=a.f.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.a.rb(c)},fa:function(c,d){if(b(c)){a.f.za(c);for(var e=c.nextSibling,f=0,l=d.length;f<l;f++)e.parentNode.insertBefore(d[f],
e)}else a.a.fa(c,d)},qc:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},kc:function(c,d,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.f.qc(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=e(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},Yc:b,vd:function(a){return(a=
(f?a.text:a.nodeValue).match(g))?a[1]:null},oc:function(d){if(l[a.a.A(d)]){var k=d.firstChild;if(k){do if(1===k.nodeType){var f;f=k.firstChild;var g=null;if(f){do if(g)g.push(f);else if(b(f)){var h=e(f,!0);h?f=h:g=[f]}else c(f)&&(g=[f]);while(f=f.nextSibling)}if(f=g)for(g=k.nextSibling,h=0;h<f.length;h++)g?d.insertBefore(f[h],g):d.appendChild(f[h])}while(k=k.nextSibling)}}}}})();a.b("virtualElements",a.f);a.b("virtualElements.allowedBindings",a.f.aa);a.b("virtualElements.emptyNode",a.f.za);a.b("virtualElements.insertAfter",
a.f.kc);a.b("virtualElements.prepend",a.f.qc);a.b("virtualElements.setDomNodeChildren",a.f.fa);(function(){a.S=function(){this.Kc={}};a.a.extend(a.S.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute("data-bind")||a.g.getComponentNameForNode(b);case 8:return a.f.Yc(b);default:return!1}},getBindings:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b):null;return a.g.Rb(d,b,c,!1)},getBindingAccessors:function(b,c){var d=this.getBindingsString(b,
c),d=d?this.parseBindingsString(d,c,b,{valueAccessors:!0}):null;return a.g.Rb(d,b,c,!0)},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.f.vd(b);default:return null}},parseBindingsString:function(b,c,d,e){try{var f=this.Kc,g=b+(e&&e.valueAccessors||""),h;if(!(h=f[g])){var l,m="with($context){with($data||{}){return{"+a.h.Xa(b,e)+"}}}";l=new Function("$context","$element",m);h=f[g]=l}return h(c,d)}catch(k){throw k.message="Unable to parse bindings.\nBindings value: "+
b+"\nMessage: "+k.message,k;}}});a.S.instance=new a.S})();a.b("bindingProvider",a.S);(function(){function b(a){return function(){return a}}function c(a){return a()}function d(b){return a.a.Ea(a.l.w(b),function(a,c){return function(){return b()[c]}})}function e(c,e,k){return"function"===typeof c?d(c.bind(null,e,k)):a.a.Ea(c,b)}function f(a,b){return d(this.getBindings.bind(this,a,b))}function g(b,c,d){var e,k=a.f.firstChild(c),f=a.S.instance,m=f.preprocessNode;if(m){for(;e=k;)k=a.f.nextSibling(e),
m.call(f,e);k=a.f.firstChild(c)}for(;e=k;)k=a.f.nextSibling(e),h(b,e,d)}function h(b,c,d){var e=!0,k=1===c.nodeType;k&&a.f.oc(c);if(k&&d||a.S.instance.nodeHasBindings(c))e=m(c,null,b,d).shouldBindDescendants;e&&!r[a.a.A(c)]&&g(b,c,!k)}function l(b){var c=[],d={},e=[];a.a.D(b,function X(k){if(!d[k]){var f=a.getBindingHandler(k);f&&(f.after&&(e.push(k),a.a.r(f.after,function(c){if(b[c]){if(-1!==a.a.o(e,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "));
X(c)}}),e.length--),c.push({key:k,jc:f}));d[k]=!0}});return c}function m(b,d,e,k){var m=a.a.e.get(b,q);if(!d){if(m)throw Error("You cannot apply bindings multiple times to the same element.");a.a.e.set(b,q,!0)}!m&&k&&a.xc(b,e);var g;if(d&&"function"!==typeof d)g=d;else{var h=a.S.instance,r=h.getBindingAccessors||f,p=a.B(function(){(g=d?d(e,b):r.call(h,b,e))&&e.Q&&e.Q();return g},null,{i:b});g&&p.ca()||(p=null)}var s;if(g){var t=p?function(a){return function(){return c(p()[a])}}:function(a){return g[a]},
u=function(){return a.a.Ea(p?p():g,c)};u.get=function(a){return g[a]&&c(t(a))};u.has=function(a){return a in g};k=l(g);a.a.r(k,function(c){var d=c.jc.init,k=c.jc.update,f=c.key;if(8===b.nodeType&&!a.f.aa[f])throw Error("The binding '"+f+"' cannot be used with virtual elements");try{"function"==typeof d&&a.l.w(function(){var a=d(b,t(f),u,e.$data,e);if(a&&a.controlsDescendantBindings){if(s!==n)throw Error("Multiple bindings ("+s+" and "+f+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");
s=f}}),"function"==typeof k&&a.B(function(){k(b,t(f),u,e.$data,e)},null,{i:b})}catch(m){throw m.message='Unable to process binding "'+f+": "+g[f]+'"\nMessage: '+m.message,m;}})}return{shouldBindDescendants:s===n}}function k(b){return b&&b instanceof a.R?b:new a.R(b)}a.d={};var r={script:!0,textarea:!0,template:!0};a.getBindingHandler=function(b){return a.d[b]};a.R=function(b,c,d,e,k){function f(){var k=g?b():b,m=a.a.c(k);c?(c.Q&&c.Q(),a.a.extend(l,c),l.Q=r):(l.$parents=[],l.$root=m,l.ko=a);l.$rawData=
k;l.$data=m;d&&(l[d]=m);e&&e(l,c,m);return l.$data}function m(){return h&&!a.a.Tb(h)}var l=this,g="function"==typeof b&&!a.I(b),h,r;k&&k.exportDependencies?f():(r=a.B(f,null,{ya:m,i:!0}),r.ca()&&(l.Q=r,r.equalityComparer=null,h=[],r.Dc=function(b){h.push(b);a.a.G.qa(b,function(b){a.a.Na(h,b);h.length||(r.k(),l.Q=r=n)})}))};a.R.prototype.createChildContext=function(b,c,d,e){return new a.R(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);
d&&d(a)},e)};a.R.prototype.extend=function(b){return new a.R(this.Q||this.$data,this,null,function(c,d){c.$rawData=d.$rawData;a.a.extend(c,"function"==typeof b?b():b)})};a.R.prototype.ac=function(a,b){return this.createChildContext(a,b,null,{exportDependencies:!0})};var q=a.a.e.J(),p=a.a.e.J();a.xc=function(b,c){if(2==arguments.length)a.a.e.set(b,p,c),c.Q&&c.Q.Dc(b);else return a.a.e.get(b,p)};a.La=function(b,c,d){1===b.nodeType&&a.f.oc(b);return m(b,c,k(d),!0)};a.Ic=function(b,c,d){d=k(d);return a.La(b,
e(c,d,b),d)};a.hb=function(a,b){1!==b.nodeType&&8!==b.nodeType||g(k(a),b,!0)};a.Ub=function(a,b){!u&&x.jQuery&&(u=x.jQuery);if(b&&1!==b.nodeType&&8!==b.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");b=b||x.document.body;h(k(a),b,!0)};a.nb=function(b){switch(b.nodeType){case 1:case 8:var c=a.xc(b);if(c)return c;if(b.parentNode)return a.nb(b.parentNode)}return n};a.Oc=function(b){return(b=a.nb(b))?b.$data:n};a.b("bindingHandlers",
a.d);a.b("applyBindings",a.Ub);a.b("applyBindingsToDescendants",a.hb);a.b("applyBindingAccessorsToNode",a.La);a.b("applyBindingsToNode",a.Ic);a.b("contextFor",a.nb);a.b("dataFor",a.Oc)})();(function(b){function c(c,e){var m=f.hasOwnProperty(c)?f[c]:b,k;m?m.Y(e):(m=f[c]=new a.K,m.Y(e),d(c,function(b,d){var e=!(!d||!d.synchronous);g[c]={definition:b,dd:e};delete f[c];k||e?m.notifySubscribers(b):a.Z.Za(function(){m.notifySubscribers(b)})}),k=!0)}function d(a,b){e("getConfig",[a],function(c){c?e("loadComponent",
[a,c],function(a){b(a,c)}):b(null,null)})}function e(c,d,f,k){k||(k=a.g.loaders.slice(0));var g=k.shift();if(g){var q=g[c];if(q){var p=!1;if(q.apply(g,d.concat(function(a){p?f(null):null!==a?f(a):e(c,d,f,k)}))!==b&&(p=!0,!g.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else e(c,d,f,k)}else f(null)}var f={},g={};a.g={get:function(d,e){var f=g.hasOwnProperty(d)?g[d]:b;f?f.dd?a.l.w(function(){e(f.definition)}):
a.Z.Za(function(){e(f.definition)}):c(d,e)},$b:function(a){delete g[a]},Nb:e};a.g.loaders=[];a.b("components",a.g);a.b("components.get",a.g.get);a.b("components.clearCachedDefinition",a.g.$b)})();(function(){function b(b,c,d,e){function g(){0===--y&&e(h)}var h={},y=2,v=d.template;d=d.viewModel;v?f(c,v,function(c){a.g.Nb("loadTemplate",[b,c],function(a){h.template=a;g()})}):g();d?f(c,d,function(c){a.g.Nb("loadViewModel",[b,c],function(a){h[l]=a;g()})}):g()}function c(a,b,d){if("function"===typeof b)d(function(a){return new b(a)});
else if("function"===typeof b[l])d(b[l]);else if("instance"in b){var e=b.instance;d(function(){return e})}else"viewModel"in b?c(a,b.viewModel,d):a("Unknown viewModel value: "+b)}function d(b){switch(a.a.A(b)){case "script":return a.a.na(b.text);case "textarea":return a.a.na(b.value);case "template":if(e(b.content))return a.a.wa(b.content.childNodes)}return a.a.wa(b.childNodes)}function e(a){return x.DocumentFragment?a instanceof DocumentFragment:a&&11===a.nodeType}function f(a,b,c){"string"===typeof b.require?
O||x.require?(O||x.require)([b.require],c):a("Uses require, but no AMD loader is present"):c(b)}function g(a){return function(b){throw Error("Component '"+a+"': "+b);}}var h={};a.g.register=function(b,c){if(!c)throw Error("Invalid configuration for "+b);if(a.g.wb(b))throw Error("Component "+b+" is already registered");h[b]=c};a.g.wb=function(a){return h.hasOwnProperty(a)};a.g.ud=function(b){delete h[b];a.g.$b(b)};a.g.cc={getConfig:function(a,b){b(h.hasOwnProperty(a)?h[a]:null)},loadComponent:function(a,
c,d){var e=g(a);f(e,c,function(c){b(a,e,c,d)})},loadTemplate:function(b,c,f){b=g(b);if("string"===typeof c)f(a.a.na(c));else if(c instanceof Array)f(c);else if(e(c))f(a.a.W(c.childNodes));else if(c.element)if(c=c.element,x.HTMLElement?c instanceof HTMLElement:c&&c.tagName&&1===c.nodeType)f(d(c));else if("string"===typeof c){var l=t.getElementById(c);l?f(d(l)):b("Cannot find element with ID "+c)}else b("Unknown element type: "+c);else b("Unknown template value: "+c)},loadViewModel:function(a,b,d){c(g(a),
b,d)}};var l="createViewModel";a.b("components.register",a.g.register);a.b("components.isRegistered",a.g.wb);a.b("components.unregister",a.g.ud);a.b("components.defaultLoader",a.g.cc);a.g.loaders.push(a.g.cc);a.g.Ec=h})();(function(){function b(b,e){var f=b.getAttribute("params");if(f){var f=c.parseBindingsString(f,e,b,{valueAccessors:!0,bindingParams:!0}),f=a.a.Ea(f,function(c){return a.m(c,null,{i:b})}),g=a.a.Ea(f,function(c){var e=c.p();return c.ca()?a.m({read:function(){return a.a.c(c())},write:a.Da(e)&&
function(a){c()(a)},i:b}):e});g.hasOwnProperty("$raw")||(g.$raw=f);return g}return{$raw:{}}}a.g.getComponentNameForNode=function(b){var c=a.a.A(b);if(a.g.wb(c)&&(-1!=c.indexOf("-")||"[object HTMLUnknownElement]"==""+b||8>=a.a.C&&b.tagName===c))return c};a.g.Rb=function(c,e,f,g){if(1===e.nodeType){var h=a.g.getComponentNameForNode(e);if(h){c=c||{};if(c.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var l={name:h,params:b(e,f)};c.component=g?function(){return l}:
l}}return c};var c=new a.S;9>a.a.C&&(a.g.register=function(a){return function(b){t.createElement(b);return a.apply(this,arguments)}}(a.g.register),t.createDocumentFragment=function(b){return function(){var c=b(),f=a.g.Ec,g;for(g in f)f.hasOwnProperty(g)&&c.createElement(g);return c}}(t.createDocumentFragment))})();(function(b){function c(b,c,d){c=c.template;if(!c)throw Error("Component '"+b+"' has no template");b=a.a.wa(c);a.f.fa(d,b)}function d(a,b,c,d){var e=a.createViewModel;return e?e.call(a,
d,{element:b,templateNodes:c}):d}var e=0;a.d.component={init:function(f,g,h,l,m){function k(){var a=r&&r.dispose;"function"===typeof a&&a.call(r);q=r=null}var r,q,p=a.a.W(a.f.childNodes(f));a.a.G.qa(f,k);a.m(function(){var l=a.a.c(g()),h,v;"string"===typeof l?h=l:(h=a.a.c(l.name),v=a.a.c(l.params));if(!h)throw Error("No component name specified");var n=q=++e;a.g.get(h,function(e){if(q===n){k();if(!e)throw Error("Unknown component '"+h+"'");c(h,e,f);var l=d(e,f,p,v);e=m.createChildContext(l,b,function(a){a.$component=
l;a.$componentTemplateNodes=p});r=l;a.hb(e,f)}})},null,{i:f});return{controlsDescendantBindings:!0}}};a.f.aa.component=!0})();var Q={"class":"className","for":"htmlFor"};a.d.attr={update:function(b,c){var d=a.a.c(c())||{};a.a.D(d,function(c,d){d=a.a.c(d);var g=!1===d||null===d||d===n;g&&b.removeAttribute(c);8>=a.a.C&&c in Q?(c=Q[c],g?b.removeAttribute(c):b[c]=d):g||b.setAttribute(c,d.toString());"name"===c&&a.a.vc(b,g?"":d.toString())})}};(function(){a.d.checked={after:["value","attr"],init:function(b,
c,d){function e(){var e=b.checked,f=p?g():e;if(!a.xa.Va()&&(!l||e)){var h=a.l.w(c);if(k){var m=r?h.p():h;q!==f?(e&&(a.a.ra(m,f,!0),a.a.ra(m,q,!1)),q=f):a.a.ra(m,f,e);r&&a.Da(h)&&h(m)}else a.h.Ga(h,d,"checked",f,!0)}}function f(){var d=a.a.c(c());b.checked=k?0<=a.a.o(d,g()):h?d:g()===d}var g=a.rc(function(){return d.has("checkedValue")?a.a.c(d.get("checkedValue")):d.has("value")?a.a.c(d.get("value")):b.value}),h="checkbox"==b.type,l="radio"==b.type;if(h||l){var m=c(),k=h&&a.a.c(m)instanceof Array,
r=!(k&&m.push&&m.splice),q=k?g():n,p=l||k;l&&!b.name&&a.d.uniqueName.init(b,function(){return!0});a.m(e,null,{i:b});a.a.q(b,"click",e);a.m(f,null,{i:b});m=n}}};a.h.ga.checked=!0;a.d.checkedValue={update:function(b,c){b.value=a.a.c(c())}}})();a.d.css={update:function(b,c){var d=a.a.c(c());null!==d&&"object"==typeof d?a.a.D(d,function(c,d){d=a.a.c(d);a.a.fb(b,c,d)}):(d=a.a.cb(String(d||"")),a.a.fb(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.a.fb(b,d,!0))}};a.d.enable={update:function(b,c){var d=a.a.c(c());
d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.d.disable={update:function(b,c){a.d.enable.update(b,function(){return!a.a.c(c())})}};a.d.event={init:function(b,c,d,e,f){var g=c()||{};a.a.D(g,function(g){"string"==typeof g&&a.a.q(b,g,function(b){var m,k=c()[g];if(k){try{var r=a.a.W(arguments);e=f.$data;r.unshift(e);m=k.apply(e,r)}finally{!0!==m&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}!1===d.get(g+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};
a.d.foreach={mc:function(b){return function(){var c=b(),d=a.a.Bb(c);if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:a.X.vb};a.a.c(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.X.vb}}},init:function(b,c){return a.d.template.init(b,a.d.foreach.mc(c))},update:function(b,c,d,e,f){return a.d.template.update(b,a.d.foreach.mc(c),
d,e,f)}};a.h.va.foreach=!1;a.f.aa.foreach=!0;a.d.hasfocus={init:function(b,c,d){function e(e){b.__ko_hasfocusUpdating=!0;var f=b.ownerDocument;if("activeElement"in f){var g;try{g=f.activeElement}catch(k){g=f.body}e=g===b}f=c();a.h.Ga(f,d,"hasfocus",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),g=e.bind(null,!1);a.a.q(b,"focus",f);a.a.q(b,"focusin",f);a.a.q(b,"blur",g);a.a.q(b,"focusout",g)},update:function(b,c){var d=!!a.a.c(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===
d||(d?b.focus():b.blur(),!d&&b.__ko_hasfocusLastValue&&b.ownerDocument.body.focus(),a.l.w(a.a.Fa,null,[b,d?"focusin":"focusout"]))}};a.h.ga.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.h.ga.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Eb(b,c())}};K("if");K("ifnot",!1,!0);K("with",!0,!1,function(a,c){return a.ac(c)});var L={};a.d.options={init:function(b){if("select"!==a.a.A(b))throw Error("options binding applies only to SELECT elements");for(;0<
b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.Ma(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function g(c,e){if(A&&k)a.j.ja(b,a.a.c(d.get("value")),!0);else if(p.length){var f=0<=a.a.o(p,a.j.u(e[0]));a.a.wc(e[0],f);A&&!f&&a.l.w(a.a.Fa,null,[b,"change"])}}var h=b.multiple,l=0!=b.length&&h?b.scrollTop:null,m=a.a.c(c()),k=d.get("valueAllowUnset")&&d.has("value"),r=
d.get("optionsIncludeDestroyed");c={};var q,p=[];k||(h?p=a.a.ib(e(),a.j.u):0<=b.selectedIndex&&p.push(a.j.u(b.options[b.selectedIndex])));m&&("undefined"==typeof m.length&&(m=[m]),q=a.a.Ma(m,function(b){return r||b===n||null===b||!a.a.c(b._destroy)}),d.has("optionsCaption")&&(m=a.a.c(d.get("optionsCaption")),null!==m&&m!==n&&q.unshift(L)));var A=!1;c.beforeRemove=function(a){b.removeChild(a)};m=g;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(m=function(b,c){g(0,c);
a.l.w(d.get("optionsAfterRender"),null,[c[0],b!==L?b:n])});a.a.Db(b,q,function(c,e,g){g.length&&(p=!k&&g[0].selected?[a.j.u(g[0])]:[],A=!0);e=b.ownerDocument.createElement("option");c===L?(a.a.bb(e,d.get("optionsCaption")),a.j.ja(e,n)):(g=f(c,d.get("optionsValue"),c),a.j.ja(e,a.a.c(g)),c=f(c,d.get("optionsText"),g),a.a.bb(e,c));return[e]},c,m);a.l.w(function(){k?a.j.ja(b,a.a.c(d.get("value")),!0):(h?p.length&&e().length<p.length:p.length&&0<=b.selectedIndex?a.j.u(b.options[b.selectedIndex])!==p[0]:
p.length||0<=b.selectedIndex)&&a.a.Fa(b,"change")});a.a.Sc(b);l&&20<Math.abs(l-b.scrollTop)&&(b.scrollTop=l)}};a.d.options.zb=a.a.e.J();a.d.selectedOptions={after:["options","foreach"],init:function(b,c,d){a.a.q(b,"change",function(){var e=c(),f=[];a.a.r(b.getElementsByTagName("option"),function(b){b.selected&&f.push(a.j.u(b))});a.h.Ga(e,d,"selectedOptions",f)})},update:function(b,c){if("select"!=a.a.A(b))throw Error("values binding applies only to SELECT elements");var d=a.a.c(c()),e=b.scrollTop;
d&&"number"==typeof d.length&&a.a.r(b.getElementsByTagName("option"),function(b){var c=0<=a.a.o(d,a.j.u(b));b.selected!=c&&a.a.wc(b,c)});b.scrollTop=e}};a.h.ga.selectedOptions=!0;a.d.style={update:function(b,c){var d=a.a.c(c()||{});a.a.D(d,function(c,d){d=a.a.c(d);if(null===d||d===n||!1===d)d="";b.style[c]=d})}};a.d.submit={init:function(b,c,d,e,f){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");a.a.q(b,"submit",function(a){var d,e=c();try{d=e.call(f.$data,
b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.bb(b,c())}};a.f.aa.text=!0;(function(){if(x&&x.navigator)var b=function(a){if(a)return parseFloat(a[1])},c=x.opera&&x.opera.version&&parseInt(x.opera.version()),d=x.navigator.userAgent,e=b(d.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),f=b(d.match(/Firefox\/([^ ]*)/));if(10>a.a.C)var g=a.a.e.J(),h=a.a.e.J(),l=function(b){var c=
this.activeElement;(c=c&&a.a.e.get(c,h))&&c(b)},m=function(b,c){var d=b.ownerDocument;a.a.e.get(d,g)||(a.a.e.set(d,g,!0),a.a.q(d,"selectionchange",l));a.a.e.set(b,h,c)};a.d.textInput={init:function(b,d,g){function l(c,d){a.a.q(b,c,d)}function h(){var c=a.a.c(d());if(null===c||c===n)c="";u!==n&&c===u?a.a.setTimeout(h,4):b.value!==c&&(s=c,b.value=c)}function y(){t||(u=b.value,t=a.a.setTimeout(v,4))}function v(){clearTimeout(t);u=t=n;var c=b.value;s!==c&&(s=c,a.h.Ga(d(),g,"textInput",c))}var s=b.value,
t,u,x=9==a.a.C?y:v;10>a.a.C?(l("propertychange",function(a){"value"===a.propertyName&&x(a)}),8==a.a.C&&(l("keyup",v),l("keydown",v)),8<=a.a.C&&(m(b,x),l("dragend",y))):(l("input",v),5>e&&"textarea"===a.a.A(b)?(l("keydown",y),l("paste",y),l("cut",y)):11>c?l("keydown",y):4>f&&(l("DOMAutoComplete",v),l("dragdrop",v),l("drop",v)));l("change",v);a.m(h,null,{i:b})}};a.h.ga.textInput=!0;a.d.textinput={preprocess:function(a,b,c){c("textInput",a)}}})();a.d.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+
++a.d.uniqueName.Nc;a.a.vc(b,d)}}};a.d.uniqueName.Nc=0;a.d.value={after:["options","foreach"],init:function(b,c,d){if("input"!=b.tagName.toLowerCase()||"checkbox"!=b.type&&"radio"!=b.type){var e=["change"],f=d.get("valueUpdate"),g=!1,h=null;f&&("string"==typeof f&&(f=[f]),a.a.ta(e,f),e=a.a.Wb(e));var l=function(){h=null;g=!1;var e=c(),f=a.j.u(b);a.h.Ga(e,d,"value",f)};!a.a.C||"input"!=b.tagName.toLowerCase()||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.o(e,"propertychange")||
(a.a.q(b,"propertychange",function(){g=!0}),a.a.q(b,"focus",function(){g=!1}),a.a.q(b,"blur",function(){g&&l()}));a.a.r(e,function(c){var d=l;a.a.sd(c,"after")&&(d=function(){h=a.j.u(b);a.a.setTimeout(l,0)},c=c.substring(5));a.a.q(b,c,d)});var m=function(){var e=a.a.c(c()),f=a.j.u(b);if(null!==h&&e===h)a.a.setTimeout(m,0);else if(e!==f)if("select"===a.a.A(b)){var g=d.get("valueAllowUnset"),f=function(){a.j.ja(b,e,g)};f();g||e===a.j.u(b)?a.a.setTimeout(f,0):a.l.w(a.a.Fa,null,[b,"change"])}else a.j.ja(b,
e)};a.m(m,null,{i:b})}else a.La(b,{checkedValue:c})},update:function(){}};a.h.ga.value=!0;a.d.visible={update:function(b,c){var d=a.a.c(c()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};(function(b){a.d[b]={init:function(c,d,e,f,g){return a.d.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,f,g)}}})("click");a.P=function(){};a.P.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};a.P.prototype.createJavaScriptEvaluatorBlock=
function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.P.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||t;var d=c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.v.n(d)}if(1==b.nodeType||8==b.nodeType)return new a.v.sa(b);throw Error("Unknown template type: "+b);};a.P.prototype.renderTemplate=function(a,c,d,e){a=this.makeTemplateSource(a,e);return this.renderTemplateSource(a,c,d,e)};a.P.prototype.isTemplateRewritten=function(a,
c){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,c).data("isRewritten")};a.P.prototype.rewriteTemplate=function(a,c,d){a=this.makeTemplateSource(a,d);c=c(a.text());a.text(c);a.data("isRewritten",!0)};a.b("templateEngine",a.P);a.Ib=function(){function b(b,c,d,h){b=a.h.Ab(b);for(var l=a.h.va,m=0;m<b.length;m++){var k=b[m].key;if(l.hasOwnProperty(k)){var r=l[k];if("function"===typeof r){if(k=r(b[m].value))throw Error(k);}else if(!r)throw Error("This template engine does not support the '"+
k+"' binding within its templates");}}d="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.h.Xa(b,{valueAccessors:!0})+" } })()},'"+d.toLowerCase()+"')";return h.createJavaScriptEvaluatorBlock(d)+c}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Tc:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.Ib.jd(b,
c)},d)},jd:function(a,f){return a.replace(c,function(a,c,d,e,k){return b(k,c,d,f)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",f)})},Jc:function(b,c){return a.N.yb(function(d,h){var l=d.nextSibling;l&&l.nodeName.toLowerCase()===c&&a.La(l,b,h)})}}}();a.b("__tr_ambtns",a.Ib.Jc);(function(){a.v={};a.v.n=function(b){if(this.n=b){var c=a.a.A(b);this.eb="script"===c?1:"textarea"===c?2:"template"==c&&b.content&&11===b.content.nodeType?3:4}};a.v.n.prototype.text=function(){var b=1===
this.eb?"text":2===this.eb?"value":"innerHTML";if(0==arguments.length)return this.n[b];var c=arguments[0];"innerHTML"===b?a.a.Eb(this.n,c):this.n[b]=c};var b=a.a.e.J()+"_";a.v.n.prototype.data=function(c){if(1===arguments.length)return a.a.e.get(this.n,b+c);a.a.e.set(this.n,b+c,arguments[1])};var c=a.a.e.J();a.v.n.prototype.nodes=function(){var b=this.n;if(0==arguments.length)return(a.a.e.get(b,c)||{}).mb||(3===this.eb?b.content:4===this.eb?b:n);a.a.e.set(b,c,{mb:arguments[0]})};a.v.sa=function(a){this.n=
a};a.v.sa.prototype=new a.v.n;a.v.sa.prototype.text=function(){if(0==arguments.length){var b=a.a.e.get(this.n,c)||{};b.Jb===n&&b.mb&&(b.Jb=b.mb.innerHTML);return b.Jb}a.a.e.set(this.n,c,{Jb:arguments[0]})};a.b("templateSources",a.v);a.b("templateSources.domElement",a.v.n);a.b("templateSources.anonymousTemplate",a.v.sa)})();(function(){function b(b,c,d){var e;for(c=a.f.nextSibling(c);b&&(e=b)!==c;)b=a.f.nextSibling(e),d(e,b)}function c(c,d){if(c.length){var e=c[0],f=c[c.length-1],g=e.parentNode,h=
a.S.instance,n=h.preprocessNode;if(n){b(e,f,function(a,b){var c=a.previousSibling,d=n.call(h,a);d&&(a===e&&(e=d[0]||b),a===f&&(f=d[d.length-1]||c))});c.length=0;if(!e)return;e===f?c.push(e):(c.push(e,f),a.a.Ba(c,g))}b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.Ub(d,b)});b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.N.Cc(b,[d])});a.a.Ba(c,g)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,e,f,h,q){q=q||{};var p=(b&&d(b)||f||{}).ownerDocument,n=q.templateEngine||g;
a.Ib.Tc(f,n,p);f=n.renderTemplate(f,h,q,p);if("number"!=typeof f.length||0<f.length&&"number"!=typeof f[0].nodeType)throw Error("Template engine must return an array of DOM nodes");p=!1;switch(e){case "replaceChildren":a.f.fa(b,f);p=!0;break;case "replaceNode":a.a.uc(b,f);p=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e);}p&&(c(f,h),q.afterRender&&a.l.w(q.afterRender,null,[f,h.$data]));return f}function f(b,c,d){return a.I(b)?b():"function"===typeof b?b(c,d):b}
var g;a.Fb=function(b){if(b!=n&&!(b instanceof a.P))throw Error("templateEngine must inherit from ko.templateEngine");g=b};a.Cb=function(b,c,k,h,q){k=k||{};if((k.templateEngine||g)==n)throw Error("Set a template engine before calling renderTemplate");q=q||"replaceChildren";if(h){var p=d(h);return a.B(function(){var g=c&&c instanceof a.R?c:new a.R(c,null,null,null,{exportDependencies:!0}),n=f(b,g.$data,g),g=e(h,q,n,g,k);"replaceNode"==q&&(h=g,p=d(h))},null,{ya:function(){return!p||!a.a.qb(p)},i:p&&
"replaceNode"==q?p.parentNode:p})}return a.N.yb(function(d){a.Cb(b,c,k,d,"replaceNode")})};a.pd=function(b,d,g,h,q){function p(a,b){c(b,t);g.afterRender&&g.afterRender(b,a);t=null}function s(a,c){t=q.createChildContext(a,g.as,function(a){a.$index=c});var d=f(b,a,t);return e(null,"ignoreTargetNode",d,t,g)}var t;return a.B(function(){var b=a.a.c(d)||[];"undefined"==typeof b.length&&(b=[b]);b=a.a.Ma(b,function(b){return g.includeDestroyed||b===n||null===b||!a.a.c(b._destroy)});a.l.w(a.a.Db,null,[h,b,
s,g,p])},null,{i:h})};var h=a.a.e.J();a.d.template={init:function(b,c){var d=a.a.c(c());if("string"==typeof d||d.name)a.f.za(b);else{if("nodes"in d){if(d=d.nodes||[],a.I(d))throw Error('The "nodes" option must be a plain, non-observable array.');}else d=a.f.childNodes(b);d=a.a.nc(d);(new a.v.sa(b)).nodes(d)}return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var g=c();c=a.a.c(g);d=!0;e=null;"string"==typeof c?c={}:(g=c.name,"if"in c&&(d=a.a.c(c["if"])),d&&"ifnot"in c&&(d=!a.a.c(c.ifnot)));
"foreach"in c?e=a.pd(g||b,d&&c.foreach||[],c,b,f):d?(f="data"in c?f.ac(c.data,c.as):f,e=a.Cb(g||b,f,c,b)):a.f.za(b);f=e;(c=a.a.e.get(b,h))&&"function"==typeof c.k&&c.k();a.a.e.set(b,h,f&&f.ca()?f:n)}};a.h.va.template=function(b){b=a.h.Ab(b);return 1==b.length&&b[0].unknown||a.h.fd(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.f.aa.template=!0})();a.b("setTemplateEngine",a.Fb);a.b("renderTemplate",a.Cb);a.a.hc=function(a,c,d){if(a.length&&
c.length){var e,f,g,h,l;for(e=f=0;(!d||e<d)&&(h=a[f]);++f){for(g=0;l=c[g];++g)if(h.value===l.value){h.moved=l.index;l.moved=h.index;c.splice(g,1);e=g=0;break}e+=g}}};a.a.lb=function(){function b(b,d,e,f,g){var h=Math.min,l=Math.max,m=[],k,n=b.length,q,p=d.length,s=p-n||1,t=n+p+1,v,u,x;for(k=0;k<=n;k++)for(u=v,m.push(v=[]),x=h(p,k+s),q=l(0,k-1);q<=x;q++)v[q]=q?k?b[k-1]===d[q-1]?u[q-1]:h(u[q]||t,v[q-1]||t)+1:q+1:k+1;h=[];l=[];s=[];k=n;for(q=p;k||q;)p=m[k][q]-1,q&&p===m[k][q-1]?l.push(h[h.length]={status:e,
value:d[--q],index:q}):k&&p===m[k-1][q]?s.push(h[h.length]={status:f,value:b[--k],index:k}):(--q,--k,g.sparse||h.push({status:"retained",value:d[q]}));a.a.hc(s,l,!g.dontLimitMoves&&10*n);return h.reverse()}return function(a,d,e){e="boolean"===typeof e?{dontLimitMoves:e}:e||{};a=a||[];d=d||[];return a.length<d.length?b(a,d,"added","deleted",e):b(d,a,"deleted","added",e)}}();a.b("utils.compareArrays",a.a.lb);(function(){function b(b,c,d,h,l){var m=[],k=a.B(function(){var k=c(d,l,a.a.Ba(m,b))||[];0<
m.length&&(a.a.uc(m,k),h&&a.l.w(h,null,[d,k,l]));m.length=0;a.a.ta(m,k)},null,{i:b,ya:function(){return!a.a.Tb(m)}});return{ea:m,B:k.ca()?k:n}}var c=a.a.e.J(),d=a.a.e.J();a.a.Db=function(e,f,g,h,l){function m(b,c){w=q[c];u!==c&&(D[b]=w);w.tb(u++);a.a.Ba(w.ea,e);t.push(w);z.push(w)}function k(b,c){if(b)for(var d=0,e=c.length;d<e;d++)c[d]&&a.a.r(c[d].ea,function(a){b(a,d,c[d].ka)})}f=f||[];h=h||{};var r=a.a.e.get(e,c)===n,q=a.a.e.get(e,c)||[],p=a.a.ib(q,function(a){return a.ka}),s=a.a.lb(p,f,h.dontLimitMoves),
t=[],v=0,u=0,x=[],z=[];f=[];for(var D=[],p=[],w,C=0,B,E;B=s[C];C++)switch(E=B.moved,B.status){case "deleted":E===n&&(w=q[v],w.B&&(w.B.k(),w.B=n),a.a.Ba(w.ea,e).length&&(h.beforeRemove&&(t.push(w),z.push(w),w.ka===d?w=null:f[C]=w),w&&x.push.apply(x,w.ea)));v++;break;case "retained":m(C,v++);break;case "added":E!==n?m(C,E):(w={ka:B.value,tb:a.O(u++)},t.push(w),z.push(w),r||(p[C]=w))}a.a.e.set(e,c,t);k(h.beforeMove,D);a.a.r(x,h.beforeRemove?a.ba:a.removeNode);for(var C=0,r=a.f.firstChild(e),F;w=z[C];C++){w.ea||
a.a.extend(w,b(e,g,w.ka,l,w.tb));for(v=0;s=w.ea[v];r=s.nextSibling,F=s,v++)s!==r&&a.f.kc(e,s,F);!w.ad&&l&&(l(w.ka,w.ea,w.tb),w.ad=!0)}k(h.beforeRemove,f);for(C=0;C<f.length;++C)f[C]&&(f[C].ka=d);k(h.afterMove,D);k(h.afterAdd,p)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.Db);a.X=function(){this.allowTemplateRewriting=!1};a.X.prototype=new a.P;a.X.prototype.renderTemplateSource=function(b,c,d,e){if(c=(9>a.a.C?0:b.nodes)?b.nodes():null)return a.a.W(c.cloneNode(!0).childNodes);b=b.text();
return a.a.na(b,e)};a.X.vb=new a.X;a.Fb(a.X.vb);a.b("nativeTemplateEngine",a.X);(function(){a.xb=function(){var a=this.ed=function(){if(!u||!u.tmpl)return 0;try{if(0<=u.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,e,f,g){g=g||t;f=f||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var h=b.data("precompiled");h||(h=b.text()||"",h=u.template(null,"{{ko_with $item.koBindingContext}}"+
h+"{{/ko_with}}"),b.data("precompiled",h));b=[e.$data];e=u.extend({koBindingContext:e},f.templateOptions);e=u.tmpl(h,b,e);e.appendTo(g.createElement("div"));u.fragments={};return e};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){t.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(u.tmpl.tag.ko_code={open:"__.push($1 || '');"},u.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.xb.prototype=
new a.P;var b=new a.xb;0<b.ed&&a.Fb(b);a.b("jqueryTmplTemplateEngine",a.xb)})()})})();})();

/*! WeakMap shim
 * (The MIT License)
 *
 * Copyright (c) 2012 Brandon Benvie <http://bbenvie.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and
 * associated documentation files (the 'Software'), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge, publish, distribute,
 * sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included with all copies or
 * substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING
 * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY  CLAIM,
 * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
// Original WeakMap implementation by Gozala @ https://gist.github.com/1269991
// Updated and bugfixed by Raynos @ https://gist.github.com/1638059
// Expanded by Benvie @ https://github.com/Benvie/harmony-collections
// This is the version used by knockout-es5. Modified by Steve Sanderson as follows:
// [1] Deleted weakmap.min.js (it's not useful as it would be out of sync with weakmap.js now I'm editing it)
// [2] Since UglifyJS strips inline function names (and you can't disable that without disabling name mangling
//     entirely), insert code that re-adds function names
void function(a,b,c){function d(a,b,c){return"function"==typeof b&&(c=b,b=e(c).replace(/_$/,"")),j(a,b,{configurable:!0,writable:!0,value:c})}function e(a){return"function"!=typeof a?"":"_name"in a?a._name:"name"in a?a.name:k.call(a).match(n)[1]}function f(a,b){
// Undo the name-stripping that UglifyJS does
return b._name=a,b}function g(a){function b(b,e){return e||2===arguments.length?d.set(b,e):(e=d.get(b),e===c&&(e=a(b),d.set(b,e))),e}var d=new p;return a||(a=q),b}var h=Object.getOwnPropertyNames,i="object"==typeof window?Object.getOwnPropertyNames(window):[],j=Object.defineProperty,k=Function.prototype.toString,l=Object.create,m=Object.prototype.hasOwnProperty,n=/^\n?function\s?(\w*)?_?\(/,o=function(){function a(){var a=g(),c={};this.unlock=function(d){var e=n(d);if(m.call(e,a))return e[a](c);var f=l(null,b);return j(e,a,{value:function(a){if(a===c)return f}}),f}}var b={value:{writable:!0,value:c}},e=l(null),g=function(){var a=Math.random().toString(36).slice(2);return a in e?g():e[a]=a},k=g(),n=function(a){if(m.call(a,k))return a[k];if(!Object.isExtensible(a))throw new TypeError("Object must be extensible");var b=l(null);return j(a,k,{value:b}),b};
// common per-object storage area made visible by patching getOwnPropertyNames'
return d(Object,f("getOwnPropertyNames",function(a){
// gh-43
var b,c=Object(a);
// Fixes for debuggers:
// 1) Some objects lack .toString(), calling it on them make Chrome
// debugger fail when inspecting variables.
// 2) Window.prototype methods and properties are private in IE11 and
// throw 'Invalid calling object'.
if(c!==Window.prototype&&"toString"in c&&"[object Window]"===c.toString())try{b=h(a)}catch(a){b=i}else b=h(a);return m.call(a,k)&&b.splice(b.indexOf(k),1),b})),d(a.prototype,f("get",function(a){return this.unlock(a).value})),d(a.prototype,f("set",function(a,b){this.unlock(a).value=b})),a}(),p=function(g){function h(b){return this===a||null==this||this===h.prototype?new h(b):(p(this,new o),void r(this,b))}function i(a){n(a);var d=q(this).get(a);return d===b?c:d}function j(a,d){n(a),
// store a token for explicit undefined so that "has" works correctly
q(this).set(a,d===c?b:d)}function k(a){return n(a),q(this).get(a)!==c}function l(a){n(a);var b=q(this),d=b.get(a)!==c;return b.set(a,c),d}function m(){return q(this),"[object WeakMap]"}var n=function(a){if(null==a||"object"!=typeof a&&"function"!=typeof a)throw new TypeError("Invalid WeakMap key")},p=function(a,b){var c=g.unlock(a);if(c.value)throw new TypeError("Object is already a WeakMap");c.value=b},q=function(a){var b=g.unlock(a).value;if(!b)throw new TypeError("WeakMap is not generic");return b},r=function(a,b){null!==b&&"object"==typeof b&&"function"==typeof b.forEach&&b.forEach(function(c,d){c instanceof Array&&2===c.length&&j.call(a,b[d][0],b[d][1])})};
// Undo the function-name stripping that UglifyJS does
i._name="get",j._name="set",k._name="has",m._name="toString";var s=(""+Object).split("Object"),t=f("toString",function(){return s[0]+e(this)+s[1]});d(t,t);var u={__proto__:[]}instanceof Array?function(a){a.__proto__=t}:function(a){d(a,t)};return u(h),[m,i,j,k,l].forEach(function(a){d(h.prototype,a),u(a)}),h}(new o),q=Object.create?function(){return Object.create(null)}:function(){return{}};"undefined"!=typeof module?module.exports=p:"undefined"!=typeof exports?exports.WeakMap=p:"WeakMap"in a||(a.WeakMap=p),p.createStorage=g,a.WeakMap&&(a.WeakMap.createStorage=g)}(function(){return this}()),/*!
 * Knockout ES5 plugin - https://github.com/SteveSanderson/knockout-es5
 * Copyright (c) Steve Sanderson
 * MIT license
 */
function(a,b){"use strict";
// Model tracking
// --------------
//
// This is the central feature of Knockout-ES5. We augment model objects by converting properties
// into ES5 getter/setter pairs that read/write an underlying Knockout observable. This means you can
// use plain JavaScript syntax to read/write the property while still getting the full benefits of
// Knockout's automatic dependency detection and notification triggering.
//
// For comparison, here's Knockout ES3-compatible syntax:
//
//     var firstNameLength = myModel.user().firstName().length; // Read
//     myModel.user().firstName('Bert'); // Write
//
// ... versus Knockout-ES5 syntax:
//
//     var firstNameLength = myModel.user.firstName.length; // Read
//     myModel.user.firstName = 'Bert'; // Write
// `ko.track(model)` converts each property on the given model object into a getter/setter pair that
// wraps a Knockout observable. Optionally specify an array of property names to wrap; otherwise we
// wrap all properties. If any of the properties are already observables, we replace them with
// ES5 getter/setter pairs that wrap your original observable instances. In the case of readonly
// ko.computed properties, we simply do not define a setter (so attempted writes will be ignored,
// which is how ES5 readonly properties normally behave).
//
// By design, this does *not* recursively walk child object properties, because making literally
// everything everywhere independently observable is usually unhelpful. When you do want to track
// child object properties independently, define your own class for those child objects and put
// a separate ko.track call into its constructor --- this gives you far more control.
/**
   * @param {object} obj
   * @param {object|array.<string>} propertyNamesOrSettings
   * @param {boolean} propertyNamesOrSettings.deep Use deep track.
   * @param {array.<string>} propertyNamesOrSettings.fields Array of property names to wrap.
   * todo: @param {array.<string>} propertyNamesOrSettings.exclude Array of exclude property names to wrap.
   * todo: @param {function(string, *):boolean} propertyNamesOrSettings.filter Function to filter property 
   *   names to wrap. A function that takes ... params
   * @return {object}
   */
function c(a,b){if(!a||"object"!=typeof a)throw new Error("When calling ko.track, you must pass an object as the first parameter.");var c;
// defaults
return i(b)?(b.deep=b.deep||!1,b.fields=b.fields||Object.getOwnPropertyNames(a),b.lazy=b.lazy||!1,h(a,b.fields,b)):(c=b||Object.getOwnPropertyNames(a),h(a,c,{})),a}function d(a){return a.name?a.name:(a.toString().trim().match(A)||[])[1]}function e(a){return a&&"object"==typeof a&&"Object"===d(a.constructor)}function f(a,c,d){var e=w.isObservable(a),f=!e&&Array.isArray(a),g=e?a:f?w.observableArray(a):w.observable(a);
// add check in case the object is already an observable array
return d[c]=function(){return g},(f||e&&"push"in g)&&m(w,g),{configurable:!0,enumerable:!0,get:g,set:w.isWriteableObservable(g)?g:b}}function g(a,b,c){function d(a,b){return e?b?e(a):e:Array.isArray(a)?(e=w.observableArray(a),m(w,e),e):e=w.observable(a)}if(w.isObservable(a))
// no need to be lazy if we already have an observable
return f(a,b,c);var e;return c[b]=function(){return d(a)},{configurable:!0,enumerable:!0,get:function(){return d(a)()},set:function(a){d(a,!0)}}}function h(a,b,c){if(b.length){var d=j(a,!0),i={};b.forEach(function(b){
// Skip properties that are already tracked
if(!(b in d)&&Object.getOwnPropertyDescriptor(a,b).configurable!==!1)
// Skip properties where descriptor can't be redefined
{var j=a[b];i[b]=(c.lazy?g:f)(j,b,d),c.deep&&e(j)&&h(j,Object.keys(j),c)}}),Object.defineProperties(a,i)}}function i(a){return!!a&&"object"==typeof a&&a.constructor===Object}
// Gets or creates the hidden internal key-value collection of observables corresponding to
// properties on the model object.
function j(a,b){y||(y=x());var c=y.get(a);return!c&&b&&(c={},y.set(a,c)),c}
// Removes the internal references to observables mapped to the specified properties
// or the entire object reference if no properties are passed in. This allows the
// observables to be replaced and tracked again.
function k(a,b){if(y)if(1===arguments.length)y.delete(a);else{var c=j(a,!1);c&&b.forEach(function(a){delete c[a]})}}
// Computed properties
// -------------------
//
// The preceding code is already sufficient to upgrade ko.computed model properties to ES5
// getter/setter pairs (or in the case of readonly ko.computed properties, just a getter).
// These then behave like a regular property with a getter function, except they are smarter:
// your evaluator is only invoked when one of its dependencies changes. The result is cached
// and used for all evaluations until the next time a dependency changes).
//
// However, instead of forcing developers to declare a ko.computed property explicitly, it's
// nice to offer a utility function that declares a computed getter directly.
// Implements `ko.defineProperty`
function l(a,b,d){var e=this,f={owner:a,deferEvaluation:!0};if("function"==typeof d)f.read=d;else{if("value"in d)throw new Error('For ko.defineProperty, you must not specify a "value" for the property. You must provide a "get" function.');if("function"!=typeof d.get)throw new Error('For ko.defineProperty, the third parameter must be either an evaluator function, or an options object containing a function called "get".');f.read=d.get,f.write=d.set}return a[b]=e.computed(f),c.call(e,a,[b]),a}
// Array handling
// --------------
//
// Arrays are special, because unlike other property types, they have standard mutator functions
// (`push`/`pop`/`splice`/etc.) and it's desirable to trigger a change notification whenever one of
// those mutator functions is invoked.
//
// Traditionally, Knockout handles this by putting special versions of `push`/`pop`/etc. on observable
// arrays that mutate the underlying array and then trigger a notification. That approach doesn't
// work for Knockout-ES5 because properties now return the underlying arrays, so the mutator runs
// in the context of the underlying array, not any particular observable:
//
//     // Operates on the underlying array value
//     myModel.someCollection.push('New value');
//
// To solve this, Knockout-ES5 detects array values, and modifies them as follows:
//  1. Associates a hidden subscribable with each array instance that it encounters
//  2. Intercepts standard mutators (`push`/`pop`/etc.) and makes them trigger the subscribable
// Then, for model properties whose values are arrays, the property's underlying observable
// subscribes to the array subscribable, so it can trigger a change notification after mutation.
// Given an observable that underlies a model property, watch for any array value that might
// be assigned as the property value, and hook into its change events
function m(a,b){var c=null;a.computed(function(){
// Unsubscribe to any earlier array instance
c&&(c.dispose(),c=null);
// Subscribe to the new array instance
var d=b();d instanceof Array&&(c=n(a,b,d))})}
// Listens for array mutations, and when they happen, cause the observable to fire notifications.
// This is used to make model properties of type array fire notifications when the array changes.
// Returns a subscribable that can later be disposed.
function n(a,b,c){var d=o(a,c);return d.subscribe(b)}
// Gets or creates a subscribable that fires after each array mutation
function o(a,b){z||(z=x());var c=z.get(b);if(!c){c=new a.subscribable,z.set(b,c);var d={};p(b,c,d),q(a,b,c,d)}return c}
// After each array mutation, fires a notification on the given subscribable
function p(a,b,c){["pop","push","reverse","shift","sort","splice","unshift"].forEach(function(d){var e=a[d];a[d]=function(){var a=e.apply(this,arguments);return c.pause!==!0&&b.notifySubscribers(this),a}})}
// Adds Knockout's additional array mutation functions to the array
function q(a,b,c,d){["remove","removeAll","destroy","destroyAll","replace"].forEach(function(e){
// Make it a non-enumerable property for consistency with standard Array functions
Object.defineProperty(b,e,{enumerable:!1,value:function(){var f;
// These additional array mutators are built using the underlying push/pop/etc.
// mutators, which are wrapped to trigger notifications. But we don't want to
// trigger multiple notifications, so pause the push/pop/etc. wrappers and
// delivery only one notification at the end of the process.
d.pause=!0;try{
// Creates a temporary observableArray that can perform the operation.
f=a.observableArray.fn[e].apply(a.observableArray(b),arguments)}finally{d.pause=!1}return c.notifySubscribers(b),f}})})}
// Static utility functions
// ------------------------
//
// Since Knockout-ES5 sets up properties that return values, not observables, you can't
// trivially subscribe to the underlying observables (e.g., `someProperty.subscribe(...)`),
// or tell them that object values have mutated, etc. To handle this, we set up some
// extra utility functions that can return or work with the underlying observables.
// Returns the underlying observable associated with a model property (or `null` if the
// model or property doesn't exist, or isn't associated with an observable). This means
// you can subscribe to the property, e.g.:
//
//     ko.getObservable(model, 'propertyName')
//       .subscribe(function(newValue) { ... });
function r(a,b){if(!a||"object"!=typeof a)return null;var c=j(a,!1);if(c&&b in c)return c[b]();var d=a[b];return w.isObservable(d)?d:null}
// Returns a boolean indicating whether the property on the object has an underlying
// observables. This does the check in a way not to create an observable if the
// object was created with lazily created observables
function s(a,b){if(!a||"object"!=typeof a)return!1;var c=j(a,!1);return!!c&&b in c}
// Causes a property's associated observable to fire a change notification. Useful when
// the property value is a complex object and you've modified a child property.
function t(a,b){var c=r(a,b);c&&c.valueHasMutated()}
// Module initialisation
// ---------------------
//
// When this script is first evaluated, it works out what kind of module loading scenario
// it is in (Node.js or a browser `<script>` tag), stashes a reference to its dependencies
// (currently that's just the WeakMap shim), and then finally attaches itself to whichever
// instance of Knockout.js it can find.
// Extends a Knockout instance with Knockout-ES5 functionality
function u(a){
// Custom Binding Provider
// -------------------
//
// To ensure that when using this plugin any custom bindings are provided with the observable
// rather than only the value of the property, a custom binding provider supplies bindings with
// actual observable values. The built in bindings use Knockout's internal `_ko_property_writers`
// feature to be able to write back to the property, but custom bindings may not be able to use
// that, especially if they use an options object.
function b(b){this.bindingCache={},this._providerToWrap=b,this._nativeBindingProvider=new a.bindingProvider}function d(b,c){function d(a,b){
// Handle arrays if value starts with bracket
b.match(/^\[/)?
// This is required or will throw errors
e.push(a+":ko.observableArray("+b+")"):e.push(a+':ko.getObservable($data,"'+b+'")||'+b)}c=c||{};var e=[],f="string"==typeof b?a.expressionRewriting.parseObjectLiteral(b):b;return f.forEach(function(a){d(a.key||a.unknown,a.value)}),a.expressionRewriting.preProcessBindings(e.join(","),c)}function e(a,b,c){var d=a+(c&&c.valueAccessors||"");return b[d]||(b[d]=f(a,c))}function f(a,b){var c=d(a,b),e="with($context){with($data||{}){return{"+c+"}}}";/* jshint -W054 */
return new Function("$context","$element",e)}a.track=c,a.untrack=k,a.getObservable=r,a.valueHasMutated=t,a.defineProperty=l,
// todo: test it, maybe added it to ko. directly
a.es5={getAllObservablesForObject:j,notifyWhenPresentOrFutureArrayValuesMutate:m,isTracked:s},b.prototype.nodeHasBindings=function(){return this._providerToWrap.nodeHasBindings.apply(this._providerToWrap,arguments)},b.prototype.getBindingAccessors=function(a,b){var c=this._nativeBindingProvider.getBindingsString(a,b);return c?this.parseBindingsString(c,b,a,{valueAccessors:!0}):null},b.prototype.parseBindingsString=function(a,b,c,d){try{var f=e(a,this.bindingCache,d);return f(b,c)}catch(g){throw g.message="Unable to parse bindings.\nBindings value: "+a+"\nMessage: "+g.message,g}},a.es5BindingProvider=b,a.bindingProvider.instance=new b(a.bindingProvider.instance)}
// Determines which module loading scenario we're in, grabs dependencies, and attaches to KO
function v(){if("object"==typeof exports&&"object"==typeof module){
// Node.js case - load KO and WeakMap modules synchronously
w=require("knockout");var b=a.WeakMap||require("../lib/weakmap");u(w),x=function(){return new b},module.exports=w}else"function"==typeof define&&define.amd?define(["knockout"],function(b){return w=b,u(b),x=function(){return new a.WeakMap},b}):"ko"in a&&(
// Non-module case - attach to the global instance, and assume a global WeakMap constructor
w=a.ko,u(a.ko),x=function(){return new a.WeakMap})}var w,x,y,z,A=/^function\s*([^\s(]+)/;v()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
// knockout-sortable 0.12.0 | (c) 2016 Ryan Niemeyer |  http://www.opensource.org/licenses/mit-license
!function(a){if("function"==typeof define&&define.amd)define(["knockout","jquery","jquery-ui/sortable","jquery-ui/draggable"],a);else if("function"==typeof require&&"object"==typeof exports&&"object"==typeof module){var b=require("knockout"),c=require("jquery");require("jquery-ui/sortable"),require("jquery-ui/draggable"),a(b,c)}else a(window.ko,window.jQuery)}(function(a,b){var c="ko_sortItem",d="ko_sourceIndex",e="ko_sortList",f="ko_parentList",g="ko_dragItem",h=a.utils.unwrapObservable,i=a.utils.domData.get,j=a.utils.domData.set,k=b.ui&&b.ui.version,l=k&&k.indexOf("1.6.")&&k.indexOf("1.7.")&&(k.indexOf("1.8.")||"1.8.24"===k),m=function(b,d){a.utils.arrayForEach(b,function(a){1===a.nodeType&&(j(a,c,d),j(a,f,i(a.parentNode,e)))})},n=function(b,c){var d,e={},f=h(b())||{};return f.data?(e[c]=f.data,e.name=f.template):e[c]=b(),a.utils.arrayForEach(["afterAdd","afterRender","as","beforeRemove","includeDestroyed","templateEngine","templateOptions","nodes"],function(b){f.hasOwnProperty(b)?e[b]=f[b]:a.bindingHandlers.sortable.hasOwnProperty(b)&&(e[b]=a.bindingHandlers.sortable[b])}),"foreach"===c&&(e.afterRender?(d=e.afterRender,e.afterRender=function(a,b){m.call(b,a,b),d.call(b,a,b)}):e.afterRender=m),e},o=function(a,b){var c=h(b);if(c)for(var d=0;a>d;d++)c[d]&&h(c[d]._destroy)&&a++;return a},p=function(c,d){var e,f;d?(f=document.getElementById(d),f&&(e=new a.templateSources.domElement(f),e.text(b.trim(e.text())))):b(c).contents().each(function(){this&&1!==this.nodeType&&c.removeChild(this)})};a.bindingHandlers.sortable={init:function(k,m,q,r,s){var t,u,v=b(k),w=h(m())||{},x=n(m,"foreach"),y={};p(k,x.name),b.extend(!0,y,a.bindingHandlers.sortable),w.options&&y.options&&(a.utils.extend(y.options,w.options),delete w.options),a.utils.extend(y,w),y.connectClass&&(a.isObservable(y.allowDrop)||"function"==typeof y.allowDrop)?a.computed({read:function(){var b=h(y.allowDrop),c="function"==typeof b?b.call(this,x.foreach):b;a.utils.toggleDomNodeCssClass(k,y.connectClass,c)},disposeWhenNodeIsRemoved:k},this):a.utils.toggleDomNodeCssClass(k,y.connectClass,y.allowDrop),a.bindingHandlers.template.init(k,function(){return x},q,r,s),t=y.options.start,u=y.options.update,y.options.helper=function(a,c){return c.is("tr")&&c.children().each(function(){b(this).width(b(this).width())}),c};var z=setTimeout(function(){var m;v.sortable(a.utils.extend(y.options,{start:function(b,c){var e=c.item[0];j(e,d,a.utils.arrayIndexOf(c.item.parent().children(),e)),c.item.find("input:focus").change(),t&&t.apply(this,arguments)},receive:function(a,b){m=i(b.item[0],g),m&&(m.clone&&(m=m.clone()),y.dragged&&(m=y.dragged.call(this,m,a,b)||m))},update:function(g,h){var k,n,p,q,r,s=h.item[0],t=h.item.parent()[0],v=i(s,c)||m;if(m=null,v&&this===t||!l&&b.contains(this,t)){if(k=i(s,f),p=i(s,d),n=i(s.parentNode,e),q=a.utils.arrayIndexOf(h.item.parent().children(),s),x.includeDestroyed||(p=o(p,k),q=o(q,n)),(y.beforeMove||y.afterMove)&&(r={item:v,sourceParent:k,sourceParentNode:k&&h.sender||s.parentNode,sourceIndex:p,targetParent:n,targetIndex:q,cancelDrop:!1},y.beforeMove&&y.beforeMove.call(this,r,g,h)),k?b(k===n?this:h.sender||this).sortable("cancel"):b(s).remove(),r&&r.cancelDrop)return;q>=0&&(k&&(k.splice(p,1),a.processAllDeferredBindingUpdates&&a.processAllDeferredBindingUpdates()),n.splice(q,0,v)),j(s,c,null),a.processAllDeferredBindingUpdates&&a.processAllDeferredBindingUpdates(),y.afterMove&&y.afterMove.call(this,r,g,h)}u&&u.apply(this,arguments)},connectWith:y.connectClass?"."+y.connectClass:!1})),void 0!==y.isEnabled&&a.computed({read:function(){v.sortable(h(y.isEnabled)?"enable":"disable")},disposeWhenNodeIsRemoved:k})},0);return a.utils.domNodeDisposal.addDisposeCallback(k,function(){(v.data("ui-sortable")||v.data("sortable"))&&v.sortable("destroy"),a.utils.toggleDomNodeCssClass(k,y.connectClass,!1),clearTimeout(z)}),{controlsDescendantBindings:!0}},update:function(b,c,d,f,g){var h=n(c,"foreach");j(b,e,h.foreach),a.bindingHandlers.template.update(b,function(){return h},d,f,g)},connectClass:"ko_container",allowDrop:!0,afterMove:null,beforeMove:null,options:{}},a.bindingHandlers.draggable={init:function(c,d,e,f,i){var k=h(d())||{},l=k.options||{},m=a.utils.extend({},a.bindingHandlers.draggable.options),o=n(d,"data"),p=k.connectClass||a.bindingHandlers.draggable.connectClass,q=void 0!==k.isEnabled?k.isEnabled:a.bindingHandlers.draggable.isEnabled;return k="data"in k?k.data:k,j(c,g,k),a.utils.extend(m,l),m.connectToSortable=p?"."+p:!1,b(c).draggable(m),void 0!==q&&a.computed({read:function(){b(c).draggable(h(q)?"enable":"disable")},disposeWhenNodeIsRemoved:c}),a.utils.domNodeDisposal.addDisposeCallback(c,function(){b(c).draggable("destroy")}),a.bindingHandlers.template.init(c,function(){return o},e,f,i)},update:function(b,c,d,e,f){var g=n(c,"data");return a.bindingHandlers.template.update(b,function(){return g},d,e,f)},connectClass:a.bindingHandlers.sortable.connectClass,options:{helper:"clone"}}});
/*
 Knockout.Punches
 Enhanced binding syntaxes for Knockout 3+
 (c) Michael Best
 License: MIT (http://www.opensource.org/licenses/mit-license.php)
 Version 0.5.1
*/
(function(c){if("function"===typeof define&&define.amd)define(["knockout"],c);else if("object"===typeof module){var g=require("knockout");c(g)}else c(window.ko)})(function(c){function g(a,b){return u(A(a),"preprocess",b)}function A(a){return"object"===typeof a?a:c.getBindingHandler(a)||(c.bindingHandlers[a]={})}function u(a,b,d){if(a[b]){var h=a[b];a[b]=function(a,b,c){if(a=h.call(this,a,b,c))return d.call(this,a,b,c)}}else a[b]=d;return a}function q(a){var b=c.bindingProvider.instance;if(b.preprocessNode){var d=
b.preprocessNode;b.preprocessNode=function(b){var c=d.call(this,b);c||(c=a.call(this,b));return c}}else b.preprocessNode=a}function C(a,b){var d=c.getBindingHandler;c.getBindingHandler=function(c){var e;return d(c)||(e=c.match(a))&&b(e,c)}}function v(a){if(-1===a.indexOf("|"))return a;var b=a.match(/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'|\|\||[|:]|[^\s|:"'][^|:"']*[^\s|:"']|[^\s|:"']/g);if(b&&1<b.length){b.push("|");a=b[0];for(var d,c,e=!1,f=!1,B=1;c=b[B];++B)"|"===c?(e&&(":"===d&&(a+="undefined"),a+=")"),
e=f=!0):(f?a="ko.filters['"+c+"']("+a:e&&":"===c?(":"===d&&(a+="undefined"),a+=","):a+=c,f=!1),d=c}return a}function w(a){g(a,v)}function x(a,b,d){function h(d){e[d]&&(e[d]=function(e,h){var g=Array.prototype.slice.call(arguments,0);g[1]=function(){var b={};b[a]=h();return b};return c.bindingHandlers[b][d].apply(this,g)})}var e=c.utils.extend({},this);h("init");h("update");e.preprocess&&(e.preprocess=null);c.virtualElements.allowedBindings[b]&&(c.virtualElements.allowedBindings[d]=!0);return e}function r(a,
b){var d=c.getBindingHandler(a);if(d){var h=d.getNamespacedHandler||x;d.getNamespacedHandler=function(){return g(h.apply(this,arguments),b)}}}function D(a,b,d){if("{"!==a.charAt(0))return a;a=c.expressionRewriting.parseObjectLiteral(a);c.utils.arrayForEach(a,function(a){d(b+E+a.key,a.value)})}function n(a){g(a,D)}function m(a){return/^([$_a-z][$\w]*|.+(\.\s*[$_a-z][$\w]*|\[.+\]))$/i.test(a)?"function(_x,_y,_z){return("+a+")(_x,_y,_z);}":a}function s(a){g(a,m)}function p(a,b,d){a=A(a);a._propertyPreprocessors||
(u(a,"preprocess",M),a._propertyPreprocessors={});u(a._propertyPreprocessors,b,d)}function M(a,b,d){if("{"!==a.charAt(0))return a;a=c.expressionRewriting.parseObjectLiteral(a);var h=[],e=this._propertyPreprocessors||{};c.utils.arrayForEach(a,function(a){var b=a.key;a=a.value;e[b]&&(a=e[b](a,b,d));a&&h.push("'"+b+"':"+a)});return"{"+h.join(",")+"}"}function y(a){return function(b){return"function("+a+"){return("+b+");}"}}function F(a,b,d){function c(a){var f=a.match(/^([\s\S]*)}}([\s\S]*?)\{\{([\s\S]*)$/);
f?(c(f[1]),b(f[2]),d(f[3])):d(a)}if(a=a.match(/^([\s\S]*?)\{\{([\s\S]*)}}([\s\S]*)$/))b(a[1]),c(a[2]),b(a[3])}function t(a){return null==a?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function G(a){if(3===a.nodeType&&a.nodeValue&&-1!==a.nodeValue.indexOf("{{")&&"TEXTAREA"!=(a.parentNode||{}).nodeName){var b=[];F(a.nodeValue,function(a){a&&b.push(document.createTextNode(a))},function(d){d&&b.push.apply(b,N.wrapExpression(d,a))});if(b.length){if(a.parentNode){for(var d=0,c=b.length,
e=a.parentNode;d<c;++d)e.insertBefore(b[d],a);e.removeChild(a)}return b}}}function H(){q(G)}function I(a){if(1===a.nodeType&&a.attributes.length)for(var b=a.getAttribute(z),d=c.utils.arrayPushAll([],a.attributes),h=d.length,e=0;e<h;++e){var f=d[e];if(f.specified&&f.name!=z&&-1!==f.value.indexOf("{{")){var g=[],k="";F(f.value,function(a){a&&g.push('"'+a.replace(/"/g,'\\"')+'"')},function(a){a&&(k=a,g.push("ko.unwrap("+a+")"))});1<g.length&&(k='""+'+g.join("+"));if(k){var l=f.name.toLowerCase(),l=O.attributeBinding(l,
k,a)||J(l,k,a),b=b?b+(","+l):l;a.setAttribute(z,b);a.removeAttribute(f.name)}}}}function J(a,b,d){return c.getBindingHandler(a)?a+":"+b:"attr."+a+":"+b}function K(){q(I)}var l=c.unwrap,k=c.punches={utils:{addBindingPreprocessor:g,addNodePreprocessor:q,addBindingHandlerCreator:C,setBindingPreprocessor:g,setNodePreprocessor:q}};k.enableAll=function(){H();K();n("attr");n("css");n("event");n("style");c.bindingHandlers.checked.after.push("attr.value");w("text");w("html");r("attr",v);s("click");s("submit");
s("optionsAfterRender");r("event",m);p("template","beforeRemove",m);p("template","afterAdd",m);p("template","afterRender",m)};c.filters={uppercase:function(a){return String.prototype.toUpperCase.call(l(a))},lowercase:function(a){return String.prototype.toLowerCase.call(l(a))},"default":function(a,b){a=l(a);return"function"===typeof a?a:"string"===typeof a?""===t(a)?b:a:null==a||0==a.length?b:a},replace:function(a,b,d){return String.prototype.replace.call(l(a),b,d)},fit:function(a,b,d,c){a=l(a);if(b&&
(""+a).length>b)switch(d=""+(d||"..."),b-=d.length,a=""+a,c){case "left":return d+a.slice(-b);case "middle":return c=Math.ceil(b/2),a.substr(0,c)+d+a.slice(c-b);default:return a.substr(0,b)+d}else return a},json:function(a,b,d){return c.toJSON(a,d,b)},number:function(a){return(+l(a)).toLocaleString()}};k.textFilter={preprocessor:v,enableForBinding:w};var E=".";C(/([^\.]+)\.(.+)/,function(a,b){var d=a[1],h=c.bindingHandlers[d];if(h)return d=(h.getNamespacedHandler||x).call(h,a[2],d,b),c.bindingHandlers[b]=
d});k.namespacedBinding={defaultGetHandler:x,setDefaultBindingPreprocessor:r,addDefaultBindingPreprocessor:r,preprocessor:D,enableForBinding:n};k.wrappedCallback={preprocessor:m,enableForBinding:s};k.preprocessBindingProperty={setPreprocessor:p,addPreprocessor:p};var L=y("$data,$event");k.expressionCallback={makePreprocessor:y,eventPreprocessor:L,enableForBinding:function(a,b){b=Array.prototype.slice.call(arguments,1).join();g(a,y(b))}};c.bindingHandlers.on={getNamespacedHandler:function(a){a=c.getBindingHandler("event"+
E+a);return g(a,L)}};if(!c.virtualElements.allowedBindings.html){var P=c.bindingHandlers.html.update;c.bindingHandlers.html.update=function(a,b){if(8===a.nodeType){var d=l(b());null!=d?(d=c.utils.parseHtmlFragment(""+d),c.virtualElements.setDomNodeChildren(a,d)):c.virtualElements.emptyNode(a)}else P(a,b)};c.virtualElements.allowedBindings.html=!0}var N=k.interpolationMarkup={preprocessor:G,enable:H,wrapExpression:function(a,b){var c=b?b.ownerDocument:document,h=!0,e;a=t(a);var f=a[0],g=a[a.length-
1],k=[];if("#"===f){if("/"===g?e=a.slice(1,-1):(e=a.slice(1),h=!1),f=e.match(/^([^,"'{}()\/:[\]\s]+)\s+([^\s:].*)/))e=f[1]+":"+f[2]}else"/"!==f&&(e="{"===f&&"}"===g?"html:"+t(a.slice(1,-1)):"text:"+t(a));e&&k.push(c.createComment("ko "+e));h&&k.push(c.createComment("/ko"));return k}},z="data-bind",O=k.attributeInterpolationMarkup={preprocessor:I,enable:K,attributeBinding:J};return k});

(function(){var a;this.Maslosoft||(this.Maslosoft={}),this.Maslosoft.Sugar||(this.Maslosoft.Sugar={}),a=Object.keys?Object.keys:function(){"use strict";var a,b,c,d;return d=Object.prototype.hasOwnProperty,c=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],b=a.length,function(e){var f,g,h;if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");h=[],g=void 0,f=void 0;for(g in e)g=g,d.call(e,g)&&h.push(g);if(c)for(f=0;f<b;)d.call(e,a[f])&&h.push(a[f]),f++;return h}}(),this.Maslosoft.Sugar.abstract=function(){throw new Error("This method is abstract")},this.Maslosoft.Sugar.implement=function(b,c){var d;return d=function(){var d,e,f,g;f=a(c.prototype),g=[];for(d in f)if(e=f[d],"function"==typeof c.prototype[e]){if("function"!=typeof b.prototype[e])throw new Error("Class "+b.name+" implementing "+c.name+" must have "+e+" method");g.push(void 0)}else g.push(void 0);return g},setTimeout(d,0)},this.Maslosoft.Sugar.mixin=function(b,c){var d,e,f,g,h;f=b.name,g=a(c.prototype),h=[];for(d in g)e=g[d],h.push(b.prototype[e]=c.prototype[e]);return h}}).call(this);
(function(){var abstract,implement,isArray,isFunction,mixin,parseQueryString,bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;mixin=Maslosoft.Sugar.mixin,implement=Maslosoft.Sugar.implement,abstract=Maslosoft.Sugar["abstract"],parseQueryString=function(queryString){var i,part,query,result;for(query=queryString.split("&"),result={},i=0;i<query.length;)part=query[i].split("=",2),1===part.length?result[part[0]]="":result[part[0]]=decodeURIComponent(part[1].replace(/\+/g," ")),++i;return result},isFunction=function(obj){return!!(obj&&obj.constructor&&obj.call&&obj.apply)},isArray=function(obj){return"[object Array]"===toString.call(obj)},this.Maslosoft||(this.Maslosoft={}),this.Maslosoft.Playlist=function(){function Playlist(element,options){null==options&&(options=null),this.options=new Maslosoft.Playlist.Options(options),this.adapters=this.options.adapters,this.extractor=new this.options.extractor,this.element=jQuery(element),this.element.id?this.id=this.element.id:(this.id="maslosoftPlaylist"+Playlist.idCounter++,this.element.prop("id",this.id)),this.frameId=this.id+"Frame",this.build(),this.msg=new Maslosoft.Playlist.Helpers.Messenger(this.frame)}var frameTemplate;return Playlist.idCounter=0,frameTemplate='<iframe src="" frameborder="" webkitAllowFullScreen mozallowfullscreen allowFullScreen scrolling="no" allowtransparency="true"></iframe>',Playlist.prototype.id="",Playlist.prototype.frameId="",Playlist.prototype.element=null,Playlist.prototype.links=null,Playlist.prototype.adapters=[],Playlist.prototype.msg=null,Playlist.prototype.extractor=null,Playlist.prototype.build=function(){var ad,adapter,currentLink,first,initScroller,j,k,len,len1,link,linkElement,links,playlistHolder,playlistWrapper,ref,src;for(links=this.extractor.getData(this.element),this.element.html("<div class='maslosoft-video-embed-wrapper'> <div class='maslosoft-video-embed-container'> "+frameTemplate+" </div> </div>"),this.playlist=jQuery('<div class="maslosoft-video-playlist" />'),this.frame=this.element.find("iframe"),this.frame.prop("id",this.frameId),first=!0,j=0,len=links.length;len>j;j++)for(link=links[j],ref=this.adapters,k=0,len1=ref.length;len1>k;k++)adapter=ref[k],adapter.match(link.url)&&(ad=new adapter,ad.setUrl(link.url),ad.setTitle(link.title),linkElement=this.createLink(ad),first&&(currentLink=linkElement,this.current=ad,src=ad.getSrc(this.frame),src&&this.frame.prop("src",src),this.frame.one("load",function(_this){return function(e){return ad.onEnd(_this.frame,function(){return _this.next(currentLink)})}}(this)),linkElement.addClass("active"),first=!1));return playlistWrapper=jQuery('<div class="maslosoft-video-playlist-wrapper"></div>'),playlistHolder=jQuery('<div class="maslosoft-video-playlist-holder"></div>'),playlistHolder.append(this.playlist),playlistWrapper.append(playlistHolder),this.element.append(playlistWrapper),this.links=this.playlist.find("a"),1===this.links.length&&(this.element.find(".maslosoft-video-playlist-wrapper").remove(),this.element.find(".maslosoft-video-embed-wrapper").css("width","100%")),"function"==typeof jQuery.fn.tooltip&&jQuery("#"+this.id).tooltip({selector:"a",placement:"left",container:"body"}),initScroller=function(_this){return function(e){return new Maslosoft.Playlist.Helpers.Scroller(_this.element,_this.playlist)}}(this),this.frame.on("load",initScroller),jQuery(window).on("resize",initScroller),initScroller(),!0},Playlist.prototype.next=function(link){var index,j,l,len,ref;for(link=link[0],ref=this.links,index=j=0,len=ref.length;len>j&&(l=ref[index],link.id!==l.id);index=++j);return index++,this.links[index]?(link=this.links[index],link.click()):(console.log("No more videos"),this.links.removeClass("active playing"),void(this.links.get(0)&&jQuery(this.links.get(0)).addClass("active")))},Playlist.prototype.createLink=function(adapter){var caption,link,thumbCallback;return caption=jQuery('<div class="caption"/>'),caption.html(adapter.getTitle()),link=jQuery("<a />"),link.attr("id",adapter.linkId),link.attr("title",adapter.getTitle()),link.attr("href",adapter.getUrl()),link.attr("rel","tooltip"),link.attr("data-placement","left"),link.attr("data-html",!0),thumbCallback=function(src){return link.css("background-image","url('"+src+"')"),link.attr("title",adapter.getTitle())},adapter.setThumb(thumbCallback),link.html("<i></i>"),link.on("mouseout",function(_this){return function(e){return"function"==typeof jQuery.fn.tooltip?link.tooltip("hide"):void 0}}(this)),link.on("click",function(_this){return function(e){var endCb,loaded,src;return e.preventDefault(),console.log("Playing next link..."),"function"==typeof jQuery.fn.tooltip&&link.tooltip("hide"),loaded=!0,adapter!==_this.current&&(_this.current=adapter,loaded=!1,src=adapter.getSrc(_this.frame),src&&_this.frame.prop("src",src)),_this.links.removeClass("active playing"),endCb=function(){return _this.next(link)},loaded||_this.frame.one("load",function(e){return adapter.play(_this.frame),adapter.onEnd(_this.frame,endCb),adapter.isPlaying()?link.addClass("active playing"):void 0}),loaded&&(adapter.isPlaying()?(link.addClass("active"),adapter.pause(_this.frame)):(link.addClass("active playing"),adapter.play(_this.frame),adapter.onEnd(_this.frame,function(){return _this.next(link)}))),link.addClass("active"),adapter.isPlaying()?link.addClass("playing"):link.removeClass("playing")}}(this)),this.playlist.append(link),link},Playlist}(),this.Maslosoft.Playlist.Options=function(){function Options(options){var j,len,name,option;for(null==options&&(options=[]),this.adapters=new Array,name=j=0,len=options.length;len>j;name=++j)option=options[name],this[name]=option;this.adapters.length||(this.adapters=[Maslosoft.Playlist.Adapters.YouTube,Maslosoft.Playlist.Adapters.Vimeo,Maslosoft.Playlist.Adapters.Dailymotion]),this.extractor||(this.extractor=Maslosoft.Playlist.Extractors.LinkExtractor)}return Options.prototype.adapters=[],Options.prototype.extractor=null,Options}(),this.Maslosoft.Playlist.Adapters||(this.Maslosoft.Playlist.Adapters={}),this.Maslosoft.Playlist.Adapters.Abstract=function(){function Abstract(){var id;Abstract.idCounter++,this.linkId="maslosoft-playlist-link-"+Abstract.idCounter,id=this.constructor.name,Abstract.initialized[id]||(Maslosoft.Playlist.Adapters[id].once(),Abstract.initialized[id]=!0)}var title;return Abstract.idCounter=0,Abstract.initialized={},Abstract.prototype.id="",Abstract.prototype.linkId="",Abstract.prototype.url="",Abstract.prototype.frame=null,Abstract.prototype.playing=!1,title="",Abstract.match=function(url){},Abstract.parseEventData=function(rawData){return JSON.parse(rawData)},Abstract.once=function(playlist){},Abstract.prototype.setUrl=function(url1){this.url=url1},Abstract.prototype.getUrl=function(){return this.url},Abstract.prototype.setTitle=function(title){return this.title=title},Abstract.prototype.getTitle=function(){return this.title},Abstract.prototype.setThumb=function(thumbCallback){},Abstract.prototype.getSrc=function(frame1){this.frame=frame1},Abstract.prototype.isPlaying=function(){return this.playing},Abstract.prototype.onEnd=function(frame1,event){this.frame=frame1},Abstract.prototype.play=function(frame1){this.frame=frame1},Abstract.prototype.stop=function(frame1){this.frame=frame1},Abstract.prototype.pause=function(frame1){this.frame=frame1},Abstract}(),this.Maslosoft.Playlist.Adapters||(this.Maslosoft.Playlist.Adapters={}),this.Maslosoft.Playlist.DailymotionOld=function(superClass){function DailymotionOld(){return this.setOnEndCallback=bind(this.setOnEndCallback,this),this.getSrc=bind(this.getSrc,this),DailymotionOld.__super__.constructor.apply(this,arguments)}var apiready,init,ready;return extend(DailymotionOld,superClass),ready=!1,apiready=!1,init=jQuery.noop,DailymotionOld.prototype.endCallback=null,DailymotionOld.match=function(url){return url.match("dailymotion")},DailymotionOld.once=function(){var script,tag;return script=document.createElement("script"),script.async=!0,script.src="https://api.dmcdn.net/all.js",tag=document.getElementsByTagName("script")[0],tag.parentNode.insertBefore(script,tag),window.dmAsyncInit=function(){return DM.init(),init(),ready=!0}},DailymotionOld.prototype.setUrl=function(url1){var part;return this.url=url1,part=this.url.replace(/.+?\//g,""),this.id=part.replace(/_.+/g,"")},DailymotionOld.prototype.getSrc=function(frame1){var frameId,params,src;return this.frame=frame1,frameId=this.frame.get(0).id,init=function(_this){return function(){var config,player;return config={video:_this.id,params:{api:"postMessage",autoplay:ready,origin:document.location.protocol+"//"+document.location.hostname,id:frameId,"endscreen-enable":0,"webkit-playsinline":1,html:1}},player=DM.player(_this.frame.get(0),config),player.addEventListener("apiready",function(){return console.log("DM API ready"),apiready=!0,_this.playing=ready}),player.addEventListener("end",function(){return console.log("On video end..."),console.log(_this.endCallback),_this.endCallback()})}}(this),ready?(init(),!1):(params=["endscreen-enable=0","api=postMessage","autoplay=1","id="+frameId,"origin="+document.location.protocol+"//"+document.location.hostname],src="https://www.dailymotion.com/embed/video/"+this.id+"?"+params.join("&"))},DailymotionOld.prototype.setThumb=function(thumbCallback){var url;return url="//www.dailymotion.com/thumbnail/video/"+this.id,thumbCallback(url)},DailymotionOld.prototype.play=function(frame1){return this.frame=frame1,this.call("play"),this.playing=!0},DailymotionOld.prototype.stop=function(frame1){return this.frame=frame1,this.call("pause"),this.playing=!1},DailymotionOld.prototype.pause=function(frame1){return this.frame=frame1,this.call("pause"),this.playing=!1},DailymotionOld.prototype.setOnEndCallback=function(frame1,callback){var e;this.frame=frame1;try{return this.endCallback=callback,console.log("Setting callback...")}catch(_error){return e=_error,console.log("Could not set callback..."),console.log(e)}},DailymotionOld.prototype.call=function(func,args){var toCall;return null==args&&(args=[]),(toCall=function(_this){return function(){var data,frameId,iframe,result;return ready?apiready?(console.log("Call DM "+func),frameId=_this.frame.get(0).id,iframe=document.getElementById(frameId),data={command:func,parameters:args},result=iframe.contentWindow.postMessage(JSON.stringify(data),"*")):void console.log("api not ready, skipping"):void console.log("Not loaded")}}(this))()},DailymotionOld}(this.Maslosoft.Playlist.Adapters.Abstract),this.Maslosoft.Playlist.Adapters||(this.Maslosoft.Playlist.Adapters={}),this.Maslosoft.Playlist.Adapters.Dailymotion=function(superClass){function Dailymotion(){return this.onEnd=bind(this.onEnd,this),this.getSrc=bind(this.getSrc,this),Dailymotion.__super__.constructor.apply(this,arguments)}var apiready,init,ready;return extend(Dailymotion,superClass),ready=!1,apiready=!1,init=jQuery.noop,Dailymotion.prototype.endCallback=null,Dailymotion.match=function(url){return url.match("dailymotion")},Dailymotion.parseEventData=function(rawData){return parseQueryString(rawData)},Dailymotion.once=function(){},Dailymotion.prototype.setUrl=function(url1){var part;return this.url=url1,part=this.url.replace(/.+?\//g,""),this.id=part.replace(/_.+/g,"")},Dailymotion.prototype.getSrc=function(frame1){var frameId,params,src;return this.frame=frame1,frameId=this.frame.get(0).id,params=["endscreen-enable=0","api=postMessage","autoplay=0","id="+frameId,"origin="+document.location.protocol+"//"+document.location.hostname],src="https://www.dailymotion.com/embed/video/"+this.id+"?"+params.join("&")},Dailymotion.prototype.setThumb=function(thumbCallback){var url;return url="//www.dailymotion.com/thumbnail/video/"+this.id,thumbCallback(url)},Dailymotion.prototype.play=function(frame1){return this.frame=frame1,this.call("play"),this.playing=!0},Dailymotion.prototype.stop=function(frame1){return this.frame=frame1,this.call("pause"),this.playing=!1},Dailymotion.prototype.pause=function(frame1){return this.frame=frame1,this.call("pause"),this.playing=!1},Dailymotion.prototype.onEnd=function(frame1,callback){var name,onMsg;return this.frame=frame1,onMsg=function(e,data){return console.log("onEnd Dailymotion"),callback()},name="message.maslosoft.playlist.dailymotion.end",this.frame.on(name,onMsg)},Dailymotion.prototype.call=function(func,args){var toCall;return null==args&&(args=[]),(toCall=function(_this){return function(){var data,frameId,iframe,result;return console.log("Call DM "+func),frameId=_this.frame.get(0).id,iframe=document.getElementById(frameId),data={command:func,parameters:args},result=iframe.contentWindow.postMessage(JSON.stringify(data),"*")}}(this))()},Dailymotion}(this.Maslosoft.Playlist.Adapters.Abstract),this.Maslosoft.Playlist.Adapters||(this.Maslosoft.Playlist.Adapters={}),this.Maslosoft.Playlist.Adapters.Vimeo=function(superClass){function Vimeo(){return Vimeo.__super__.constructor.apply(this,arguments)}return extend(Vimeo,superClass),Vimeo.match=function(url){return url.match("vimeo")},Vimeo.once=function(){var script;if("undefined"==typeof Froogaloop)return script=document.createElement("script"),script.type="text/javascript",script.src="//f.vimeocdn.com/js/froogaloop2.min.js",jQuery("head").append(script)},Vimeo.prototype.setUrl=function(url1){return this.url=url1,this.id=this.url.replace(/.+\//,""),this.id=this.id.replace(/\?.+/,"")},Vimeo.prototype.getSrc=function(frame1){var frameId,params,src;return this.frame=frame1,frameId=this.frame.get(0).id,params=["api=1","player_id="+frameId],src="//player.vimeo.com/video/"+this.id+"?"+params.join("&")},Vimeo.prototype.setThumb=function(thumbCallback){return $.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+this.id+".json",jsonp:"callback",dataType:"jsonp",success:function(_this){return function(data){return _this.title||_this.setTitle(data[0].title),thumbCallback(data[0].thumbnail_large)}}(this)})},Vimeo.prototype.play=function(frame1){return this.frame=frame1,this.call("play"),this.playing=!0},Vimeo.prototype.stop=function(frame1){return this.frame=frame1,this.call("unload"),this.playing=!1},Vimeo.prototype.pause=function(frame1){return this.frame=frame1,this.call("pause"),this.playing=!1},Vimeo.prototype.onEnd=function(frame1,callback){var e,player;this.frame=frame1;try{player=Froogaloop(this.frame.get(0));try{player.addEvent("ready",function(_this){return function(){return player.addEvent("finish",callback)}}(this))}catch(_error){e=_error}try{return player.addEvent("finish",callback)}catch(_error){e=_error}}catch(_error){e=_error}},Vimeo.prototype.call=function(func,args){var toCall;return null==args&&(args=[]),toCall=function(_this){return function(){var data,frameId,iframe,result;return console.log("Call "+func),frameId=_this.frame.get(0).id,iframe=document.getElementById(frameId),data={method:func,value:args},result=iframe.contentWindow.postMessage(JSON.stringify(data),"*")}}(this),setTimeout(toCall,0),setTimeout(toCall,500)},Vimeo}(this.Maslosoft.Playlist.Adapters.Abstract),this.Maslosoft.Playlist.Adapters||(this.Maslosoft.Playlist.Adapters={}),this.Maslosoft.Playlist.Adapters.YouTube=function(superClass){function YouTube(){return this.onEnd=bind(this.onEnd,this),YouTube.__super__.constructor.apply(this,arguments)}return extend(YouTube,superClass),YouTube.match=function(url){return url.match("youtube")},YouTube.once=function(){var script;if("undefined"==typeof YT)return script=document.createElement("script"),script.type="text/javascript",script.src="https://www.youtube.com/player_api",jQuery("head").append(script)},YouTube.prototype.setUrl=function(url1){return this.url=url1,this.id=this.url.replace(/.+?v=/,"")},YouTube.prototype.setThumb=function(thumbCallback){return thumbCallback("//img.youtube.com/vi/"+this.id+"/0.jpg")},YouTube.prototype.getSrc=function(frame1){var params,src;return this.frame=frame1,params=["enablejsapi=1","rel=0","controls=2","modestbranding=1","origin="+document.location.protocol+"//"+document.location.hostname],src="//www.youtube.com/embed/"+this.id+"?"+params.join("&"),console.log(src),src},YouTube.prototype.play=function(frame1){return this.frame=frame1,this.call("playVideo"),this.playing=!0},YouTube.prototype.stop=function(frame1){return this.frame=frame1,this.call("stopVideo"),this.playing=!1},YouTube.prototype.pause=function(frame1){return this.frame=frame1,this.call("pauseVideo"),this.playing=!1},YouTube.prototype.onEnd=function(frame1,callback){var infoDelivery,name,onStateChange,player;return this.frame=frame1,player=new YT.Player(this.frame.get(0).id,{height:"390",width:"640",videoId:this.id,events:{onStateChange:jQuery.noop}}),onStateChange=function(e,data){return 0===data.info?callback():void 0},name="message.maslosoft.playlist.youtube.onStateChange",this.frame.on(name,onStateChange),infoDelivery=function(_this){return function(e,data){return data.info.currentTime===data.info.duration?_this.playing=!1:void 0}}(this),name="message.maslosoft.playlist.youtube.infoDelivery",this.frame.on(name,infoDelivery)},YouTube.prototype.call=function(func,args){var toCall;return null==args&&(args=[]),toCall=function(_this){return function(){var data,frameId,iframe,result;return frameId=_this.frame.get(0).id,iframe=document.getElementById(frameId),data={event:"command",func:func,args:args,id:frameId},result=iframe.contentWindow.postMessage(JSON.stringify(data),"*")}}(this),setTimeout(toCall,0),setTimeout(toCall,500)},YouTube}(this.Maslosoft.Playlist.Adapters.Abstract),this.Maslosoft.Playlist.Data||(this.Maslosoft.Playlist.Data={}),this.Maslosoft.Playlist.Data.Video=function(){function Video(options){var j,len,name,option;for(null==options&&(options=[]),name=j=0,len=options.length;len>j;name=++j)option=options[name],this[name]=option}return Video.prototype.title="",Video.prototype.url="",Video}(),this.Maslosoft.Playlist.Extractors||(this.Maslosoft.Playlist.Extractors={}),this.Maslosoft.Playlist.Extractors.Abstract=function(){function Abstract(){}return Abstract.prototype.getData=function(element){},Abstract}(),this.Maslosoft.Playlist.Extractors||(this.Maslosoft.Playlist.Extractors={}),this.Maslosoft.Playlist.Extractors.LinkExtractor=function(){function LinkExtractor(){}return LinkExtractor.prototype.getData=function(element){var d,data,j,len,link,ref;for(data=[],ref=element.find("a"),j=0,len=ref.length;len>j;j++)link=ref[j],d=new Maslosoft.Playlist.Data.Video,d.url=link.href,d.title=link.innerHTML,data.push(d);return data},LinkExtractor}(),this.Maslosoft.Playlist.Helpers||(this.Maslosoft.Playlist.Helpers={}),Maslosoft.Playlist.Helpers.Messenger=function(){function Messenger(frame1){this.frame=frame1,this.onMessage=bind(this.onMessage,this),this.element=this.frame.get(0),window.addEventListener?window.addEventListener("message",this.onMessage,!1):window.attachEvent("onmessage",this.onMessage)}return Messenger.prototype.frame=null,Messenger.prototype.element=null,Messenger.prototype.onMessage=function(event){var adapter,data,name,ns,parsedData,ref;if(this.frame.get(0).contentWindow===event.source){ref=Maslosoft.Playlist.Adapters;for(name in ref)if(adapter=ref[name],adapter.match(event.origin))return parsedData=adapter.parseEventData(event.data),data=[parsedData],ns="message.maslosoft.playlist."+name.toLowerCase(),ns=ns+"."+parsedData.event,console.log(ns),void this.frame.trigger(ns,data)}},Messenger}(),this.Maslosoft.Playlist.Helpers||(this.Maslosoft.Playlist.Helpers={}),this.Maslosoft.Playlist.Helpers.Scroller=function(){function Scroller(element,playlist1){var applyHeight;this.playlist=playlist1,applyHeight=function(_this){return function(){var container,frame,height,list;return frame=element.find(".maslosoft-video-embed-container iframe"),_this.holder=_this.playlist.parent(),_this.holder.height(frame.height()),list=element.find(".maslosoft-video-playlist"),height=list.height(),list.css({height:height+"px"}),container=element.find(".maslosoft-video-playlist-holder"),Maslosoft.Ps.initialize(container.get(0))}}(this),setTimeout(applyHeight,0)}return Scroller.holder=null,Scroller.playlist=null,Scroller}()}).call(this);
/* perfect-scrollbar v0.6.14 */
!function t(e,n,r){function o(i,s){if(!n[i]){if(!e[i]){var a="function"==typeof require&&require;if(!s&&a)return a(i,!0);if(l)return l(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[i]={exports:{}};e[i][0].call(u.exports,function(t){var n=e[i][1][t];return o(n?n:t)},u,u.exports,t,e,n,r)}return n[i].exports}for(var l="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(t,e,n){"use strict";var r=t("../main");"function"==typeof define&&define.amd?define(r):(Maslosoft.PerfectScrollbar=r,"undefined"==typeof Maslosoft.Ps&&(Maslosoft.Ps=r))},{"../main":7}],2:[function(t,e,n){"use strict";function r(t,e){var n=t.className.split(" ");n.indexOf(e)<0&&n.push(e),t.className=n.join(" ")}function o(t,e){var n=t.className.split(" "),r=n.indexOf(e);r>=0&&n.splice(r,1),t.className=n.join(" ")}n.add=function(t,e){t.classList?t.classList.add(e):r(t,e)},n.remove=function(t,e){t.classList?t.classList.remove(e):o(t,e)},n.list=function(t){return t.classList?Array.prototype.slice.apply(t.classList):t.className.split(" ")}},{}],3:[function(t,e,n){"use strict";function r(t,e){return window.getComputedStyle(t)[e]}function o(t,e,n){return"number"==typeof n&&(n=n.toString()+"px"),t.style[e]=n,t}function l(t,e){for(var n in e){var r=e[n];"number"==typeof r&&(r=r.toString()+"px"),t.style[n]=r}return t}var i={};i.e=function(t,e){var n=document.createElement(t);return n.className=e,n},i.appendTo=function(t,e){return e.appendChild(t),t},i.css=function(t,e,n){return"object"==typeof e?l(t,e):"undefined"==typeof n?r(t,e):o(t,e,n)},i.matches=function(t,e){return"undefined"!=typeof t.matches?t.matches(e):"undefined"!=typeof t.matchesSelector?t.matchesSelector(e):"undefined"!=typeof t.webkitMatchesSelector?t.webkitMatchesSelector(e):"undefined"!=typeof t.mozMatchesSelector?t.mozMatchesSelector(e):"undefined"!=typeof t.msMatchesSelector?t.msMatchesSelector(e):void 0},i.remove=function(t){"undefined"!=typeof t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)},i.queryChildren=function(t,e){return Array.prototype.filter.call(t.childNodes,function(t){return i.matches(t,e)})},e.exports=i},{}],4:[function(t,e,n){"use strict";var r=function(t){this.element=t,this.events={}};r.prototype.bind=function(t,e){"undefined"==typeof this.events[t]&&(this.events[t]=[]),this.events[t].push(e),this.element.addEventListener(t,e,!1)},r.prototype.unbind=function(t,e){var n="undefined"!=typeof e;this.events[t]=this.events[t].filter(function(r){return!(!n||r===e)||(this.element.removeEventListener(t,r,!1),!1)},this)},r.prototype.unbindAll=function(){for(var t in this.events)this.unbind(t)};var o=function(){this.eventElements=[]};o.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return"undefined"==typeof e&&(e=new r(t),this.eventElements.push(e)),e},o.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},o.prototype.unbind=function(t,e,n){this.eventElement(t).unbind(e,n)},o.prototype.unbindAll=function(){for(var t=0;t<this.eventElements.length;t++)this.eventElements[t].unbindAll()},o.prototype.once=function(t,e,n){var r=this.eventElement(t),o=function(t){r.unbind(e,o),n(t)};r.bind(e,o)},e.exports=o},{}],5:[function(t,e,n){"use strict";e.exports=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}()},{}],6:[function(t,e,n){"use strict";var r=t("./class"),o=t("./dom"),l=n.toInt=function(t){return parseInt(t,10)||0},i=n.clone=function(t){if(t){if(t.constructor===Array)return t.map(i);if("object"==typeof t){var e={};for(var n in t)e[n]=i(t[n]);return e}return t}return null};n.extend=function(t,e){var n=i(t);for(var r in e)n[r]=i(e[r]);return n},n.isEditable=function(t){return o.matches(t,"input,[contenteditable]")||o.matches(t,"select,[contenteditable]")||o.matches(t,"textarea,[contenteditable]")||o.matches(t,"button,[contenteditable]")},n.removePsClasses=function(t){for(var e=r.list(t),n=0;n<e.length;n++){var o=e[n];0===o.indexOf("ps-")&&r.remove(t,o)}},n.outerWidth=function(t){return l(o.css(t,"width"))+l(o.css(t,"paddingLeft"))+l(o.css(t,"paddingRight"))+l(o.css(t,"borderLeftWidth"))+l(o.css(t,"borderRightWidth"))},n.startScrolling=function(t,e){r.add(t,"ps-in-scrolling"),"undefined"!=typeof e?r.add(t,"ps-"+e):(r.add(t,"ps-x"),r.add(t,"ps-y"))},n.stopScrolling=function(t,e){r.remove(t,"ps-in-scrolling"),"undefined"!=typeof e?r.remove(t,"ps-"+e):(r.remove(t,"ps-x"),r.remove(t,"ps-y"))},n.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(t,e,n){"use strict";var r=t("./plugin/destroy"),o=t("./plugin/initialize"),l=t("./plugin/update");e.exports={initialize:o,update:l,destroy:r}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(t,e,n){"use strict";e.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(t,e,n){"use strict";var r=t("../lib/helper"),o=t("../lib/dom"),l=t("./instances");e.exports=function(t){var e=l.get(t);e&&(e.event.unbindAll(),o.remove(e.scrollbarX),o.remove(e.scrollbarY),o.remove(e.scrollbarXRail),o.remove(e.scrollbarYRail),r.removePsClasses(t),l.remove(t))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(t,e,n){"use strict";function r(t,e){function n(t){return t.getBoundingClientRect()}var r=function(t){t.stopPropagation()};e.event.bind(e.scrollbarY,"click",r),e.event.bind(e.scrollbarYRail,"click",function(r){var o=r.pageY-window.pageYOffset-n(e.scrollbarYRail).top,s=o>e.scrollbarYTop?1:-1;i(t,"top",t.scrollTop+s*e.containerHeight),l(t),r.stopPropagation()}),e.event.bind(e.scrollbarX,"click",r),e.event.bind(e.scrollbarXRail,"click",function(r){var o=r.pageX-window.pageXOffset-n(e.scrollbarXRail).left,s=o>e.scrollbarXLeft?1:-1;i(t,"left",t.scrollLeft+s*e.containerWidth),l(t),r.stopPropagation()})}var o=t("../instances"),l=t("../update-geometry"),i=t("../update-scroll");e.exports=function(t){var e=o.get(t);r(t,e)}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(t,e,n){"use strict";function r(t,e){function n(n){var o=r+n*e.railXRatio,i=Math.max(0,e.scrollbarXRail.getBoundingClientRect().left)+e.railXRatio*(e.railXWidth-e.scrollbarXWidth);o<0?e.scrollbarXLeft=0:o>i?e.scrollbarXLeft=i:e.scrollbarXLeft=o;var s=l.toInt(e.scrollbarXLeft*(e.contentWidth-e.containerWidth)/(e.containerWidth-e.railXRatio*e.scrollbarXWidth))-e.negativeScrollAdjustment;c(t,"left",s)}var r=null,o=null,s=function(e){n(e.pageX-o),a(t),e.stopPropagation(),e.preventDefault()},u=function(){l.stopScrolling(t,"x"),e.event.unbind(e.ownerDocument,"mousemove",s)};e.event.bind(e.scrollbarX,"mousedown",function(n){o=n.pageX,r=l.toInt(i.css(e.scrollbarX,"left"))*e.railXRatio,l.startScrolling(t,"x"),e.event.bind(e.ownerDocument,"mousemove",s),e.event.once(e.ownerDocument,"mouseup",u),n.stopPropagation(),n.preventDefault()})}function o(t,e){function n(n){var o=r+n*e.railYRatio,i=Math.max(0,e.scrollbarYRail.getBoundingClientRect().top)+e.railYRatio*(e.railYHeight-e.scrollbarYHeight);o<0?e.scrollbarYTop=0:o>i?e.scrollbarYTop=i:e.scrollbarYTop=o;var s=l.toInt(e.scrollbarYTop*(e.contentHeight-e.containerHeight)/(e.containerHeight-e.railYRatio*e.scrollbarYHeight));c(t,"top",s)}var r=null,o=null,s=function(e){n(e.pageY-o),a(t),e.stopPropagation(),e.preventDefault()},u=function(){l.stopScrolling(t,"y"),e.event.unbind(e.ownerDocument,"mousemove",s)};e.event.bind(e.scrollbarY,"mousedown",function(n){o=n.pageY,r=l.toInt(i.css(e.scrollbarY,"top"))*e.railYRatio,l.startScrolling(t,"y"),e.event.bind(e.ownerDocument,"mousemove",s),e.event.once(e.ownerDocument,"mouseup",u),n.stopPropagation(),n.preventDefault()})}var l=t("../../lib/helper"),i=t("../../lib/dom"),s=t("../instances"),a=t("../update-geometry"),c=t("../update-scroll");e.exports=function(t){var e=s.get(t);r(t,e),o(t,e)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(t,e,n){"use strict";function r(t,e){function n(n,r){var o=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===o&&r>0||o>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var l=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===l&&n<0||l>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}var r=!1;e.event.bind(t,"mouseenter",function(){r=!0}),e.event.bind(t,"mouseleave",function(){r=!1});var i=!1;e.event.bind(e.ownerDocument,"keydown",function(c){if(!(c.isDefaultPrevented&&c.isDefaultPrevented()||c.defaultPrevented)){var u=l.matches(e.scrollbarX,":focus")||l.matches(e.scrollbarY,":focus");if(r||u){var d=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(d){if("IFRAME"===d.tagName)d=d.contentDocument.activeElement;else for(;d.shadowRoot;)d=d.shadowRoot.activeElement;if(o.isEditable(d))return}var p=0,f=0;switch(c.which){case 37:p=c.metaKey?-e.contentWidth:c.altKey?-e.containerWidth:-30;break;case 38:f=c.metaKey?e.contentHeight:c.altKey?e.containerHeight:30;break;case 39:p=c.metaKey?e.contentWidth:c.altKey?e.containerWidth:30;break;case 40:f=c.metaKey?-e.contentHeight:c.altKey?-e.containerHeight:-30;break;case 33:f=90;break;case 32:f=c.shiftKey?90:-90;break;case 34:f=-90;break;case 35:f=c.ctrlKey?-e.contentHeight:-e.containerHeight;break;case 36:f=c.ctrlKey?t.scrollTop:e.containerHeight;break;default:return}a(t,"top",t.scrollTop-f),a(t,"left",t.scrollLeft+p),s(t),i=n(p,f),i&&c.preventDefault()}}})}var o=t("../../lib/helper"),l=t("../../lib/dom"),i=t("../instances"),s=t("../update-geometry"),a=t("../update-scroll");e.exports=function(t){var e=i.get(t);r(t,e)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(t,e,n){"use strict";function r(t,e){function n(n,r){var o=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===o&&r>0||o>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var l=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===l&&n<0||l>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}function r(t){var e=t.deltaX,n=-1*t.deltaY;return"undefined"!=typeof e&&"undefined"!=typeof n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!==e&&n!==n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}function o(e,n){var r=t.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(r){if(!window.getComputedStyle(r).overflow.match(/(scroll|auto)/))return!1;var o=r.scrollHeight-r.clientHeight;if(o>0&&!(0===r.scrollTop&&n>0||r.scrollTop===o&&n<0))return!0;var l=r.scrollLeft-r.clientWidth;if(l>0&&!(0===r.scrollLeft&&e<0||r.scrollLeft===l&&e>0))return!0}return!1}function s(s){var c=r(s),u=c[0],d=c[1];o(u,d)||(a=!1,e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(d?i(t,"top",t.scrollTop-d*e.settings.wheelSpeed):i(t,"top",t.scrollTop+u*e.settings.wheelSpeed),a=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(u?i(t,"left",t.scrollLeft+u*e.settings.wheelSpeed):i(t,"left",t.scrollLeft-d*e.settings.wheelSpeed),a=!0):(i(t,"top",t.scrollTop-d*e.settings.wheelSpeed),i(t,"left",t.scrollLeft+u*e.settings.wheelSpeed)),l(t),a=a||n(u,d),a&&(s.stopPropagation(),s.preventDefault()))}var a=!1;"undefined"!=typeof window.onwheel?e.event.bind(t,"wheel",s):"undefined"!=typeof window.onmousewheel&&e.event.bind(t,"mousewheel",s)}var o=t("../instances"),l=t("../update-geometry"),i=t("../update-scroll");e.exports=function(t){var e=o.get(t);r(t,e)}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(t,e,n){"use strict";function r(t,e){e.event.bind(t,"scroll",function(){l(t)})}var o=t("../instances"),l=t("../update-geometry");e.exports=function(t){var e=o.get(t);r(t,e)}},{"../instances":18,"../update-geometry":19}],15:[function(t,e,n){"use strict";function r(t,e){function n(){var t=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===t.toString().length?null:t.getRangeAt(0).commonAncestorContainer}function r(){c||(c=setInterval(function(){return l.get(t)?(s(t,"top",t.scrollTop+u.top),s(t,"left",t.scrollLeft+u.left),void i(t)):void clearInterval(c)},50))}function a(){c&&(clearInterval(c),c=null),o.stopScrolling(t)}var c=null,u={top:0,left:0},d=!1;e.event.bind(e.ownerDocument,"selectionchange",function(){t.contains(n())?d=!0:(d=!1,a())}),e.event.bind(window,"mouseup",function(){d&&(d=!1,a())}),e.event.bind(window,"keyup",function(){d&&(d=!1,a())}),e.event.bind(window,"mousemove",function(e){if(d){var n={x:e.pageX,y:e.pageY},l={left:t.offsetLeft,right:t.offsetLeft+t.offsetWidth,top:t.offsetTop,bottom:t.offsetTop+t.offsetHeight};n.x<l.left+3?(u.left=-5,o.startScrolling(t,"x")):n.x>l.right-3?(u.left=5,o.startScrolling(t,"x")):u.left=0,n.y<l.top+3?(l.top+3-n.y<5?u.top=-5:u.top=-20,o.startScrolling(t,"y")):n.y>l.bottom-3?(n.y-l.bottom+3<5?u.top=5:u.top=20,o.startScrolling(t,"y")):u.top=0,0===u.top&&0===u.left?a():r()}})}var o=t("../../lib/helper"),l=t("../instances"),i=t("../update-geometry"),s=t("../update-scroll");e.exports=function(t){var e=l.get(t);r(t,e)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(t,e,n){"use strict";function r(t,e,n,r){function o(n,r){var o=t.scrollTop,l=t.scrollLeft,i=Math.abs(n),s=Math.abs(r);if(s>i){if(r<0&&o===e.contentHeight-e.containerHeight||r>0&&0===o)return!e.settings.swipePropagation}else if(i>s&&(n<0&&l===e.contentWidth-e.containerWidth||n>0&&0===l))return!e.settings.swipePropagation;return!0}function a(e,n){s(t,"top",t.scrollTop-n),s(t,"left",t.scrollLeft-e),i(t)}function c(){w=!0}function u(){w=!1}function d(t){return t.targetTouches?t.targetTouches[0]:t}function p(t){return!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)}function f(t){if(p(t)){Y=!0;var e=d(t);g.pageX=e.pageX,g.pageY=e.pageY,v=(new Date).getTime(),null!==y&&clearInterval(y),t.stopPropagation()}}function h(t){if(!Y&&e.settings.swipePropagation&&f(t),!w&&Y&&p(t)){var n=d(t),r={pageX:n.pageX,pageY:n.pageY},l=r.pageX-g.pageX,i=r.pageY-g.pageY;a(l,i),g=r;var s=(new Date).getTime(),c=s-v;c>0&&(m.x=l/c,m.y=i/c,v=s),o(l,i)&&(t.stopPropagation(),t.preventDefault())}}function b(){!w&&Y&&(Y=!1,clearInterval(y),y=setInterval(function(){return l.get(t)&&(m.x||m.y)?Math.abs(m.x)<.01&&Math.abs(m.y)<.01?void clearInterval(y):(a(30*m.x,30*m.y),m.x*=.8,void(m.y*=.8)):void clearInterval(y)},10))}var g={},v=0,m={},y=null,w=!1,Y=!1;n&&(e.event.bind(window,"touchstart",c),e.event.bind(window,"touchend",u),e.event.bind(t,"touchstart",f),e.event.bind(t,"touchmove",h),e.event.bind(t,"touchend",b)),r&&(window.PointerEvent?(e.event.bind(window,"pointerdown",c),e.event.bind(window,"pointerup",u),e.event.bind(t,"pointerdown",f),e.event.bind(t,"pointermove",h),e.event.bind(t,"pointerup",b)):window.MSPointerEvent&&(e.event.bind(window,"MSPointerDown",c),e.event.bind(window,"MSPointerUp",u),e.event.bind(t,"MSPointerDown",f),e.event.bind(t,"MSPointerMove",h),e.event.bind(t,"MSPointerUp",b)))}var o=t("../../lib/helper"),l=t("../instances"),i=t("../update-geometry"),s=t("../update-scroll");e.exports=function(t){if(o.env.supportsTouch||o.env.supportsIePointer){var e=l.get(t);r(t,e,o.env.supportsTouch,o.env.supportsIePointer)}}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(t,e,n){"use strict";var r=t("../lib/helper"),o=t("../lib/class"),l=t("./instances"),i=t("./update-geometry"),s={"click-rail":t("./handler/click-rail"),"drag-scrollbar":t("./handler/drag-scrollbar"),keyboard:t("./handler/keyboard"),wheel:t("./handler/mouse-wheel"),touch:t("./handler/touch"),selection:t("./handler/selection")},a=t("./handler/native-scroll");e.exports=function(t,e){e="object"==typeof e?e:{},o.add(t,"ps-container");var n=l.add(t);n.settings=r.extend(n.settings,e),o.add(t,"ps-theme-"+n.settings.theme),n.settings.handlers.forEach(function(e){s[e](t)}),a(t),i(t)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(t,e,n){"use strict";function r(t){function e(){a.add(t,"ps-focus")}function n(){a.remove(t,"ps-focus")}var r=this;r.settings=s.clone(c),r.containerWidth=null,r.containerHeight=null,r.contentWidth=null,r.contentHeight=null,r.isRtl="rtl"===u.css(t,"direction"),r.isNegativeScroll=function(){var e=t.scrollLeft,n=null;return t.scrollLeft=-1,n=t.scrollLeft<0,t.scrollLeft=e,n}(),r.negativeScrollAdjustment=r.isNegativeScroll?t.scrollWidth-t.clientWidth:0,r.event=new d,r.ownerDocument=t.ownerDocument||document,r.scrollbarXRail=u.appendTo(u.e("div","ps-scrollbar-x-rail"),t),r.scrollbarX=u.appendTo(u.e("div","ps-scrollbar-x"),r.scrollbarXRail),r.scrollbarX.setAttribute("tabindex",0),r.event.bind(r.scrollbarX,"focus",e),r.event.bind(r.scrollbarX,"blur",n),r.scrollbarXActive=null,r.scrollbarXWidth=null,r.scrollbarXLeft=null,r.scrollbarXBottom=s.toInt(u.css(r.scrollbarXRail,"bottom")),r.isScrollbarXUsingBottom=r.scrollbarXBottom===r.scrollbarXBottom,r.scrollbarXTop=r.isScrollbarXUsingBottom?null:s.toInt(u.css(r.scrollbarXRail,"top")),r.railBorderXWidth=s.toInt(u.css(r.scrollbarXRail,"borderLeftWidth"))+s.toInt(u.css(r.scrollbarXRail,"borderRightWidth")),u.css(r.scrollbarXRail,"display","block"),r.railXMarginWidth=s.toInt(u.css(r.scrollbarXRail,"marginLeft"))+s.toInt(u.css(r.scrollbarXRail,"marginRight")),u.css(r.scrollbarXRail,"display",""),r.railXWidth=null,r.railXRatio=null,r.scrollbarYRail=u.appendTo(u.e("div","ps-scrollbar-y-rail"),t),r.scrollbarY=u.appendTo(u.e("div","ps-scrollbar-y"),r.scrollbarYRail),r.scrollbarY.setAttribute("tabindex",0),r.event.bind(r.scrollbarY,"focus",e),r.event.bind(r.scrollbarY,"blur",n),r.scrollbarYActive=null,r.scrollbarYHeight=null,r.scrollbarYTop=null,r.scrollbarYRight=s.toInt(u.css(r.scrollbarYRail,"right")),r.isScrollbarYUsingRight=r.scrollbarYRight===r.scrollbarYRight,r.scrollbarYLeft=r.isScrollbarYUsingRight?null:s.toInt(u.css(r.scrollbarYRail,"left")),r.scrollbarYOuterWidth=r.isRtl?s.outerWidth(r.scrollbarY):null,r.railBorderYWidth=s.toInt(u.css(r.scrollbarYRail,"borderTopWidth"))+s.toInt(u.css(r.scrollbarYRail,"borderBottomWidth")),u.css(r.scrollbarYRail,"display","block"),r.railYMarginHeight=s.toInt(u.css(r.scrollbarYRail,"marginTop"))+s.toInt(u.css(r.scrollbarYRail,"marginBottom")),u.css(r.scrollbarYRail,"display",""),r.railYHeight=null,r.railYRatio=null}function o(t){return t.getAttribute("data-ps-id")}function l(t,e){t.setAttribute("data-ps-id",e)}function i(t){t.removeAttribute("data-ps-id")}var s=t("../lib/helper"),a=t("../lib/class"),c=t("./default-setting"),u=t("../lib/dom"),d=t("../lib/event-manager"),p=t("../lib/guid"),f={};n.add=function(t){var e=p();return l(t,e),f[e]=new r(t),f[e]},n.remove=function(t){delete f[o(t)],i(t)},n.get=function(t){return f[o(t)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(t,e,n){"use strict";function r(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function o(t,e){var n={width:e.railXWidth};e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-t.scrollTop:n.top=e.scrollbarXTop+t.scrollTop,s.css(e.scrollbarXRail,n);var r={top:t.scrollTop,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?r.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:r.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?r.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:r.left=e.scrollbarYLeft+t.scrollLeft,s.css(e.scrollbarYRail,r),s.css(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),s.css(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}var l=t("../lib/helper"),i=t("../lib/class"),s=t("../lib/dom"),a=t("./instances"),c=t("./update-scroll");e.exports=function(t){var e=a.get(t);e.containerWidth=t.clientWidth,e.containerHeight=t.clientHeight,e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight;var n;t.contains(e.scrollbarXRail)||(n=s.queryChildren(t,".ps-scrollbar-x-rail"),n.length>0&&n.forEach(function(t){s.remove(t)}),s.appendTo(e.scrollbarXRail,t)),t.contains(e.scrollbarYRail)||(n=s.queryChildren(t,".ps-scrollbar-y-rail"),n.length>0&&n.forEach(function(t){s.remove(t)}),s.appendTo(e.scrollbarYRail,t)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=r(e,l.toInt(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=l.toInt((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=r(e,l.toInt(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=l.toInt(t.scrollTop*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),o(t,e),e.scrollbarXActive?i.add(t,"ps-active-x"):(i.remove(t,"ps-active-x"),e.scrollbarXWidth=0,e.scrollbarXLeft=0,c(t,"left",0)),e.scrollbarYActive?i.add(t,"ps-active-y"):(i.remove(t,"ps-active-y"),e.scrollbarYHeight=0,e.scrollbarYTop=0,c(t,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(t,e,n){"use strict";var r,o,l=t("./instances"),i=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e};e.exports=function(t,e,n){if("undefined"==typeof t)throw"You must provide an element to the update-scroll function";if("undefined"==typeof e)throw"You must provide an axis to the update-scroll function";if("undefined"==typeof n)throw"You must provide a value to the update-scroll function";"top"===e&&n<=0&&(t.scrollTop=n=0,t.dispatchEvent(i("ps-y-reach-start"))),"left"===e&&n<=0&&(t.scrollLeft=n=0,t.dispatchEvent(i("ps-x-reach-start")));var s=l.get(t);"top"===e&&n>=s.contentHeight-s.containerHeight&&(n=s.contentHeight-s.containerHeight,n-t.scrollTop<=1?n=t.scrollTop:t.scrollTop=n,t.dispatchEvent(i("ps-y-reach-end"))),"left"===e&&n>=s.contentWidth-s.containerWidth&&(n=s.contentWidth-s.containerWidth,n-t.scrollLeft<=1?n=t.scrollLeft:t.scrollLeft=n,t.dispatchEvent(i("ps-x-reach-end"))),r||(r=t.scrollTop),o||(o=t.scrollLeft),"top"===e&&n<r&&t.dispatchEvent(i("ps-scroll-up")),"top"===e&&n>r&&t.dispatchEvent(i("ps-scroll-down")),"left"===e&&n<o&&t.dispatchEvent(i("ps-scroll-left")),"left"===e&&n>o&&t.dispatchEvent(i("ps-scroll-right")),"top"===e&&(t.scrollTop=r=n,t.dispatchEvent(i("ps-scroll-y"))),"left"===e&&(t.scrollLeft=o=n,t.dispatchEvent(i("ps-scroll-x")))}},{"./instances":18}],21:[function(t,e,n){"use strict";var r=t("../lib/helper"),o=t("../lib/dom"),l=t("./instances"),i=t("./update-geometry"),s=t("./update-scroll");e.exports=function(t){var e=l.get(t);e&&(e.negativeScrollAdjustment=e.isNegativeScroll?t.scrollWidth-t.clientWidth:0,o.css(e.scrollbarXRail,"display","block"),o.css(e.scrollbarYRail,"display","block"),e.railXMarginWidth=r.toInt(o.css(e.scrollbarXRail,"marginLeft"))+r.toInt(o.css(e.scrollbarXRail,"marginRight")),e.railYMarginHeight=r.toInt(o.css(e.scrollbarYRail,"marginTop"))+r.toInt(o.css(e.scrollbarYRail,"marginBottom")),o.css(e.scrollbarXRail,"display","none"),o.css(e.scrollbarYRail,"display","none"),i(t),s(t,"top",t.scrollTop),s(t,"left",t.scrollLeft),o.css(e.scrollbarXRail,"display",""),o.css(e.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]);
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=function(a,b){return function(){return a.apply(b,arguments)}},q={}.hasOwnProperty,r=function(a,b){function c(){this.constructor=a}for(var d in b)q.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};i=function(){return console?console.assert.apply(console,arguments):void 0},m=function(){return console?console.log.apply(console,arguments):void 0},o=function(a,b){return null==b&&(b=null),console?console.warn.apply(console,arguments):void 0},j=function(a,b){return null==b&&(b=null),console?console.error.apply(console,arguments):void 0},Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),l=function(a){return!!a&&"object"==typeof a&&a.constructor===Object},Object.keys||(Object.keys=function(){var a,b,c,d;return d=Object.prototype.hasOwnProperty,c=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],b=a.length,function(e){var f,g,h;if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");h=[],g=void 0,f=void 0;for(g in e)g=g,d.call(e,g)&&h.push(g);if(c)for(f=0;b>f;)d.call(e,a[f])&&h.push(a[f]),f++;return h}}()),n=function(a,b,c){var d,e,f,g,h,i,j;for(null==c&&(c=window),d=Array.prototype.slice.call(arguments,2),h=a.split("."),e=c,f=i=0,j=h.length;j>i;f=++i)g=h[f],console.log(f),f===h.length-1&&(console.log(g),e[g]=b),e=e[g];return e},this.Maslosoft||(this.Maslosoft={}),this.Maslosoft.Ko||(this.Maslosoft.Ko={}),this.Maslosoft.Ko.Balin||(this.Maslosoft.Ko.Balin={}),this.Maslosoft.Ko.Balin.Helpers||(this.Maslosoft.Ko.Balin.Helpers={}),this.Maslosoft.Ko.Balin.Widgets||(this.Maslosoft.Ko.Balin.Widgets={}),this.Maslosoft.Ko.debounce=function(a,b,c){var d;return d=void 0,function(){var e,f,g,h;g=this,e=arguments,h=function(){d=null,c||a.apply(g,e)},f=c&&!d,clearTimeout(d),d=setTimeout(h,b||200),f&&a.apply(g,e)}},this.Maslosoft.Ko.Balin.register=function(a,b){var c;return c=!1,a.match(/[A-Z]/)&&(c=a.toLowerCase()),b.writable&&ko.expressionRewriting&&ko.expressionRewriting.twoWayBindings&&(ko.expressionRewriting.twoWayBindings[a]=!0,c&&(ko.expressionRewriting.twoWayBindings[c]=!0)),ko.bindingHandlers[a]=b,c?ko.bindingHandlers[c]=b:void 0},this.Maslosoft.Ko.Balin.registerDefaults=function(a){var b,c,d,e,f;if(null==a&&(a=null),b={acl:Maslosoft.Ko.Balin.Acl,active:Maslosoft.Ko.Balin.Active,action:Maslosoft.Ko.Balin.WidgetAction,activity:Maslosoft.Ko.Balin.WidgetActivity,asset:Maslosoft.Ko.Balin.Asset,data:Maslosoft.Ko.Balin.Data,dateFormatter:Maslosoft.Ko.Balin.DateFormatter,datePicker:Maslosoft.Ko.Balin.DatePicker,datePickerPickaDate:Maslosoft.Ko.Balin.PickaDate,dateTimeFormatter:Maslosoft.Ko.Balin.DateTimeFormatter,decimalFormatter:Maslosoft.Ko.Balin.DecimalFormatter,disabled:Maslosoft.Ko.Balin.Disabled,enumCssClassFormatter:Maslosoft.Ko.Balin.EnumCssClassFormatter,enumFormatter:Maslosoft.Ko.Balin.EnumFormatter,eval:Maslosoft.Ko.Balin.Eval,fancytree:Maslosoft.Ko.Balin.Fancytree,fileSizeFormatter:Maslosoft.Ko.Balin.FileSizeFormatter,hidden:Maslosoft.Ko.Balin.Hidden,href:Maslosoft.Ko.Balin.Href,htmlTree:Maslosoft.Ko.Balin.HtmlTree,htmlValue:Maslosoft.Ko.Balin.HtmlValue,icon:Maslosoft.Ko.Balin.Icon,log:Maslosoft.Ko.Balin.Log,model:Maslosoft.Ko.Balin.DataModel,ref:Maslosoft.Ko.Balin.Widget,src:Maslosoft.Ko.Balin.Src,tags:Maslosoft.Ko.Balin.Tags,textValue:Maslosoft.Ko.Balin.TextValue,textValueHlJs:Maslosoft.Ko.Balin.TextValueHLJS,timeAgoFormatter:Maslosoft.Ko.Balin.TimeAgoFormatter,timeFormatter:Maslosoft.Ko.Balin.TimeFormatter,timePicker:Maslosoft.Ko.Balin.TimePicker,tooltip:Maslosoft.Ko.Balin.Tooltip,treegrid:Maslosoft.Ko.Balin.TreeGrid,treegridnode:Maslosoft.Ko.Balin.TreeGridNode,selected:Maslosoft.Ko.Balin.Selected,select2:Maslosoft.Ko.Balin.Select2,validator:Maslosoft.Ko.Balin.Validator,videoPlaylist:Maslosoft.Ko.Balin.VideoPlaylist,videoThumb:Maslosoft.Ko.Balin.VideoThumb,widget:Maslosoft.Ko.Balin.Widget},null!==a){e=[];for(c in a)d=a[c],e.push(Maslosoft.Ko.Balin.register(d,new b[d]));return e}f=[];for(c in b)d=b[c],f.push(Maslosoft.Ko.Balin.register(c,new d));return f},this.Maslosoft.Ko.Balin.registerEvents=function(a){var b,c,d,e,f;if(null==a&&(a=null),b={dblclick:"dblclick",mousedown:"mousedown",mouseup:"mouseup",mouseover:"mouseover",mouseout:"mouseout"},null!==a){e=[];for(c in a)d=a[c],e.push(Maslosoft.Ko.Balin.makeEventHandlerShortcut(d));return e}f=[];for(c in b)d=b[c],f.push(Maslosoft.Ko.Balin.makeEventHandlerShortcut(d));return f},this.Maslosoft.Ko.Balin.makeEventHandlerShortcut=function(a){ko.bindingHandlers[a]={init:function(b,c,d,e,f){var g;return g=function(){var b;return b={},b[a]=c(),b},ko.bindingHandlers.event.init.call(this,b,g,d,e,f)}}},this.Maslosoft.Ko.Balin.Base=function(){function a(a){var b,c;null==a&&(a={}),this.getValue=p(this.getValue,this),this.options={};for(b in a)c=a[b],this.options[b]=c}return a.prototype.writable=!0,a.prototype.options={},a.prototype.getValue=function(a,b){var c;return null==b&&(b=""),c=ko.unwrap("function"==typeof a?a():a),this.options.valueField&&(c=this.options.ec5?c[this.options.valueField]:c[this.options.valueField]()),"undefined"==typeof c?b:c},a}(),this.Maslosoft.Ko.Balin.Options=function(){function a(a){var b,c;null==a&&(a={});for(b in a)c=a[b],this[b]=c;null===this.ec5&&(this.ec5=!!ko.track),null===this.afterUpdate&&(this.afterUpdate=function(){})}return a.prototype.valueField=null,a.prototype.ec5=null,a.prototype.afterUpdate=null,a}(),this.Maslosoft.Ko.Balin.CssOptions=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.className="active",b}(this.Maslosoft.Ko.Balin.Options),this.Maslosoft.Ko.Balin.DateOptions=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.lang="en",b.prototype.sourceFormat="unix",b.prototype.displayFormat="YYYY-MM-DD",b}(this.Maslosoft.Ko.Balin.Options),this.Maslosoft.Ko.Balin.DateTimeOptions=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.lang="en",b.prototype.sourceFormat="unix",b.prototype.displayFormat="YYYY-MM-DD hh:mm",b}(this.Maslosoft.Ko.Balin.Options),this.Maslosoft.Ko.Balin.TimeAgoOptions=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.lang="en",b.prototype.sourceFormat="unix",b.prototype.displayFormat="hh:mm",b}(this.Maslosoft.Ko.Balin.Options),this.Maslosoft.Ko.Balin.TimeOptions=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.lang="en",b.prototype.sourceFormat="unix",b.prototype.displayFormat="hh:mm",b}(this.Maslosoft.Ko.Balin.Options),this.Maslosoft.Ko.Balin.ValidatorOptions=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.classField="_class",b.prototype.parentSelector=".form-group",b.prototype.inputError="error",b.prototype.parentError="has-error",b.prototype.inputWarning="warning",b.prototype.parentWarning="has-warning",b.prototype.inputSuccess="success",b.prototype.parentSuccess="has-success",b.prototype.errorMessages=".error-messages",b.prototype.warningMessages=".warning-messages",b}(this.Maslosoft.Ko.Balin.Options),this.Maslosoft.Ko.Balin.BaseValidator=function(){function a(a){var b,c;this.reset();for(b in a)c=a[b],this[b]=null,this[b]=c}return a.prototype.label="",a.prototype.model=null,a.prototype.messages=[],a.prototype.rawMessages=[],a.prototype.warningMessages=[],a.prototype.rawWarningMessages=[],a.prototype.reset=function(){return this.messages=new Array,this.rawMessages=new Object,this.warningMessages=new Array,this.rawWarningMessages=new Object},a.prototype.isValid=function(){throw new Error("Validator must implement `isValid` method")},a.prototype.getErrors=function(){return this.messages},a.prototype.getWarnings=function(){return this.warningMessages},a.prototype.addError=function(a,b){var c,d,e,f;d=a,a=a.replace("{attribute}",this.label);for(c in this)e=this[c],a=a.replace("{"+c+"}",e);for(c in b)e=b[c],a=a.replace("{"+c+"}",e);f=this.model;for(c in f)e=f[c],a=a.replace("{"+c+"}",e);return this.rawMessages[d]?void 0:(this.messages.push(a),this.rawMessages[d]=!0)},a.prototype.addWarning=function(a,b){var c,d,e,f;d=a,a=a.replace("{attribute}",this.label);for(c in this)e=this[c],a=a.replace("{"+c+"}",e);for(c in b)e=b[c],a=a.replace("{"+c+"}",e);f=this.model;for(c in f)e=f[c],a=a.replace("{"+c+"}",e);return this.rawWarningMessages[d]?void 0:(this.warningMessages.push(a),this.rawWarningMessages[d]=!0)},a}(),this.Maslosoft.Ko.Balin.CssClass=function(a){function b(){return this.update=p(this.update,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.writable=!1,b.prototype.update=function(a,b){var c;c=this.getValue(b),c?ko.utils.toggleDomNodeCssClass(a,this.options.className,!0):ko.utils.toggleDomNodeCssClass(a,this.options.className,!1)},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.MomentFormatter=function(a){function b(){return this.update=p(this.update,this),this.init=p(this.init,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.init=function(){moment.locale(this.options.lang)},b.prototype.update=function(a,b){var c;c=this.getValue(b),a.innerHTML=moment[this.options.sourceFormat](c).format(this.options.displayFormat)},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.Picker=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return r(b,a),b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.Video=function(a){function b(){return this.setThumb=p(this.setThumb,this),this.isVideoUrl=p(this.isVideoUrl,this),b.__super__.constructor.apply(this,arguments)}var c,d;return r(b,a),d=null,c=null,jQuery(document).ready(function(){return d=new Maslosoft.Playlist.Options,c=d.adapters}),b.prototype.isVideoUrl=function(a){var b,d,e;for(d=0,e=c.length;e>d;d++)if(b=c[d],b.match(a))return b;return!1},b.prototype.setThumb=function(a,b){var c,d,e;return(d=this.isVideoUrl(a))?(e=function(a){return"img"===b.tagName.toLowerCase()?b.src=a:jQuery(b).css("background-image","url('"+a+"')")},console.log(a),c=new d,c.setUrl(a),c.setThumb(e)):void 0},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.WidgetUrl=function(a){function b(){return this.setRel=p(this.setRel,this),this.createUrl=p(this.createUrl,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.getData=function(a,b,c,d){var e,f,g;return g=this.getValue(b),f={},f.id=c.get("widgetId")||g.id,c.get("widget")&&(f.id=c.get("widget").id),f[d]=c.get(d)||g[d],e=c.get("params"),f.params=void 0===typeof e?g.params:e,f.params=this.getValue(f.params),"string"==typeof g&&(f[d]=g),f},b.prototype.createUrl=function(a,b,c,d){var e,f,g,h;if(e=[],"string"==typeof c||"number"==typeof c)(""!==c||"number"==typeof c)&&e.push(""+c);else for(g in c)h=c[g],g=encodeURIComponent(""+g),h=encodeURIComponent(""+h),e.push(""+g+":"+h);return f=""+d+a+"."+b,0===e.length?f:(e=e.join(",",e),""+f+"="+e)},b.prototype.setRel=function(a){var b,c,d,e,f,g,h;if(b=!1,c=!1,f=[],d=a.getAttribute("rel"))for(f=d.split(" "),g=0,h=f.length;h>g;g++)e=f[g],"plain"===e&&(c=!0),"virtual"===e&&(b=!0);return b||c||f.push("virtual"),a.setAttribute("rel",f.join(" "))},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.Acl=function(a){function b(){return this.update=p(this.update,this),this.init=p(this.init,this),b.__super__.constructor.apply(this,arguments)}var c;return r(b,a),c=null,b.prototype.init=function(){if(!Maslosoft.Ko.Balin.Acl.allow)throw new Error("Acl binding handler requires Maslosoft.Ko.Balin.Acl.allow to be function checking permissions");if("function"!=typeof Maslosoft.Ko.Balin.Acl.allow)throw new Error("Acl binding handler requires Maslosoft.Ko.Balin.Acl.allow to be function checking permissions")},b.prototype.update=function(a,b){var c,d;return c=this.getValue(b),d=Maslosoft.Ko.Balin.Acl.allow(c),ko.bindingHandlers.visible.update(a,function(){return d})},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.Active=function(a){function b(){b.__super__.constructor.call(this,new Maslosoft.Ko.Balin.CssOptions({className:"active"}))}return r(b,a),b}(this.Maslosoft.Ko.Balin.CssClass),this.Maslosoft.Ko.Balin.Asset=function(a){function b(){return this.update=p(this.update,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.update=function(a,b,c){var d,e,f,g,h,i,j,k,l;d=$(a),l=c.get("w"),f=c.get("h"),h=c.get("p"),g=this.getValue(b),g.updateDate&&(e=g.updateDate,i=e.sec),k=g.url,j=[],j.push(k),l&&j.push("w/"+l),f&&j.push("h/"+f),h===!1&&j.push("p/0"),i&&j.push(i),j=j.join("/"),d.attr("src")!==j&&d.attr("src",j)},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.Data=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.getNamespacedHandler=function(a){return{update:function(b){return function(c,d){var e,f;return e=b.getValue(d),"string"!=(f=typeof e)&&"number"!==f&&(e=JSON.stringify(e)),c.setAttribute("data-"+a,e)}}(this)}},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.DataModel=function(a){function b(){return this.update=p(this.update,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.update=function(a,b,c){var d,e,f,g,h,i,j;if(f=this.getValue(b),e=c.get("fields")||null,null===e)return void this.bindModel(a,f);for(g={},j=[],h=0,i=e.length;i>h;h++)d=e[h],"undefined"==typeof f[d]?o("Model field `"+d+"` is undefined on element:",a):g[d]=f[d],j.push(this.bindModel(a,g));return j},b.prototype.bindModel=function(a,b){var c,d;return"string"!=(d=typeof value)&&"number"!==d&&(c=JSON.stringify(b)),a.setAttribute("data-model",c)},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.DateFormatter=function(a){function b(a){b.__super__.constructor.call(this,new Maslosoft.Ko.Balin.DateOptions(a))}return r(b,a),b}(this.Maslosoft.Ko.Balin.MomentFormatter),this.Maslosoft.Ko.Balin.DatePicker=function(a){function b(a){this.update=p(this.update,this),this.init=p(this.init,this),this.getModelValue=p(this.getModelValue,this),this.getDisplayValue=p(this.getDisplayValue,this),this.updateModel=p(this.updateModel,this),b.__super__.constructor.call(this,new Maslosoft.Ko.Balin.DateOptions(a))}return r(b,a),b.prototype.getData=function(a){var b;return b=this.getValue(a)||[],b.data?b.data:b},b.prototype.getOptions=function(a){var b,c,d,e;if(d={lang:this.options.lang,sourceFormat:this.options.sourceFormat,displayFormat:this.options.displayFormat,format:this.options.displayFormat.toLowerCase(),forceParse:!1,todayHighlight:!0,showOnFocus:!1},b=a.get("dateOptions")||[])for(c in b)e=b[c],"data"!==c&&"template"!==c&&("format"===c&&(d.displayFormat=e.toUpperCase()),d[c]=e);return d},b.prototype.updateModel=function(a,b,c){var d,e,f;return f=this.getOptions(c),e=this.getData(b),d=this.getModelValue(a.value,f),e!==d?b().data?ko.expressionRewriting.writeValueToProperty(ko.unwrap(b()).data,c,"datePicker.data",d):ko.expressionRewriting.writeValueToProperty(b(),c,"datePicker",d):void 0},b.prototype.getDisplayValue=function(a,b){var c;return c="unix"===b.sourceFormat?moment.unix(a).format(b.displayFormat):moment(a,b.sourceFormat).format(b.displayFormat)},b.prototype.getModelValue=function(a,b){var c;return c="unix"===b.sourceFormat?moment(a,b.displayFormat).unix():moment(a,b.displayFormat).format(b.sourceFormat)},b.prototype.init=function(a,b,c){var d,e,f,g,h,i;g=this.getOptions(c),a.value=this.getDisplayValue(this.getData(b),g),e=jQuery(a),h=g.template?g.template:'<div class="input-group-addon">\n	<a class="picker-trigger-link" style="cursor: pointer;">\n		<i class="glyphicon glyphicon-calendar"></i>\n	</a>\n</div>',d=jQuery(h),d.insertAfter(e),i=d.find("a.picker-trigger-link"),e.datepicker(g),e.on("changeDate",function(){return function(){return!1}}(this)),e.on("change",function(d){return function(f){var h;return h=Date.parse(a.value),h&&!f.isTrigger?(a.value=d.getDisplayValue(Math.round(h.getTime()/1e3),g),d.updateModel(a,b,c),e.datepicker("update"),!0):!1}}(this)),f=!1,e.on("show",function(){return function(){return f=!0}}(this)),e.on("hide",function(){return function(){return f=!1}}(this)),i.on("mousedown",function(a){e.datepicker(f?"hide":"show"),a.stopPropagation(),a.preventDefault()})},b.prototype.update=function(a,b,c){var d,e;return b().data?ko.utils.setTextContent(a,b().data):ko.utils.setTextContent(a,b()),d=this.getOptions(c),e=this.getDisplayValue(this.getData(b),d),a.value!==e?a.value=e:void 0},b}(this.Maslosoft.Ko.Balin.Picker),this.Maslosoft.Ko.Balin.DateTimeFormatter=function(a){function b(a){b.__super__.constructor.call(this,new Maslosoft.Ko.Balin.DateTimeOptions(a))}return r(b,a),b}(this.Maslosoft.Ko.Balin.MomentFormatter),this.Maslosoft.Ko.Balin.DecimalFormatter=function(a){function b(){return this.update=p(this.update,this),this.init=p(this.init,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.precision=2,b.prototype.decimalSeparator=",",b.prototype.thousandSeparator=" ",b.prototype.suffix="",b.prototype.prefix="",b.prototype.init=function(){},b.prototype.update=function(a,b,c){var d,e,f,g,h,i,j,k,l;for(j=this.getValue(b)||0,j=parseFloat(j),e={},i=["precision","decimalSeparator","thousandSeparator","suffix","prefix"],k=0,l=i.length;l>k;k++)h=i[k],e[h]=this[h],d=c.get(h),"undefined"!=typeof d&&(e[h]=this.getValue(d));return f=function(a,b,c,d,e){var f,g;return null==b&&(b=2),null==c&&(c=3),null==d&&(d=" "),null==e&&(e=","),g="\\d(?=(\\d{"+(c||3)+"})+"+(b>0?"\\D":"$")+")",f=a.toFixed(Math.max(0,~~b)),(e?f.replace(".",e):f).replace(new RegExp(g,"g"),"$&"+(d||","))},g=f(j,e.precision,3,e.thousandSeparator,e.decimalSeparator),a.innerHTML=e.prefix+g+e.suffix},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.Disabled=function(a){function b(){b.__super__.constructor.call(this,new Maslosoft.Ko.Balin.CssOptions({className:"disabled"}))}return r(b,a),b}(this.Maslosoft.Ko.Balin.CssClass),this.Maslosoft.Ko.Balin.EnumCssClassFormatter=function(a){function b(){return this.update=p(this.update,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.update=function(a,b){var c,d,e,f,g,h;for(c=this.getValue(b),h=c.values,f=0,g=h.length;g>f;f++)d=h[f],e=new RegExp("(?:^|\\s)"+d+"(?!\\S)","g"),a.className=a.className.replace(e,"");a.className+=" "+c.values[c.data]},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.EnumFormatter=function(a){function b(){return this.update=p(this.update,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.update=function(a,b){var c;c=this.getValue(b),a.innerHTML=c.values[c.data]},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.Eval=function(a){function b(){return this.update=p(this.update,this),this.init=p(this.init,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.init=function(a,b){var c;return c=this.getValue(b),console.log(c),{controlsDescendantBindings:!c}},b.prototype.update=function(a,b){var c;return c=this.getValue(b),console.log(c),{controlsDescendantBindings:!c}},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.Fancytree=function(a){function e(){return this.update=p(this.update,this),this.handle=p(this.handle,this),this.init=p(this.init,this),e.__super__.constructor.apply(this,arguments)}return r(e,a),e.prototype.tree=null,e.prototype.element=null,e.prototype.getData=function(a){var b;return b=this.getValue(a)||[],b.data?b.data:b},e.prototype.init=function(a,e){var f,h,i,j,k,l,m,n,p,q;if(p=this.getData(e),m=e().options||{},i=this.getValue(e).on||!1,m.toggleEffect=!1,m.source=p.children,m.extensions=[],q=new d(p,i,m),f=e().dnd||!1,h=e().drag||!1,f&&h)throw new Error("Cannot use both `dnd` and `drag`");return f&&(m.autoScroll=!1,m.extensions.push("dnd"),m.dnd=new b(p,a,q)),h&&(m.autoScroll=!1,m.extensions.push("dnd"),m.dnd=new c(p,a)),k=e().nodeIcon||!1,j=e().folderIcon||!1,l=e().nodeRenderer||!1,j&&!k&&o("Option `folderIcon` require also `nodeIcon` or it will not work at all"),(k||l)&&(k&&(m.icon=!1),n=new g(p,m,k,j),l&&n.setRenderer(new l(p,m)),m.renderNode=n.render),jQuery(a).fancytree(m)},e.prototype.handle=function(a,b){var c,d;return c=this.getValue(b),a=jQuery(a),d=function(d){return function(){return a.find(".ui-fancytree").length?(a.fancytree("option","source",d.getData(b).children),c.autoExpand&&a.fancytree("getRootNode").visit(function(a){return a.setExpanded(!0)}),a.focus()):void 0}}(this),setTimeout(d,0)},e.prototype.update=function(a,b,c){return this.handle(a,b,c)},e}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.FileSizeFormatter=function(a){function b(){return this.update=p(this.update,this),this.init=p(this.init,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.units={binary:["kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],decimal:["kB","MB","GB","TB","PB","EB","ZB","YB"]},b.prototype.binary=!0,b.prototype.init=function(){},b.prototype.update=function(a,b){var c,d,e,f,g;return g=this.getValue(b)||0,c=this.binary,d=!this.binary,c&&(f=1024),d&&(f=1e3),e=function(a){return function(b){var e,g;if(b=parseInt(b),f>b)return b+" B";for(e=-1,c&&(g=a.units.binary),d&&(g=a.units.decimal);;)if(b/=f,e++,!(b>f))break;return g[e]?Math.max(b,.1).toFixed(1)+" "+g[e]:Math.max(b,.1).toFixed(1)+(" ~*"+e*f+" * "+f+" B")}}(this),a.innerHTML=e(g)},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.GMap=function(a){function b(){return this.update=p(this.update,this),this.init=p(this.init,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.init=function(){},b.prototype.update=function(a,b){var c;return c=this.getValue(b)},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.Hidden=function(a){function b(){return this.update=p(this.update,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.update=function(a,b){var c;return c=!this.getValue(b),ko.bindingHandlers.visible.update(a,function(){return c})},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.Href=function(a){function b(){return this.update=p(this.update,this),this.init=p(this.init,this),b.__super__.constructor.apply(this,arguments)}var c;return r(b,a),c=function(a){var b;return b=function(){var b,c,d,e,f,g;for(f=jQuery(a).find("a"),g=[],d=0,e=f.length;e>d;d++)c=f[d],b=jQuery(c),g.push(b.replaceWith(b.contents()));return g},setTimeout(b,0)},b.prototype.init=function(a,b,d){var e;return a.href||a.setAttribute("href",""),"a"!==a.tagName.toLowerCase()&&console.warn("href binding should be used only on `a` tags"),c(a),e=d.get("stopPropagation")||!1,e?ko.utils.registerEventHandler(a,"click",function(a){return a.stopPropagation()}):void 0},b.prototype.update=function(a,b,d){var e,f;return c(a),e=this.getValue(b),f=d.get("target")||"",a.href!==e&&(a.href=e),a.target!==f?a.target=f:void 0},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.HtmlTree=function(a){function b(){return this.update=p(this.update,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.drawNode=function(a){var c,d,e,f,g,h,i;if(f=document.createElement("li"),f.innerHTML=a.title,a.children&&a.children.length>0){for(d=document.createElement("ul"),i=a.children,g=0,h=i.length;h>g;g++)e=i[g],c=b.drawNode(e),d.appendChild(c);f.appendChild(d)}return f},b.prototype.getData=function(a){var b;return b=this.getValue(a)||[],b.data?this.getValue(b.data)||[]:b},b.prototype.update=function(a,c){var d,e;return d=this.getValue(c),o("HtmlTree is experimental, do not use"),e=function(){return function(){var c;return c=b.drawNode(d),a.innerHTML="",a.appendChild(c)}}(this),setTimeout(e,0)},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.HtmlValue=function(a){function b(a){null==a&&(a={}),this.update=p(this.update,this),this.init=p(this.init,this),b.__super__.constructor.call(this,a),ko.bindingHandlers.sortable&&ko.bindingHandlers.sortable.options&&(ko.bindingHandlers.sortable.options.cancel=":input,button,[contenteditable]")}var c;return r(b,a),c=0,b.prototype.getElementValue=function(a){return a.innerHTML},b.prototype.setElementValue=function(a,b){return a.innerHTML=b},b.prototype.init=function(a,b){var d,e,f;a.setAttribute("contenteditable",!0),a.id||(a.id="Maslosoft-Ko-Balin-HtmlValue-"+c++),f=function(c){return function(){var d,e,f;if(a&&(a=document.getElementById(a.id)))return d=b(),f=c.getValue(b),e=c.getElementValue(a),ko.isWriteableObservable(d)&&f!==e?d(e):void 0}}(this),d=function(){return function(){return setTimeout(f,0)}}(this),jQuery(a).on("keyup, input",f),jQuery(document).on("mouseup",d),e=function(a){return jQuery(a).off("keyup, input",f),jQuery(document).off("mouseup",d)},ko.utils.domNodeDisposal.addDisposeCallback(a,e)},b.prototype.update=function(a,b){var c;c=this.getValue(b),this.getElementValue(a)!==c&&this.setElementValue(a,c)},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.Icon=function(a){function b(){return this.update=p(this.update,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.update=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;return d=$(a),m=this.getValue(b),g=this.getValue(c),i=c.get("iconField")||"icon",m?(q=m[i],k=!1,q.match(/\.(svg)$/)&&(k=!0),n="",q.match(/\.(jpg|jped|gif|png|svg)$/)&&(l=q.match(/[^\/]*?\.(jpg|jped|gif|png|svg)$/),n=l[0],q=q.replace(/[^\/]*?\.(jpg|jped|gif|png|svg)$/,"")),!n&&m.filename&&(n=m.filename),f="undefined"==typeof m.iconSize?16:m.iconSize,p=c.get("iconSize")||f,o=new RegExp("/"+f+"/","g"),j="undefined"==typeof m.isImage?!0:m.isImage,k&&(j=!1),j?(q.match(new RegExp("/$"))||(q+="/"),q.match(new RegExp("/w/","g"))?q=q.replace(o,"/"+p+"/"):q+="w/"+p+"/h/"+p+"/p/0/",m.updateDate&&(e=null,e=m.updateDate.sec?m.updateDate.sec:m.updateDate,"number"==typeof e&&(q+=e),"string"==typeof e&&(q+=e))):(h=16,p>16&&(h=32),p>32&&(h=48),p>48&&(h=512),q=q.replace(o,"/"+h+"/")),q.match(/\/$/)?q+=n:q=q+"/"+n,g.cachebusting&&(q=q+"?"+(new Date).getTime()),d.attr("src")!==q&&d.attr("src",q),void d.css({width:""+p+"px",height:"auto",maxWidth:"100%"})):void(console&&(console.warn("Binding value for `icon` binding not defined, skipping. Element:"),console.warn(a),console.warn((new Error).stack)))},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.Log=function(a){function b(){return this.init=p(this.init,this),this.update=p(this.update,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.update=function(a,b){return console.log(this.getValue(b),a)},b.prototype.init=function(a,b){return console.log(this.getValue(b),a)},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.PickaDate=function(a){function b(a){this.update=p(this.update,this),this.init=p(this.init,this),this.getModelValue=p(this.getModelValue,this),this.getDisplayValue=p(this.getDisplayValue,this),this.updateModel=p(this.updateModel,this),b.__super__.constructor.call(this,new Maslosoft.Ko.Balin.DateOptions(a))}return r(b,a),b.prototype.updateModel=function(a,b,c){var d,e,f;return e=this.getValue(b),d=this.getModelValue(a.value),e!==d?(ko.expressionRewriting.writeValueToProperty(b(),c,"datePicker",d),f=d):void 0},b.prototype.getDisplayValue=function(a){var b;return b="unix"===this.options.sourceFormat?moment.unix(a).format(this.options.displayFormat):moment(a,this.options.sourceFormat).format(this.options.displayFormat)},b.prototype.getModelValue=function(a){var b;return b="unix"===this.options.sourceFormat?moment(a,this.options.displayFormat).unix():moment(a,this.options.displayFormat).format(this.options.sourceFormat)},b.prototype.init=function(a,b,c){var d,e,f,g,h,i,j,k,l;f=this.getDisplayValue(this.getValue(b)),l=jQuery(a),l.val(f),k=this.options.template?this.options.template:'<div class="input-group-addon">\n	<a class="picker-trigger-link" style="cursor: pointer;">\n		<i class="glyphicon glyphicon-calendar"></i>\n	</a>\n</div>',j=jQuery(k),j.insertAfter(l),i=j.find("a.picker-trigger-link"),g={format:this.options.displayFormat.toLowerCase(),selectMonths:!0,selectYears:!0},d=i.pickadate(g),h=d.pickadate("picker"),h.on("set",function(d){return function(){l.val(h.get("value")),d.updateModel(a,b,c)}}(this)),e={},e.change=function(d){return function(){var e;e=Date.parse(a.value),e&&(h.set("select",[e.getFullYear(),e.getMonth(),e.getDate()]),d.updateModel(a,b,c))}}(this),e.keyup=function(a){86===a.which&&a.ctrlKey&&e.change()},e.mouseup=e.change,e.focus=function(){return function(){h.open(!1)}}(this),e.blur=function(d){return function(e){e.relatedTarget||(h.close(),d.updateModel(a,b,c))}}(this),l.on(e),i.on("click",function(a){var b,c;c=jQuery(h.$root[0]),b=jQuery(c.children()[0]).height()>0,b?h.close():h.open(!1),a.stopPropagation(),a.preventDefault()})},b.prototype.update=function(a,b){var c;return ko.utils.setTextContent(a,b()),c=this.getDisplayValue(this.getValue(b)),a.value!==c?a.value=c:void 0},b}(this.Maslosoft.Ko.Balin.Picker),this.Maslosoft.Ko.Balin.Select2=function(a){function b(){return this.update=p(this.update,this),this.init=p(this.init,this),b.__super__.constructor.apply(this,arguments)}var c,d,e,f;return r(b,a),c="select2",d=""+c+"Data",f=function(a,b){var c,d;c=ko.isObservable(b),d=void 0,c&&(d=b.equalityComparer,b.equalityComparer=function(){return!0}),$(a).trigger("change"),c&&(b.equalityComparer=d)},e=function(a,b,c){var e,g,h,i,j;g=ko.unwrap(b()),e=c(),i=!1,h=null,j=null,$(a).on("select2:selecting select2:unselecting",function(){i=!0}),$(a).on("select2:select select2:unselect",function(){i=!1}),ko.isObservable(e.value)?j=e.value.subscribe(function(){i||f(a,this._target||this.target)}):ko.isObservable(e.selectedOptions)&&(j=e.selectedOptions.subscribe(function(){i||f(a,this._target||this.target)})),ko.isWriteableObservable(e[d])&&(h=function(){$(a).data("select2")&&e[d]($(a).select2("data"))},$(a).on("change",h)),$(a).select2(g),e.selectedOptions&&$(a).val(e.selectedOptions).trigger("change"),ko.utils.domNodeDisposal.addDisposeCallback(a,function(){$(a).select2("destroy"),null!==h&&$(a).off("change",h),null!==j&&j.dispose()})},b.prototype.init=function(){var a,b;return a=arguments,b=function(){return e.apply(null,a)},setTimeout(b,0)},b.prototype.update=function(a,b){},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.Selected=function(a){function b(){b.__super__.constructor.call(this,new Maslosoft.Ko.Balin.CssOptions({className:"selected"}))}return r(b,a),b}(this.Maslosoft.Ko.Balin.CssClass),this.Maslosoft.Ko.Balin.Src=function(a){function b(){return this.update=p(this.update,this),this.init=p(this.init,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.init=function(){},b.prototype.update=function(a,b){var c;return c=this.getValue(b),a.src!==c?a.src=c:void 0},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.Tags=function(a){function b(){return this.update=p(this.update,this),this.init=p(this.init,this),this.setTags=p(this.setTags,this),b.__super__.constructor.apply(this,arguments)}var c,d;return r(b,a),c="<style>\n	body.kill-all-select2-dropdowns .select2-dropdown {\n		display: none !important;\n	}\n	body.kill-all-select2-dropdowns .select2-container--default.select2-container--open.select2-container--below .select2-selection--single, .select2-container--default.select2-container--open.select2-container--below .select2-selection--multiple\n	{\n		border-bottom-left-radius: 4px;\n		border-bottom-right-radius: 4px;\n	}\n	.select2-container--default.select2-container--focus .select2-selection--multiple {\n		border-color: #66afe9;\n		outline: 0;\n		-webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102,175,233,.6);\n		box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102,175,233,.6);\n	}\n</style>",d=!0,b.prototype.setTags=function(a,b){var c,d,e,f,g,h,i;for(e=a.find("option"),e.length&&e.remove(),i=[],c=g=0,h=b.length;h>g;c=++g)f=b[c],d=jQuery("<option selected='true'></option>"),d.val(f),d.text(f),i.push(a.append(d));
return i},b.prototype.init=function(a,b){var e,f,g,h,i,j,k,l,m;if("select"!==a.tagName.toLowerCase())throw new Error("Tags binding must be placed on `select` element");return d&&(jQuery(c).appendTo("head"),d=!1),h=this.getValue(b),m=h.data?h.data:h,g=JSON.parse(JSON.stringify(m)),j=jQuery(a),j.data("tags",!0),j.attr("multiple",!0),this.setTags(j,g),f={placeholder:h.placeholder,tags:!0,tokenSeparators:[","," "]},l=function(){var a;return h.inputCss?(a=j.parent().find(".select2-search__field"),a.addClass(h.inputCss),a.attr("placeholder",h.placeholder)):void 0},h.tagCss&&(f.templateSelection=function(a,b){return b.removeClass("select2-selection__choice"),b.addClass(h.tagCss),jQuery(a.selected?"<span>"+a.text+"</span>":"<span>"+a.text+"</span>")}),k=function(){return function(){var a,b,c,d,e;if(m.removeAll?m.removeAll():m=[],a=j.val())for(b=d=0,e=a.length;e>d;b=++d)c=a[b],c=c.replace(",","").replace(" ","").trim(),c&&m.push(c);return l()}}(this),i=function(){return function(a){var b;return b=jQuery(a.target).data(),b?jQuery("body").toggleClass("kill-all-select2-dropdowns","select2:opening"===a.type):void 0}}(this),e=function(){return function(){return j.select2(f),l(),j.on("change",k),j.on("select2:select select2:unselect",k),j.on("select2:opening select2:close",i),ko.utils.domNodeDisposal.addDisposeCallback(a,function(){return j.select2("destroy"),null!==k?(j.off("change",k),j.off("select2:select select2:unselect",k)):void 0})}}(this),setTimeout(e,0)},b.prototype.update=function(a,b){var c,d,e,f,g;return d=this.getValue(b),g=d.data?d.data:d,c=JSON.parse(JSON.stringify(g)),e=jQuery(a),f=function(a){return function(){var b,d;return b=null===e.val()?"":e.val().join(",").replace(/(,+)/g,",").replace(/(\s+)/g," "),d=g.join(","),b!==d?a.setTags(e,c):void 0}}(this),setTimeout(f,0)},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.TextValue=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.getElementValue=function(a){return a.textContent||a.innerText||""},b.prototype.setElementValue=function(a,b){return"undefined"!=typeof a.textContent&&(a.textContent=b),"undefined"!=typeof a.innerText?a.innerText=b:void 0},b}(this.Maslosoft.Ko.Balin.HtmlValue),this.Maslosoft.Ko.Balin.TextValueHLJS=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.getElementValue=function(a){return a.textContent||a.innerText||""},b.prototype.setElementValue=function(a,b){return"undefined"!=typeof a.textContent&&(a.textContent=b,hljs&&hljs.highlightBlock(a)),"undefined"!=typeof a.innerText&&(a.innerText=b,hljs)?hljs.highlightBlock(a):void 0},b}(this.Maslosoft.Ko.Balin.HtmlValue),this.Maslosoft.Ko.Balin.TimeAgoFormatter=function(a){function b(a){this.update=p(this.update,this),b.__super__.constructor.call(this,new Maslosoft.Ko.Balin.TimeAgoOptions(a))}return r(b,a),b.prototype.update=function(a,b){var c;c=this.getValue(b),a.innerHTML=moment[this.options.sourceFormat](c).fromNow()},b}(this.Maslosoft.Ko.Balin.MomentFormatter),this.Maslosoft.Ko.Balin.TimeFormatter=function(a){function b(a){b.__super__.constructor.call(this,new Maslosoft.Ko.Balin.TimeOptions(a))}return r(b,a),b}(this.Maslosoft.Ko.Balin.MomentFormatter),this.Maslosoft.Ko.Balin.TimePicker=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return r(b,a),b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.Tooltip=function(a){function b(){return this.update=p(this.update,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.update=function(a,b){var c;c=this.getValue(b),$(a).attr("title",c),$(a).attr("data-original-title",c),$(a).attr("rel","tooltip")},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.Tree=function(a){function b(){return this.update=p(this.update,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.update=function(){},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.TreeGrid=function(a){function b(){return this.update=p(this.update,this),this.init=p(this.init,this),b.__super__.constructor.apply(this,arguments)}var c;return r(b,a),c=function(a,b,c,d){return function(){var a,e,f,g,h,i;return g=b(),i=ko.utils.peekObservable(g),i&&"number"!=typeof i.length?(a=ko.observableArray([]),f=ko.observableArray([]),e=-1,h=function(b){var c,d,g,i,j,k;for(e++,k=[],i=0,j=b.length;j>i;i++)g=b[i],d=g.children&&g.children.length&&g.children.length>0,c={depth:e,hasChilds:d},g._treeGrid=ko.tracker.factory(c),a.push(g),f.push(e),d?(h(g.children),k.push(e--)):k.push(void 0);return k},h(i.data.children?i.data.children:i.data),c&&(c.tree=i.data,c.data=a,c.widget=d),ko.utils.unwrapObservable(g),{foreach:a,depths:f,as:i.as,includeDestroyed:i.includeDestroyed,afterAdd:i.afterAdd,beforeRemove:i.beforeRemove,afterRender:i.afterRender,beforeMove:i.beforeMove,afterMove:i.afterMove,templateEngine:ko.nativeTemplateEngine.instance}):{foreach:g,templateEngine:ko.nativeTemplateEngine.instance}}},b.prototype.init=function(a,b,d,e,f){var g,h,i,j,k,l;return k=this.getValue(b),g=k.activeClass,j=jQuery(a),g&&(h=function(a){return j.find("tr").removeClass(g),jQuery(a.currentTarget).addClass(g),!0},j.on("click","tr",h),i=function(a){return jQuery(a).off("click","tr",h)},ko.utils.domNodeDisposal.addDisposeCallback(a,i)),l=new Maslosoft.Ko.Balin.Widgets.TreeGrid.TreeGridView(a,b),ko.bindingHandlers.template.init(a,c(a,b,f,l),d,e,f),{controlsDescendantBindings:!0}},b.prototype.update=function(a,b,d,e,f){var g;return g=new Maslosoft.Ko.Balin.Widgets.TreeGrid.TreeGridView(a,b,"update"),ko.bindingHandlers.template.update(a,c(a,b,f,g),d,e,f)},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.TreeGridNode=function(a){function b(){return this.update=p(this.update,this),this.init=p(this.init,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.init=function(){},b.prototype.update=function(a,b,c,d,e){var f,g,h,i,j,k,l,m;return ko.utils.toggleDomNodeCssClass(a,"tree-grid-drag-handle",!0),l=[],g=this.getValue(b),j=g._treeGrid,f=e.widget.config,m=f.nodeIcon,k=f.folderIcon,k&&j.hasChilds&&(m=k),h=j.depth,i=[],i.push("<div class='collapsed' style='display:none;transform: rotate(-90deg);'>&#128899;</div>"),i.push("<div class='expanded' style='transform: rotate(-45deg);'>&#128899;</div>"),l.push("<a class='expander' style='cursor:pointer;text-decoration:none;width:1em;margin-left:"+h+"em;display:inline-block;'>"+i.join("")+"</a>"),h=j.depth+1,l.push("<i class='no-expander' style='margin-left:"+h+"em;display:inline-block;'></i>"),l.push("<img src='"+m+"' style='width: 1em;height:1em;margin-top: -.3em;display: inline-block;'/>"),a.innerHTML=l.join("")+a.innerHTML},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.Validator=function(a){function b(){this.update=p(this.update,this),this.init=p(this.init,this),b.__super__.constructor.call(this,new Maslosoft.Ko.Balin.ValidatorOptions)}var c;return r(b,a),c=0,b.prototype.getElementValue=function(a){return"input"===a.tagName.toLowerCase()?a.value:"textarea"===a.tagName.toLowerCase()?a.value:a.textContent||a.innerText||""},b.prototype.init=function(a,b){var d,e,f,g,i,k,l,m,n,o,p,q,r;for(i=this.getValue(b),p=new Array,e=this.options.classField,d=i.constructor===Array?i:[i],q=0,r=d.length;r>q;q++)g=d[q],g[e]?"function"==typeof g[e]?(o=g[e].prototype,"function"==typeof o.isValid&&"function"==typeof o.getErrors&&"function"==typeof o.reset?(f=g[e],delete g[e],p.push(new f(g))):(n="function"==typeof g[e].prototype.constructor?g[e].prototype.constructor.name:g[e].toString(),j("Parameter `"+e+"` (of type "+n+") must be validator compatible class, binding defined on element:",a))):j("Parameter `"+e+"` must be validator compatible class, binding defined on element:",a):j("Parameter `"+e+"` must be defined for validator on element:",a);return m=new h(p,this.options),m.init(a),a.id||(a.id="Maslosoft-Ko-Balin-Validator-"+c++),l=this.getElementValue(a),k=function(b){return function(){var c;if(a&&(a=document.getElementById(a.id)))return c=b.getElementValue(a),l!==c?(l=c,m.validate(a,c)):void 0}}(this),ko.utils.registerEventHandler(a,"keyup, input",k),ko.utils.registerEventHandler(document,"mouseup",k)},b.prototype.update=function(){},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.VideoPlaylist=function(a){function b(){return this.update=p(this.update,this),this.init=p(this.init,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.initVideos=null,b.prototype.getData=function(a){var b;return b=this.getValue(a)||[],b.data?b.data:b},b.prototype.init=function(){},b.prototype.update=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(c=this.getData(b),e=this.getValue(b||{}),i=e.urlField||"url",g=e.urlField||"title",d=[],k=0,l=c.length;l>k;k++)j=c[k],h=j[i],f=j[g],this.isVideoUrl(h)&&d.push("<a href='"+h+"'>"+f+"</a>");return a.innerHTML=d.join("\n"),d.length?(ko.utils.toggleDomNodeCssClass(a,"maslosoft-playlist",!0),new Maslosoft.Playlist(a)):ko.utils.toggleDomNodeCssClass(a,"maslosoft-playlist",!1)},b}(this.Maslosoft.Ko.Balin.Video),this.Maslosoft.Ko.Balin.VideoThumb=function(a){function b(){return this.update=p(this.update,this),this.init=p(this.init,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.init=function(){},b.prototype.update=function(a,b){var c;return c=this.getValue(b),this.setThumb(c,a)},b}(this.Maslosoft.Ko.Balin.Video),this.Maslosoft.Ko.Balin.Widget=function(a){function b(){return this.update=p(this.update,this),this.init=p(this.init,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.init=function(a,b,c){var d,e,f,g,h,i,j;if(e=this.getValue(b),h=c.get("ref"),"string"!=typeof h&&h)"object"==typeof h&&(j=h);else{if("function"!=typeof e)return;if("function"!=typeof e.constructor)return;try{j=new e}catch(k){return void(d=k)}h&&n(h,j),h&&(h=j)}if(g=c.get("params"))for(f in g)i=g[f],j[f]=i;return"function"==typeof j.init&&j.init(a),"function"==typeof j.dispose?ko.utils.domNodeDisposal.addDisposeCallback(a,j.dispose):void 0},b.prototype.update=function(){},b}(this.Maslosoft.Ko.Balin.Base),this.Maslosoft.Ko.Balin.WidgetAction=function(a){function b(){return this.update=p(this.update,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.update=function(a,b,c){var d,e;return d=this.getData(a,b,c,"action"),e=this.createUrl(d.id,d.action,d.params,"?"),a.setAttribute("href",e),this.setRel(a)},b}(this.Maslosoft.Ko.Balin.WidgetUrl),this.Maslosoft.Ko.Balin.WidgetActivity=function(a){function b(){return this.update=p(this.update,this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.update=function(a,b,c){var d,e;return d=this.getData(a,b,c,"activity"),e=this.createUrl(d.id,d.activity,d.params,"#"),a.setAttribute("href",e),this.setRel(a)},b}(this.Maslosoft.Ko.Balin.WidgetUrl),b=function(){function a(a,b,c){this.events=c,this.dragDrop=p(this.dragDrop,this),this.dragEnd=p(this.dragEnd,this),this.draggable={},this.draggable.scroll=!1,this.tree={},this.tree=a,this.finder=new f(this.tree),this.el=jQuery(b)}var b;return a.prototype.autoExpandMS=400,a.prototype.focusOnClick=!1,a.prototype.preventVoidMoves=!0,a.prototype.preventRecursiveMoves=!0,a.prototype.tree=null,a.prototype.finder=null,a.prototype.draggable=null,a.prototype.events=null,a.el=null,b=function(a){},a.prototype.dragStart=function(){return!0},a.prototype.dragEnter=function(){return!0},a.prototype.dragEnd=function(){return m("drag end..."),!0},a.prototype.dragDrop=function(a,b){var c,d,e,f,g,h,i,j,k;return g=b.hitMode,e=b.draggable.element[0],this.events.drop(a,b),b.otherNode?(i=this.finder.find(b.otherNode.parent.data.id),d=this.events.getNode(this.finder.find(b.otherNode.data.id)),this.el.is(e)||(m("From other instance..."),b=ko.dataFor(e),m(b),setTimeout(f,0))):(c=ko.contextFor(e),d=this.events.getNode(c.$data)),j=this.finder.find(a.data.id),k=this.finder.find(a.parent.data.id),i&&i.children.remove(d),this.tree.children.remove(d),k&&k.children.remove(d),"over"===g&&j.children.push(d),"before"===g&&(k?(h=k.children.indexOf(j),k.children.splice(h,0,d)):(h=this.tree.children.indexOf(j),this.tree.children.splice(h,0,d))),"after"===g&&(k?k.children.push(d):this.tree.children.push(d)),f=function(a){return function(b){return m(b),a.el.fancytree("option","source",a.tree.children),a.el.fancytree("getRootNode").visit(function(a){return a.setExpanded(!0)}),a.el.focus(),m("update tree..",a.el)}}(this),setTimeout(f,0),!0},a}(),c=function(){function a(a,b){this.dragDrop=p(this.dragDrop,this),this.dragEnd=p(this.dragEnd,this),this.draggable={},this.draggable.scroll=!1,this.tree={},this.tree=a,this.finder=new f(this.tree),this.el=jQuery(b)}var b;return a.prototype.focusOnClick=!1,a.prototype.tree=null,a.prototype.finder=null,a.prototype.draggable=null,a.el=null,b=function(a){},a.prototype.dragStart=function(){return!0},a.prototype.dragEnter=function(){return!1},a.prototype.dragEnd=function(){return m("drag end..."),!0},a.prototype.dragDrop=function(a,b){return!1},a}(),d=function(){function a(a,b,d){this.events=b,this.options=d,this.handle=p(this.handle,this),this.getNode=p(this.getNode,this),this.drop=p(this.drop,this),c=new f(a),this.handle("click"),this.handle("dblclick"),this.handle("activate"),this.handle("deactivate")}var b,c,d;return a.prototype.events=null,a.prototype.dropEvent=null,a.prototype.options=null,c=null,b=function(a){return"undefined"==typeof a.targetType?!0:"title"===a.targetType?!0:"icon"===a.targetType?!0:void 0},d=function(a){return a.stopPropagation()},a.prototype.drop=function(a,b){return m("Drop..."),m(this.events),this.events.drop?(this.dropEvent=new this.events.drop(a,b),m(this.dropEvent)):void 0},a.prototype.getNode=function(a){return m("Tree event drop..."),m(this.dropEvent),this.dropEvent&&this.dropEvent.getNode?this.dropEvent.getNode(a):a},a.prototype.handle=function(a){return this.events[a]?this.options[a]=function(e){return function(f,g){var h;return b(g)?(h=c.find(g.node.data.id),e.events[a](h,g,f),d(f)):void 0}}(this):void 0},a}(),e=function(){function a(){}var b;return b={},a.prototype.get=function(a){return"undefined"==typeof b[a]?!1:b[a]},a.prototype.set=function(a,c){return b[a]=c},a}(),f=function(){function a(a){d.push(a)}var b,c,d;return b=new e,d=[],c=function(a,d){var e,f,g,h,i,j;if("undefined"==typeof d)return!1;if(f=b.get(d))return f;if(a.id===d)return a;if(a._id===d)return a;if(a.children&&a.children.length>0)for(j=a.children,h=0,i=j.length;i>h;h++)if(e=j[h],g=c(e,d),g!==!1)return b.set(d,g),g;return!1},a.prototype.find=function(a){var b,e,f,g;for(f=0,g=d.length;g>f;f++)if(e=d[f],b=c(e,a))return b;return!1},a}(),g=function(){function a(a,c,d,e){this.icon=d,this.folderIcon=e,this.render=p(this.render,this),b=new f(a)}var b;return a.prototype.icon="",a.prototype.folderIcon="",a.prototype.renderer=null,b=null,a.prototype.setRenderer=function(a){return this.renderer=a,"function"!=typeof this.renderer.render?console.error("Renderer must have function `render`"):void 0},a.prototype.render=function(a,c){var d,e,f,g,h,i,j;h=c.node;for(f in c)if(j=c[f],"originalEvent"===f)return;return i=jQuery(h.span).find("> span.fancytree-title"),this.renderer&&this.renderer.render&&(g=b.find(h.data.id),this.renderer.render(g,i)),this.icon||this.folderIcon?(d=i.html(),e=this.folderIcon&&h.children&&h.children.length?this.folderIcon:this.icon,i.html("<i class='node-title-icon' style='background-image:url("+e+")'></i> "+d)):void 0},a}(),h=function(){function a(a,b){this.validators=a,this.options=b,this.adviseOne=p(this.adviseOne,this),this.validateOne=p(this.validateOne,this),this.init=p(this.init,this),this.setElement=p(this.setElement,this),this.validate=p(this.validate,this)}var b,c,d;return a.prototype.element=null,a.prototype.parent=null,a.prototype.errors=null,a.prototype.warnings=null,d=ko.utils.toggleDomNodeCssClass,b=function(a){return ko.utils.toggleDomNodeCssClass(a,"hide",!0)},c=function(a){return ko.utils.toggleDomNodeCssClass(a,"hide",!1)},a.prototype.validate=function(a,b){var c,d,e,f,g,h,i;for(this.setElement(a),h=this.validators,d=0,f=h.length;f>d;d++)if(c=h[d],!this.validateOne(c,b))return!1;for(i=this.validators,e=0,g=i.length;g>e;e++)c=i[e],"function"==typeof c.getWarnings&&this.adviseOne(c,b);return!0},a.prototype.setElement=function(a){return this.element=a,this.parent=jQuery(this.element).parents(".form-group")[0],this.errors=this.parent.querySelector(this.options.errorMessages),this.warnings=this.parent.querySelector(this.options.warningMessages),b(this.errors),b(this.warnings),this},a.prototype.init=function(a){return this.setElement(a)},a.prototype.validateOne=function(a,e){var f,g,h,i,j,k;return f=this.element,j=this.parent,g=this.errors,k=this.warnings,i=new Array,a.reset(),h=!1,a.isValid(e)?(this.options.inputError&&d(f,this.options.inputError,!1),this.options.inputSuccess&&d(f,this.options.inputSuccess,!0),j&&(this.options.parentError&&d(j,this.options.parentError,!1),this.options.parentSuccess&&d(j,this.options.parentSuccess,!0)),g&&(b(g),g.innerHTML=""),h=!0):(i=a.getErrors(),this.options.inputError&&d(f,this.options.inputError,!0),this.options.inputSuccess&&d(f,this.options.inputSuccess,!1),j&&(this.options.parentError&&d(j,this.options.parentError,!0),this.options.parentSuccess&&d(j,this.options.parentSuccess,!1)),g&&i&&(c(g),g.innerHTML=i.join("<br />")),h=!1),this.options.inputWarning&&d(f,this.options.inputWarning,!1),j&&this.options.parentWarning&&d(j,this.options.parentWarning,!1),k&&(b(k),k.innerHTML=""),h},a.prototype.adviseOne=function(a){var b,e,f,g,h;return b=this.element,g=this.parent,e=this.errors,h=this.warnings,f=a.getWarnings(),f.length&&(this.options.inputWarning&&d(b,this.options.inputWarning,!0),this.options.inputSuccess&&d(b,this.options.inputSuccess,!1),g&&(this.options.parentWarning&&d(g,this.options.parentWarning,!0),this.options.parentSuccess&&d(g,this.options.parentSuccess,!1)),h&&(c(h),h.innerHTML=f.join("<br />"))),this},a}(),this.Maslosoft.Ko.Balin.Widgets.TreeGrid||(this.Maslosoft.Ko.Balin.Widgets.TreeGrid={}),Maslosoft.Ko.Balin.Widgets.TreeGrid.Dnd=function(){function a(a){var b,c;this.grid=a,this.dragHelper=p(this.dragHelper,this),this.clear=p(this.clear,this),this.move=p(this.move,this),this.dragOver=p(this.dragOver,this),this.over=p(this.over,this),this.drop=p(this.drop,this),this.stop=p(this.stop,this),this.drag=p(this.drag,this),this.dragStart=p(this.dragStart,this),this.grid.config.dnd&&("init"===this.grid.context&&(c=this.grid.element,ko.utils.domNodeDisposal.addDisposeCallback(this.grid.element.get(0),function(){var a;try{if(c)return c.draggable("destroy"),c.droppable("destroy")}catch(b){return a=b,console.log(a.message)}}),this.grid.element.on("mousemove","> tr",this.move)),f||(f=new Maslosoft.Ko.Balin.Widgets.TreeGrid.DropIndicator(this.grid)),b=function(a){return function(){var b,c;return b={handle:".tree-grid-drag-handle",cancel:".expander, input, *[contenteditable], .no-drag",revert:!1,cursor:"pointer",cursorAt:{top:5,left:5},start:a.dragStart,drag:a.drag,stop:a.stop,helper:a.dragHelper},c={drop:a.drop,over:a.over},a.grid.element.find("> tr").draggable(b),a.grid.element.find("> tr").droppable(c)}}(this),setTimeout(b,0))}var b,c,d,e,f,g;return a.prototype.grid=null,a.prototype.helper=null,f=null,d=null,c=null,e=null,g=null,b=!1,a.prototype.dragStart=function(a){return c=a.target},a.prototype.drag=function(){},a.prototype.stop=function(a,c){return b?void 0:this.drop(a,c)},a.prototype.drop=function(){var a,f,g,h,i,j;return b=!0,c&&d&&d.get(0)?(a=ko.dataFor(c),g=ko.dataFor(d.get(0)),this.grid.canDrop(c,d,e)?(this.grid.freeze(),h=this.grid.getParent(g),j=this.grid.getRoot(),i=h.children?h.children:h,(f=function(b){return function(){var c;return b.grid.remove(a),"over"===e&&g.children.push(a),"before"===e&&(c=i.indexOf(g),i.splice(c,0,a)),"after"===e&&(g.children.length?i.splice(0,0,a):i.push(a)),"last"===e&&(j.children?j.children.push(a):j.push(a)),b.clear()}}(this))()):this.clear()):this.clear()},a.prototype.over=function(a){return"tr"===a.target.tagName.toLowerCase()&&d!==a.target?(d=jQuery(a.target),this.dragOver(a)):void 0},a.prototype.dragOver=function(){return f?f.precise.over(c,d,e,f):void 0},a.prototype.move=function(a){var b,f,h;return c&&a.currentTarget===c&&(d&&c===d.get(0)||(a.target=c,this.over(a))),d&&(b=d.offset(),f={},f.x=a.pageX-b.left,f.y=a.pageY-b.top,h={},h.x=f.x/d.outerWidth(!0),h.y=f.y/d.outerHeight(!0),e="over",h.y>.65&&(e="after"),h.y<=.25&&(e="before"),"after"===e&&this.grid.isLast(ko.dataFor(d.get(0)))&&(e="last"),g!==e)?(g=e,a.target=d,this.dragOver(a)):void 0},a.prototype.clear=function(){return this.grid.thaw(),d=null,c=null,e=null,g=null,b=!1,this.helper&&(this.helper.hide(),this.helper=null),f?f.hide():void 0},a.prototype.dragHelper=function(a){var b,c,d,e;return e=jQuery(a.currentTarget).parent(),b=e.find(".tree-grid-drag-handle").parents("td").first(),d=b.clone(),d.find(".expander .expanded").remove(),d.find(".expander .collapsed").remove(),d.find(".expander").remove(),d.find(".no-expander").remove(),c="<span class='drop-indicator'>&times;</span>",this.helper=jQuery("<div style='white-space:nowrap;'>"+c+d.html()+"</div>"),this.helper.css("pointer-events","none"),f.attach(this.helper.find(".drop-indicator")),this.helper},a}(),Maslosoft.Ko.Balin.Widgets.TreeGrid.DropIndicator=function(){function a(a){this.grid=a,this.precise=new Maslosoft.Ko.Balin.Widgets.TreeGrid.InsertIndicator(this.grid)}return a.precise=null,a.element=null,a.prototype.attach=function(a){return this.element=a,this.element.css({"font-size":"1.5em"}),this.element.css({width:"1em"}),this.element.css({height:"1em"}),this.element.css({position:"absolute"}),this.element.css({left:"-.75em"}),this.element.css({top:"-.35em"})},a.prototype.hide=function(){return this.element.hide(),this.precise.hide()},a.prototype.show=function(){return this.element.show(),this.precise.show()},a.prototype.accept=function(){return this.element.html("&check;"),this.element.css({color:"green"}),this.precise.accept()},a.prototype.deny=function(){return this.element.html("&times;"),this.element.css({color:"red"}),this.precise.deny()},a}(),Maslosoft.Ko.Balin.Widgets.TreeGrid.Events=function(){function a(a){this.grid=a,!this.grid.config.on}return a.prototype.grid=null,a}(),Maslosoft.Ko.Balin.Widgets.TreeGrid.Expanders=function(){function a(a){this.grid=a,this.handler=p(this.handler,this),this.updateExpanders=p(this.updateExpanders,this),this.grid.config.expanders!==!1&&("init"===this.grid.context&&this.grid.element.on("mousedown",".expander",this.handler),"update"===this.grid.context&&this.updateExpanders())}return a.prototype.grid=null,a.prototype.updateExpanders=function(){var a,b;return b=function(){return function(a,b){var c;return c=b.children&&b.children.length,c?(a.find(".no-expander").hide(),a.find(".expander").show()):(a.find(".expander").hide(),a.find(".no-expander").show())}}(this),a=function(a){return function(){return a.grid.visit(b)}}(this),setTimeout(a,0)},a.prototype.handler=function(a){var b,c,d,e;return b=ko.contextFor(a.target).$data,c=-1,e=!1,m("clicked on expander "+b.title),d=function(){return function(a,d){var f,g;return g=d._treeGrid.depth,d===b?(c=g,f=a.find(".expander"),void(f.find(".expanded:visible").length?(f.find(".expanded").hide(),f.find(".collapsed").show(),e=!1):(f.find(".collapsed").hide(),f.find(".expanded").show(),e=!0))):-1!==c?g===c?void(c=-1):g-1===c?e?a.show():a.hide():void 0:void 0}}(this),this.grid.visit(d)},a}(),Maslosoft.Ko.Balin.Widgets.TreeGrid.InsertIndicator=function(){function a(a){this.grid=a,d||(this.create(),d=!0)}var b,c,d,e;return a.prototype.grid=null,d=!1,c=null,b=null,e=null,a.prototype.hide=function(){return c.hide()},a.prototype.show=function(){return c.show()},a.prototype.accept=function(){return c.css({color:"green"})},a.prototype.deny=function(){return c.css({color:"red"})},a.prototype.over=function(a,b,d,e){var f,g,h,i,j,k,l,m;return null==d&&(d="over"),this.accept(),e.accept(),this.precise("over"===d?!1:!0),this.grid.canDrop(a,b,d)?(this.accept(),e.accept()):(this.deny(),e.deny()),i=b.find(".tree-grid-drag-handle"),m=0,h=1.5,k=i.offset(),g=c.outerHeight(!0)/h,"over"===d&&(j=i.outerHeight(!0)/h,l=k.top+j-g),"before"===d&&(l=k.top-g),"after"===d&&(l=k.top+i.outerHeight(!0)-g),f=k.left+m,c.css({left:f}),c.css({top:l}),this.show()},a.prototype.precise=function(a){return null==a&&(a=!0),a?e.show():e.hide()},a.prototype.create=function(){return c=jQuery('<div class="tree-grid-insert-indicator" style="display:none;position:absolute;z-index: 10000;color:green;line-height: 1em;">\n	<span class="tree-grid-insert-indicator-coarse" style="font-size: 1.5em;">\n		&#9654;\n	</span>\n	<span class="tree-grid-insert-indicator-precise" style="font-size:1.4em;">\n		&#11835;\n	</span>\n</div>'),c.appendTo("body"),b=c.find(".tree-grid-insert-indicator-coarse"),e=c.find(".tree-grid-insert-indicator-precise"),c.show()},a}(),Maslosoft.Ko.Balin.Widgets.TreeGrid.TreeGridView=function(){function a(b,c,d){var e,f,g,h;if(null==c&&(c=null),this.context=null!=d?d:"init",this.thaw=p(this.thaw,this),this.freeze=p(this.freeze,this),this.remove=p(this.remove,this),this.canDrop=p(this.canDrop,this),this.isLast=p(this.isLast,this),this.have=p(this.have,this),this.getContext=p(this.getContext,this),this.getRoot=p(this.getRoot,this),this.getParent=p(this.getParent,this),this.visitRecursive=p(this.visitRecursive,this),this.element=jQuery(b),c)for(this.config={},this.config=ko.unwrap(c()),h=a.plugins,f=0,g=h.length;g>f;f++)new(e=h[f])(this)}var b;return a.plugins=[Maslosoft.Ko.Balin.Widgets.TreeGrid.Expanders,Maslosoft.Ko.Balin.Widgets.TreeGrid.Dnd,Maslosoft.Ko.Balin.Widgets.TreeGrid.Events],a.prototype.element=null,a.prototype.config=null,a.prototype.visit=function(a){var b,c,d,e,f,g;for(d=this.element.find("> tr"),g=[],e=0,f=d.length;f>e;e++)c=d[e],b=ko.dataFor(c),g.push(a(jQuery(c),b));return g},a.prototype.visitRecursive=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;if(null==b&&(b=null),b){if(b.children&&b.children.length)for(m=b.children,f=0,j=m.length;j>f;f++)c=m[f],a(b,c),this.visitRecursive(a,c);if(b.length){for(o=[],g=0,k=b.length;k>g;g++)c=b[g],a(b,c),o.push(this.visitRecursive(a,c));return o}}else{if(b=this.getRoot(),a(null,b),b.children&&b.children.length)for(l=b.children,d=0,h=l.length;h>d;d++)c=l[d],a(b,c),this.visitRecursive(a,c);if(b.length){for(n=[],e=0,i=b.length;i>e;e++)c=b[e],a(b,c),n.push(this.visitRecursive(a,c));return n}}},a.prototype.getParent=function(a){var b,c;return b=null,c=function(c,d){return d===a?b=c:void 0},this.visitRecursive(c),b},a.prototype.getRoot=function(){var a;return a=ko.contextFor(this.element.get(0)),a.tree},a.prototype.getContext=function(){return ko.contextFor(this.element.get(0))},a.prototype.have=function(a,b){var c,d;return c=!1,d=function(a,d){return d===b?c=!0:void 0},this.visitRecursive(d,a),c},a.prototype.isLast=function(a){var b,c;return c=this.element.find("> tr:last()"),b=ko.dataFor(c.get(0)),a===b?!0:!1},a.prototype.canDrop=function(a,b,c){var d,e;return d=ko.dataFor(a),e=ko.dataFor(b.get(0)),"last"===c?!0:"after"===c?!0:d===e?!1:this.have(d,e)?!1:!0},a.prototype.remove=function(a){var b;return b=function(b){return b?b.children?b.children.remove(a):b.remove(a):void 0},this.visitRecursive(b)},a.prototype.expandAll=function(){},a.prototype.collapseAll=function(){},b=[],a.prototype.freeze=function(){var a,c,d,e,f,g;for(b=[],d=this.element.find("> tr:first() td"),g=[],e=0,f=d.length;f>e;e++)c=d[e],b.push(c.style),a=jQuery(c),g.push(a.css("width",a.width()+"px"));return g},a.prototype.thaw=function(){var a;return a=function(a){return function(){var c,d,e,f,g,h;for(d=a.element.find("> tr:first-child() td"),h=[],e=f=0,g=d.length;g>f;e=++f)c=d[e],h.push(c.style=b[e]);return h}}(this),setTimeout(a,150)},a}(),this.Maslosoft.Ko.getType=function(){if(x&&"object"==typeof x){if(x.constructor===Date)return"date";if(x.constructor===Array)return"array"}return typeof x},this.Maslosoft.Ko.objByName=function(a,b){var c,d,e,f,g,h,i,j;for(null==b&&(b=window),c=Array.prototype.slice.call(arguments,2),g=a.split("."),d=b,h=[],e=i=0,j=g.length;j>i;e=++i){if(f=g[e],h.push(f),"undefined"==typeof d[f])throw new Error("Name part `"+h.join(".")+"` not found while accesing "+a);d=d[f]}return d},this.Maslosoft.Ko.Track=function(){function a(){this.fromJs=p(this.fromJs,this),this.factory=p(this.factory,this)}return a.prototype.factory=function(a){var b,c,d,e,f,g,h,i,j;if(!a)return a;if(a._class){c=a._class.replace(/\\/g,".");try{g=Maslosoft.Ko.objByName(c)}catch(k){b=k,console.warn("Could not resolve class name `"+c+"`")}if(g)return new g(a);console.warn("Class `"+c+"` not found, using default object"),console.debug(a)}if("object"==typeof a)if(a=ko.track(a,{deep:!0}),Array.isArray(a))for(d=i=0,j=a.length;j>i;d=++i)e=a[d],a[d]=this.factory(e);else for(f in a)h=a[f],a[f]=this.factory(h);return a},a.prototype.fromJs=function(a,b){var c,d,e;e=[];for(c in b)d=b[c],e.push("object"==typeof d?a[c]?this.fromJs(a[c],d):a[c]=this.factory(d):a[c]=d);return e},a}(),ko.tracker=new this.Maslosoft.Ko.Track,window.Proxy||(console.warn("Your browser does not support Proxy, will not work properly in some cases..."),window.Proxy=function(){function a(){}return a}()),a=function(){function a(a,b){this.parent=a,this.field=b}return a.prototype.set=function(a,b,c){var d,e,f;return f=!1,a[b]!==c&&(f=!0),e=Object.keys(a).length,a[b]=c,d=Object.keys(a).length,e!==d&&(f=!0),f&&ko.valueHasMutated(this.parent,this.field),!0},a.prototype.deleteProperty=function(a,b){return delete a[b],ko.valueHasMutated(this.parent,this.field),!0},a}(),k=WeakMap?new WeakMap:new Map,this.Maslosoft.Ko.Balin.Model=function(){function b(b){var c,d,e;null==b&&(b=null),c=k.get(this);for(d in this)e=this[d],l(this[d])&&(this[d]={}),Array.isArray(this[d])&&(this[d]=[]);if(!c){k.set(this,!0);for(d in this)e=this[d],this[d]=ko.tracker.factory(e),l(this[d])&&(this[d]=new Proxy(this[d],new a(this,d)))}for(d in b)e=b[d],this[d]=ko.tracker.factory(e);for(d in this)e=this[d],l(this[d])&&(this[d]=new Proxy(this[d],new a(this,d)));ko.track(this,{deep:!0})}return b}()}).call(this);